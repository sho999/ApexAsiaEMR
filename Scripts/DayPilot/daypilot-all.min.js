/*
DayPilot Pro
Copyright (c) 2005 - 2013 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 215
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotBubble==='undefined'){var DayPilotBubble=DayPilot.BubbleVisible={};};(function(){if(typeof DayPilot.Bubble!=='undefined'){return;};var DayPilotBubble={};DayPilotBubble.mouseMove=function(ev){if(typeof(DayPilotBubble)==='undefined'){return;};DayPilotBubble.mouse=DayPilotBubble.mousePosition(ev);};DayPilotBubble.mousePosition=function(e){var $a=DayPilot.page(e);$a.clientY=e.clientY;$a.clientX=e.clientX;return $a;};DayPilot.Bubble=function($b){this.v='215';var $c=this;this.backgroundColor="#ffffff";this.border="1px solid #000000";this.corners='Rounded';this.cssOnly=true;this.hideAfter=500;this.loadingText="Loading...";this.animated=true;this.position="EventTop";this.showAfter=500;this.showLoadingLabel=true;this.useShadow=true;this.zIndex=10;this.elements={};this.callBack=function($d){if(this.aspnet()){WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify($d),this.updateView,this,this.callbackError,true);}else{if($d.calendar.internal.bubbleCallBack){$d.calendar.internal.bubbleCallBack($d,this);}else{$d.calendar.bubbleCallBack($d,this);}}};this.callbackError=function($a,$e){alert($a);};this.updateView=function($a,$e){if($c!==$e){throw "Callback object mismatch (internal error)";};DayPilotBubble.active=$c;if($c){if($c.elements.inner){$c.elements.inner.innerHTML=$a;};$c.adjustPosition();if(!$c.animated){$c.addShadow();}}};this.init=function(){DayPilot.re(document.body,'mousemove',DayPilotBubble.mouseMove);};this.aspnet=function(){return(typeof WebForm_DoCallback!=='undefined');};this.rounded=function(){return this.corners==='Rounded';};this.showEvent=function(e,$f){var a=new DayPilotBubble.CallBackArgs(e.calendar||e.root,'Event',e,e.bubbleHtml?e.bubbleHtml():null);if($f){this.show(a);}else{this.showOnMouseOver(a);}};this.showCell=function($g){var a=new DayPilotBubble.CallBackArgs($g.calendar||$g.root,'Cell',$g,$g.staticBubbleHTML?$g.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showTime=function($h){var a=new DayPilotBubble.CallBackArgs($h.calendar||$h.root,'Time',$h,$h.staticBubbleHTML?$h.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showResource=function($i){var a=new DayPilotBubble.CallBackArgs($i.calendar||$i.root,'Resource',$i,$i.staticBubbleHTML?$i.staticBubbleHTML():null);this.showOnMouseOver(a);};this.show=function($j){var $k=this.animated;var id;try{id=DayPilot.JSON.stringify($j.object);}catch(e){return;};if(DayPilotBubble.active===this&&this.sourceId===id){return;};if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.active){return;};DayPilotBubble.hideActive();DayPilotBubble.active=this;this.sourceId=id;var $l=document.createElement("div");$l.setAttribute("unselectable","on");if(!this.showLoadingLabel){$l.style.display='none';};document.body.appendChild($l);$l.style.position='absolute';if(!this.cssOnly){if(this.width){$l.style.width=this.width;};$l.style.cursor='default';}else{$l.className=this.prefixCssClass("_main");};$l.style.top='0px';$l.style.left='0px';$l.style.zIndex=this.zIndex+1;if($k){$l.style.visibility='hidden';};$l.onclick=function(){DayPilotBubble.hideActive();};$l.onmouseover=function(){DayPilotBubble.cancelTimeout();};$l.oncontextmenu=function(){return false;};$l.onmouseout=this.delayedHide;var $m=document.createElement("div");$l.appendChild($m);if(this.cssOnly){$m.className=this.prefixCssClass("_main_inner");}else{$m.style.padding='4px';if(this.border){$m.style.border=this.border;};if(this.rounded()){$m.style.MozBorderRadius="5px";$m.style.webkitBorderRadius="5px";$m.style.borderRadius="5px";};$m.style.backgroundColor=this.backgroundColor;};$m.innerHTML=this.loadingText;this.elements.div=$l;this.elements.inner=$m;if(this.position==="EventTop"&&$j.type==='Event'&&$j.calendar&&$j.calendar.internal.findEventDiv){var $n=2;var event=$j.object;var $o=$j.calendar;var $l=$o.internal.findEventDiv(event);if(!$l){return;};var $p=DayPilot.abs($l,true);this.mouse=DayPilotBubble.mouse;this.mouse.x=$p.x;this.mouse.y=$p.y;this.mouse.h=$p.h+2;this.mouse.w=$p.w;}else{this.mouse=DayPilotBubble.mouse;};if(this.showLoadingLabel&&!$k){this.adjustPosition();this.addShadow();};if($j.staticHTML){this.updateView($j.staticHTML,this);}else if(typeof this.onLoad==='function'){var $d={};$d.source=$j.object;$d.async=false;$d.loaded=function(){if(this.async){$c.updateView($d.html,$c);}};this.onLoad($d);if(!$d.async){$c.updateView($d.html,$c);}}else{this.callBack($j);}};this.prefixCssClass=function($q){if(this.cssClassPrefix){return this.cssClassPrefix+$q;}else{return "";}};this.loadingElement=null;this.loadingStart=function($p){};this.loadingStop=function(){};this.adjustPosition=function(){var $k=this.animated;var $r=this.position;var $s=10;if(!this.elements.div){return;};if(!this.mouse.x||!this.mouse.y){DayPilotBubble.hideActive();return;};var $l=this.elements.div;$l.style.display='';var $t=$l.offsetHeight;var $u=$l.offsetWidth;$l.style.display='none';var wd=DayPilot.wd();var $v=wd.width;var $w=wd.height;if($r==='Mouse'){var $x=22;var $y=10;if(this.mouse.clientY>$w-$t+$s){var $z=this.mouse.clientY-($w-$t)+$s;$l.style.top=(this.mouse.y-$t-$y)+'px';}else{$l.style.top=this.mouse.y+$x+'px';};if(this.mouse.clientX>$v-$u+$s){var $A=this.mouse.clientX-($v-$u)+$s;$l.style.left=(this.mouse.x-$A)+'px';}else{$l.style.left=this.mouse.x+'px';}}else if($r==='EventTop'){var $B=2;var top=this.mouse.y-$t-$B;var $C=wd.scrollTop;if(top<$C){top=this.mouse.y+this.mouse.h+$B;};$l.style.top=top+'px';var $D=this.mouse.x;if(this.mouse.x+$u+$s>$v){$D=$v-$u-$s;};$l.style.left=$D+'px';};$l.style.display='';if($k){$l.style.display='';var $E={};$E.color=$l.firstChild.style.color;$E.overflow=$l.style.overflow;$l.firstChild.style.color="transparent";$l.style.overflow='hidden';this.removeShadow();DayPilot.pop($l,{"finished":function(){$l.firstChild.style.color=$E.color;$l.style.overflow=$E.overflow;$c.addShadow();},"vertical":"bottom","horizontal":"left"});}};this.delayedHide=function(){DayPilotBubble.cancelTimeout();if($c.hideAfter>0){DayPilotBubble.timeout=window.setTimeout(DayPilotBubble.hideActive,$c.hideAfter);}};this.showOnMouseOver=function($j){DayPilotBubble.cancelTimeout();var $F=function($G){return function(){$c.show($G);};};DayPilotBubble.timeout=window.setTimeout($F($j),this.showAfter);};this.hideOnMouseOut=function(){this.delayedHide();};this.addShadow=function(){if(!this.useShadow){return;};if(this.cssOnly){return;};if(!this.elements.div){return;};var $l=this.elements.div;if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $H=document.createElement('div');$H.setAttribute("unselectable","on");$H.style.position='absolute';$H.style.width=$l.offsetWidth+'px';$H.style.height=$l.offsetHeight+'px';$H.style.top=$l.offsetTop+i+'px';$H.style.left=$l.offsetLeft+i+'px';$H.style.zIndex=this.zIndex;$H.style.filter='alpha(opacity:10)';$H.style.opacity=0.1;$H.style.backgroundColor='#000000';if(this.rounded()){$H.style.MozBorderRadius="5px";$H.style.webkitBorderRadius="5px";$H.style.borderRadius="5px";};document.body.appendChild($H);this.shadows.push($H);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};this.removeDiv=function(){if(!this.elements.div){return;};document.body.removeChild(this.elements.div);this.elements.div=null;};if($b){for(var name in $b){this[name]=$b[name];}};this.init();};DayPilotBubble.cancelTimeout=function(){if(DayPilotBubble.timeout){window.clearTimeout(DayPilotBubble.timeout);}};DayPilotBubble.hideActive=function(){DayPilotBubble.cancelTimeout();var $c=DayPilotBubble.active;if($c){$c.removeDiv();$c.removeShadow();};DayPilotBubble.active=null;};DayPilotBubble.CallBackArgs=function($o,$I,$J,$K){this.calendar=$o;this.type=$I;this.object=$J;this.staticHTML=$K;this.toJSON=function(){var $L={};$L.uid=this.calendar.uniqueID;$L.type=this.type;$L.object=$J;return $L;};};DayPilot.BubbleVisible.Bubble=DayPilotBubble.Bubble;DayPilot.BubbleVisible.hideActive=DayPilotBubble.hideActive;DayPilot.BubbleVisible.cancelTimeout=DayPilotBubble.cancelTimeout;DayPilot.Bubble.hideActive=DayPilotBubble.hideActive;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotCalendar==='undefined'){var DayPilotCalendar=DayPilot.CalendarVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id){this.v='215';var $a=false;if(this instanceof DayPilot.Calendar&&!this.$3k){$a=true;this.$3k=true;};if(!$a){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $b=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.clientName=id;this.clientState={};this.$3l={};this.$3l.pixels={};this.elements={};this.elements.events=[];this.nav={};this.events={};this.hideUntilInit=true;this.afterRender=function(){};this.fasterDispose=true;this.allDayEventBorderColor="#000000";this.allDayEventFontFamily='Tahoma';this.allDayEventFontSize='8pt';this.allDayEventFontColor="#000000";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#999999";this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.cornerBackColor="#ECE9D8";this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.deleteImageUrl=null;this.durationBarColor='blue';this.durationBarVisible=true;this.durationBarWidth=5;this.durationBarImageUrl=null;this.eventArrangement="SideBySide";this.eventBackColor='#ffffff';this.eventBorderColor="#000000";this.eventFontFamily='Tahoma';this.eventFontSize='8pt';this.eventFontColor="#000000";this.eventSelectColor='blue';this.headerFontSize='10pt';this.headerFontFamily='Tahoma';this.headerFontColor="#000000";this.headerHeight=21;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hourHalfBorderColor="#F3E4B1";this.hourBorderColor="#EAD098";this.hourFontColor="#000000";this.hourFontFamily="Tahoma";this.hourFontSize="16pt";this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.hourWidth=45;this.initScrollPos=0;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Top";this.notifyCommit='Immediate';this.numberFormat="0.00";this.roundedCorners=false;this.rtl=false;this.selectedColor="#316AC5";this.shadow='Fill';this.showToolTip=true;this.showAllDayEvents=false;this.showAllDayEventStartEnd=true;this.showHeader=true;this.showHours=true;this.startDate=new DayPilot.Date().getDatePart();this.timeFormat='Clock12Hours';this.timeHeaderCellDuration=60;this.useEventBoxes='Always';this.useEventSelectionBars=false;this.viewType='Days';this.timeRangeSelectedHandling='Disabled';this.eventClickHandling='Disabled';this.eventDoubleClickHandling='Disabled';this.eventRightClickHandling='Disabled';this.eventDeleteHandling='Disabled';this.eventEditHandling='Disabled';this.eventHoverHandling='Bubble';this.eventResizeHandling='Disabled';this.eventMoveHandling='Disabled';this.headerClickHandling='Disabled';this.transparent=false;this.separateEventsTable=true;this.autoRefreshCount=0;this.doubleClickTimeout=100;this.$3m={};this.$3m.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$3m.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$3m.opera105=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$3m.webkit522=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.$3m.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};for(var j=0;j<this.selectedCells.length;j++){var $c=this.selectedCells[j];if($c){if($c.selected){$c.removeChild($c.selected);$c.firstChild.style.display='';$c.selected=null;}}};this.selectedCells=[];};this.cleanSelection=this.clearSelection;this.$3n=function($d,$e,$f){var $g={};$g.action=$d;$g.parameters=$f;$g.data=$e;$g.header=this.$3o();var $h="JSON"+DayPilot.JSON.stringify($g);__doPostBack($b.uniqueID,$h);};this.$3p=function($d,$f,$e,$i){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $i==='undefined'){$i="CallBack";};this.callbackTimeout=window.setTimeout(function(){$b.$3q();},100);var $g={};$g.action=$d;$g.type=$i;$g.parameters=$f;$g.data=$e;$g.header=this.$3o();var $h="JSON"+DayPilot.JSON.stringify($g);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$3r,$h,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$h,this.$3s,this.clientName,this.onCallbackError,true);}};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$3t();c.$3u();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.header)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$3v();c.$3w();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$3x);DayPilotCalendar.unregister(c);};this.$3y=function(){var $j=document.getElementById(id);$j.dispose=this.dispose;};this.$3r=function($k){$b.$3s($k.responseText);};this.$3o=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$b.clientState;h.columns=this.$3z();h.days=$b.days;h.startDate=$b.startDate;h.cellDuration=$b.cellDuration;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.heightSpec=$b.heightSpec;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.viewType=$b.viewType;h.dayBeginsHour=$b.dayBeginsHour;h.dayEndsHour=$b.dayEndsHour;h.headerLevels=$b.headerLevels;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.eventHeaderVisible=$b.eventHeaderVisible;h.timeFormat=$b.timeFormat;h.timeHeaderCellDuration=$b.timeHeaderCellDuration;h.locale=$b.locale;h.showAllDayEvents=$b.showAllDayEvents;h.tagFields=$b.tagFields;h.hourNameBackColor=$b.hourNameBackColor;h.hourFontFamily=$b.hourFontFamily;h.hourFontSize=$b.hourFontSize;h.hourFontColor=$b.hourFontColor;h.selected=$b.multiselect.events();h.hashes=$b.hashes;return h;};this.$3A=function(){this.$3B();DayPilot.Areas.hideAll();};this.$3z=function(){var $l=[];$l.ignoreToJSON=true;if(!this.columns){return $l;};for(var i=0;i<this.columns.length;i++){var $m=this.columns[i];var $n=this.$3C($m);$l.push($n);};return $l;};this.$3C=function($m){var $n={};$n.Value=$m.Value;$n.Name=$m.Name;$n.ToolTip=$m.ToolTip;$n.Date=$m.Start;$n.Children=this.$3D($m.Children);return $n;};this.$3D=function($o){var $p=[];$p.ignoreToJSON=true;if(!$o){return $p;};for(var i=0;i<$o.length;i++){$p.push(this.$3C($o[i]));};return $p;};this.$3s=function($q,$r){var $q=eval("("+$q+")");if($q.BubbleGuid){var $s=$q.BubbleGuid;var $t=this.bubbles[$s];delete this.bubbles[$s];$b.$3E();if(typeof $q.Result.BubbleHTML!=='undefined'){$t.updateView($q.Result.BubbleHTML,$t);};return;};if($q.CallBackRedirect){document.location.href=$q.CallBackRedirect;return;};if(typeof $q.ClientState!=='undefined'){$b.clientState=$q.ClientState;};if($q.UpdateType==="None"){$b.$3E();$b.$3F($q.CallBackData,true);if($q.Message){$b.message($q.Message);};return;};if($q.VsUpdate){var $u=document.createElement("input");$u.type='hidden';$u.name=$b.id+"_vsupdate";$u.id=$u.name;$u.value=$q.VsUpdate;$b.nav.vsph.innerHTML='';$b.nav.vsph.appendChild($u);};$b.$3u();$b.multiselect.clear(true);$b.multiselect.$3G=$q.SelectedEvents;if(typeof $q.TagFields!=='undefined'){$b.tagFields=$q.TagFields;};if(typeof $q.SortDirections!=='undefined'){$b.sortDirections=$q.SortDirections;};if($q.UpdateType==="Full"){$b.colors=$q.Colors;$b.palette=$q.Palette;$b.dirtyColors=$q.DirtyColors;$b.cellProperties=$q.CellProperties;$b.cellConfig=$q.CellConfig;$b.columns=$q.Columns;$b.days=$q.Days;$b.startDate=new DayPilot.Date($q.StartDate).getDatePart();$b.cellDuration=$q.CellDuration;$b.heightSpec=$q.HeightSpec?$q.HeightSpec:$b.heightSpec;$b.businessBeginsHour=$q.BusinessBeginsHour?$q.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$q.BusinessEndsHour?$q.BusinessEndsHour:$b.businessEndsHour;$b.viewType=$q.ViewType;$b.headerLevels=$q.HeaderLevels;$b.backColor=$q.BackColor?$q.BackColor:$b.backColor;$b.nonBusinessBackColor=$q.NonBusinessBackColor?$q.NonBusinessBackColor:$b.nonBusinessBackColor;$b.eventHeaderVisible=$q.EventHeaderVisible?$q.EventHeaderVisible:$b.eventHeaderVisible;$b.timeFormat=$q.TimeFormat?$q.TimeFormat:$b.timeFormat;$b.timeHeaderCellDuration=typeof $q.TimeHeaderCellDuration!=='undefined'?$q.TimeHeaderCellDuration:$b.timeHeaderCellDuration;$b.locale=$q.Locale?$q.Locale:$b.locale;$b.dayBeginsHour=typeof $q.DayBeginsHour!=='undefined'?$q.DayBeginsHour:$b.dayBeginsHour;$b.dayEndsHour=typeof $q.DayEndsHour!=='undefined'?$q.DayEndsHour:$b.dayEndsHour;$b.cornerBackColor=$q.CornerBackColor;$b.cornerHTML=$q.CornerHTML;$b.hours=$q.Hours;$b.$3H();$b.$3I();};if($q.Hashes){for($v in $q.Hashes){$b.hashes[$v]=$q.Hashes[$v];}};$b.$3J($q.Events);$b.$3K();if($q.UpdateType==="Full"||$b.hideFreeCells){$b.$3L();$b.$3M();$b.$3N();$b.$3O();$b.$3P();$b.$3Q();$b.$3R();$b.$3S();$b.clearSelection();};$b.$3T();$b.$3U();$b.$3V();if($b.timeRangeSelectedHandling!=="HoldForever"){$b.clearSelection();};$b.$3W();if($b.todo){if($b.todo.del){var $w=$b.todo.del;$w.parentNode.removeChild($w);$b.todo.del=null;}};$b.$3F($q.CallBackData,true);$b.$3E();$b.$3X();if($q.Message){$b.message($q.Message);}};this.$3F=function($e,$x){var $y=function($e,$z){return function(){if($b.afterRender){$b.afterRender($e,$z);}};};window.setTimeout($y($e,$x),0);};this.$3Y=function($A,$B,$i){var $C=$b.nav.events;var $D=$C.clientWidth/$C.rows[0].cells.length;var i=Math.floor(($b.coords.x-45)/$D);if(i<0){i=0;};var $m=$C.rows[0].cells[i];var $E=0;if(typeof $A.duration!=='undefined'){var $F=$A.duration;var top=Math.floor((($b.coords.y-$E)+$b.cellHeight/ 2)/ $b.cellHeight)*$b.cellHeight+$E;var $G=$F*$b.cellHeight/(60*$b.cellDuration);}else{var e=$A.event;var $G=e.part.height;var top=e.part.top;};var $H=document.createElement('div');$H.setAttribute('unselectable','on');$H.style.position='absolute';$H.style.width='100%';$H.style.height=$G+'px';$H.style.left='0px';$H.style.top=top+'px';$H.style.zIndex=101;$H.exclude=true;var $I=document.createElement("div");$H.appendChild($I);if(this.cssOnly){$H.className=$b.$3Z("_shadow");$I.className=this.$3Z("_shadow_inner");};if(!this.cssOnly){$I.style.position="absolute";$I.style.top="0px";$I.style.bottom="0px";$I.style.left="0px";$I.style.right="0px";if($i==='Fill'){$I.style.backgroundColor="#aaaaaa";$I.style.opacity=0.5;$I.style.filter="alpha(opacity=50)";$I.style.border='2px solid #aaaaaa';}else{$I.style.border='2px dotted #666666';};if(this.roundedCorners){$I.style.MozBorderRadius="5px";$I.style.webkitBorderRadius="5px";$I.style.borderRadius="5px";}};$m.firstChild.appendChild($H);return $H;};this.$40=function(){return this.$41()/(3600*1000);};this.$42=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$43=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$41=function($J){var $K=0;if(this.heightSpec==='BusinessHoursNoScroll'){$K=this.$42();}else if(this.hideFreeCells&&!$J){var $L=(this.maxEnd-1)*this.cellDuration/this.cellHeight;var $M=Math.ceil($L/60);$K=Math.max(this.dayBeginsHour+$M,this.businessEndsHour)-this.$44();}else{$K=this.$43();};return $K*60*60*1000;};this.message=function($N,$O,$P,$Q){if(!$N){return;};var $O=$O||this.messageHideAfter||2000;var $P=$P||"#ffffff";var $Q=$Q||"#000000";var $R=0.8;var $S;var top=this.$45();var $T=this.hourWidth;var $U=DayPilot.sw($b.nav.scroll);if(!this.cssOnly){top+=1;$T+=2;$U-=2;};if(!this.nav.message){$S=document.createElement("div");$S.style.position="absolute";$S.style.left="0px";$S.style.top=(top)+"px";$S.style.right="0px";$S.style.display='none';$S.style.paddingLeft=($T)+"px";var $I=document.createElement("div");$I.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$I.style.padding="5px";$I.style.opacity=$R;$I.style.filter="alpha(opacity="+($R*100)+")";}else{$I.className=this.$3Z("_message");};$S.appendChild($I);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$P;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$3Z("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$S.appendChild(close);this.nav.top.insertBefore($S,this.nav.loading);this.nav.message=$S;this.nav.messageClose=close;}else{this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.paddingRight=$U+"px";}else{this.nav.message.style.paddingRight="0px";};var $V=function(){var $I=$b.nav.message.firstChild;if(!$b.cssOnly){$I.style.padding="5px";$I.style.opacity=$R;$I.style.backgroundColor=$Q;$I.style.color=$P;};$I.innerHTML=$N;var end=function(){$b.messageTimeout=setTimeout($b.$46,$O);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$V);}else{$V();}};this.message.show=function($N){$b.message($N);};this.message.hide=function(){$b.$46();};this.$46=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.$3O=function(){if(this.nav.message){this.nav.message.style.top=(this.$45())+"px";}};this.$47=function(){return this.$41()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$e){this.$3n('EventClick',$e,e);};this.eventClickCallBack=function(e,$e){this.$3p('EventClick',e,$e);};this.$48=function(e){var $S=this;var e=e||window.event;var $W=e.ctrlKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($b.eventDoubleClickHandling==='Disabled'){$b.$49($S,$W);return;};if(!$b.timeouts){$b.timeouts=[];}else{for(var $X in $b.timeouts){window.clearTimeout($b.timeouts[$X]);};$b.timeouts=[];};var $Y=function($S,$W){return function(){$b.$49($S,$W);};};$b.timeouts.push(window.setTimeout($Y(this,$W),$b.doubleClickTimeout));};this.$49=function($Z,$W){var e=$Z.event;if(!e.client.clickEnabled()){return;};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$4a($Z);};break;case 'Select':if(!e.allday()){$b.$4b($Z,$W);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $00=e.client.contextMenu();if($00){$00.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;}};this.eventDoubleClickPostBack=function(e,$e){this.$3n('EventDoubleClick',$e,e);};this.eventDoubleClickCallBack=function(e,$e){this.$3p('EventDoubleClick',e,$e);};this.$4c=function(){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $X in $b.timeouts){window.clearTimeout($b.timeouts[$X]);};$b.timeouts=null;};var e=this.event;switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$b.$4a(this);};break;case 'Select':if(!e.allday()){$b.$4b(this);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};this.eventRightClickPostBack=function(e,$e){this.$3n('EventRightClick',$e,e);};this.eventRightClickCallBack=function(e,$e){this.$3p('EventRightClick',e,$e);};this.$4d=function(){var e=this.event;if(!e.client.rightClickEnabled()){return false;};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $00=e.client.contextMenu();if($00){$00.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};return false;};this.headerClickPostBack=function(c,$e){this.$3n('HeaderClick',$e,c);};this.headerClickCallBack=function(c,$e){this.$3p('HeaderClick',c,$e);};this.$4e=function($A){var $e=this.data;var c=new DayPilotCalendar.Column($e.Value,$e.Name,$e.Start);switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;case 'JavaScript':$b.onHeaderClick(c);break;}};this.$4f=function(){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){if($b.viewType==="Resources"){var $01={};$01.calendar=$b;$01.id=this.data.Value;$01.toJSON=function(){var $02={};$02.id=this.id;return $02;};$b.columnBubble.showResource($01);}else{var $03=new DayPilot.Date(this.data.Start);var end=$03.addDays(1);var $04={};$04.calendar=$b;$04.start=$03;$04.end=end;$04.toJSON=function(){var $02={};$02.start=this.start;$02.end=this.end;return $02;};$b.columnBubble.showTime($04);}};var $c=this;var $S=$c.firstChild;if(!$S.active){var $e=$c.data;var c=new DayPilotCalendar.Column($e.Value,$e.Name,$e.Start);c.areas=$c.data.Areas;DayPilot.Areas.showAreas($S,c);}};this.$4g=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){$b.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$e){this.$3n('EventDelete',$e,e);};this.eventDeleteCallBack=function(e,$e){this.$3p('EventDelete',e,$e);};this.$4h=function($A){var e=$A.parentNode.parentNode.event;switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;case 'JavaScript':$b.onEventDelete(e);break;}};this.eventResizePostBack=function(e,$05,$06,$e){if(!$05){throw 'newStart is null';};if(!$06){throw 'newEnd is null';};var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$3n('EventResize',$e,$07);};this.eventResizeCallBack=function(e,$05,$06,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$3p('EventResize',$07,$e);};this.$4i=function($i,$d,$07,$e){if($i==='PostBack'){$b.postBack2($d,$07,$e);}else if($i==='CallBack'){$b.$3p($d,$07,$e,"CallBack");}else if($i==='Immediate'){$b.$3p($d,$07,$e,"Notify");}else if($i==='Queue'){$b.queue.add(new DayPilot.Action(this,$d,$07,$e));}else if($i==='Notify'){if($08.notifyType()==='Notify'){$b.$3p($d,$07,$e,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$d,$07,$e));}}else{throw "Invalid event invocation type";}};this.$44=function($J){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$J){var $L=(this.minStart-1)*this.cellDuration/this.cellHeight;var $M=Math.floor($L/60);return Math.min(this.dayBeginsHour+$M,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.$4j=function(e,$09,$0a,$0b){var $E=0;var $05=new Date();var $06=new Date();var $03=e.start();var end=e.end();var $0c=$b.cellDuration;if($0b==='top'){var $0d=$03.getDatePart();var $0e=Math.floor(($0a-$E)/$b.cellHeight);var $0f=$0e*$0c;var ts=$0f*60*1000;var $0g=$b.$44()*60*60*1000;$05=$0d.addTime(ts+$0g);$06=e.end();}else if($0b==='bottom'){var $0d=end.getDatePart();var $0e=Math.floor(($0a+$09-$E)/$b.cellHeight);var $0f=$0e*$0c;var ts=$0f*60*1000;var $0g=$b.$44()*60*60*1000;$05=$03;$06=$0d.addTime(ts+$0g);};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$05,$06);break;case 'CallBack':$b.eventResizeCallBack(e,$05,$06);break;case 'JavaScript':$b.onEventResize(e,$05,$06);break;case 'Notify':$b.eventResizeNotify(e,$05,$06);break;}};this.eventResizeNotify=function(e,$05,$06,$e){var $0h=new DayPilot.Event(e.copy(),this);e.start($05);e.end($06);e.commit();$b.update();this.$4k("Notify",$0h,$05,$06,$e);};this.$4k=function($i,e,$05,$06,$e){var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$4i($i,"EventResize",$07,$e);};this.eventMovePostBack=function(e,$05,$06,$0i,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$3n('EventMove',$e,$07);};this.eventMoveCallBack=function(e,$05,$06,$0i,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$3p('EventMove',$07,$e);};this.$4l=function(e,$0j,$0a,ev,$0k){var $E=0;var $0e=Math.floor(($0a-$E)/$b.cellHeight);var $0c=$b.cellDuration;var $0l=$0e*$0c*60*1000;var $03=e.start();var end=e.end();var $0d=new Date();if($03.isDayPilotDate){$03=$03.d;};$0d.setTime(Date.UTC($03.getUTCFullYear(),$03.getUTCMonth(),$03.getUTCDate()));var $0m=($b.useEventBoxes!=='Never')?$03.getTime()-($0d.getTime()+$03.getUTCHours()*3600*1000+Math.floor($03.getUTCMinutes()/$0c)*$0c*60*1000):0;var length=end.getTime()-$03.getTime();var $0g=$b.$44()*3600*1000;var $0n=this.columnsBottom[$0j];var $0o=$0n.Start.getTime();var $0p=new Date();$0p.setTime($0o+$0l+$0m+$0g);var $05=new DayPilot.Date($0p);var $06=$05.addTime(length);switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$05,$06,$0n.Value);break;case 'CallBack':$b.eventMoveCallBack(e,$05,$06,$0n.Value);break;case 'JavaScript':$b.onEventMove(e,$05,$06,$0n.Value,$0k?true:false,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$b.eventMoveNotify(e,$05,$06,$0n.Value,null);break;}};this.eventMoveNotify=function(e,$05,$06,$0i,$e){var $0h=new DayPilot.Event(e.copy(),this);e.start($05);e.end($06);e.resource($0i);e.commit();$b.update();this.$4m("Notify",$0h,$05,$06,$0i,$e);};this.$4m=function($i,e,$05,$06,$0i,$e){var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$4i($i,"EventMove",$07,$e);};this.$4n=function($0q,$t){var $s=$b.$4o($t);var $07={};$07.args=$0q;$07.guid=$s;$b.$3p("Bubble",$07);};this.$4o=function($t){var $s=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$s]=$t;return $s;};this.eventMenuClickPostBack=function(e,$0r,$e){var $07={};$07.e=e;$07.command=$0r;this.$3n('EventMenuClick',$e,$07);};this.eventMenuClickCallBack=function(e,$0r,$e){var $07={};$07.e=e;$07.command=$0r;this.$3p('EventMenuClick',$07,$e);};this.$4p=function($0r,e,$0s){switch($0s){case 'PostBack':$b.eventMenuClickPostBack(e,$0r);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0r);break;}};this.timeRangeMenuClickPostBack=function(e,$0r,$e){var $07={};$07.selection=e;$07.command=$0r;this.$3n("TimeRangeMenuClick",$e,$07);};this.timeRangeMenuClickCallBack=function(e,$0r,$e){var $07={};$07.selection=e;$07.command=$0r;this.$3p("TimeRangeMenuClick",$07,$e);};this.$4q=function($0r,e,$0s){switch($0s){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0r);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0r);break;}};this.timeRangeSelectedPostBack=function($03,end,$0t,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$0t;this.$3n('TimeRangeSelected',$e,$0u);};this.timeRangeSelectedCallBack=function($03,end,$0t,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$0t;this.$3p('TimeRangeSelected',$0u,$e);};this.$4r=function($03,end,$m){if(!$03.isDayPilotDate){$03=new DayPilot.Date($03);};if(!end.isDayPilotDate){end=new DayPilot.Date(end);};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($03,end,$m);break;case 'CallBack':$b.timeRangeSelectedCallBack($03,end,$m);break;case 'JavaScript':$b.onTimeRangeSelected($03,end,$m);break;}};this.timeRangeDoubleClickPostBack=function($03,end,$m,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$m;this.$3n('TimeRangeDoubleClick',$e,$0u);};this.timeRangeDoubleClickCallBack=function($03,end,$m,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$m;this.$3p('TimeRangeDoubleClick',$0u,$e);};this.$4s=function($03,end,$m){switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($03,end,$m);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($03,end,$m);break;case 'JavaScript':$b.onTimeRangeDoubleClick($03,end,$m);break;}};this.eventEditPostBack=function(e,$0v,$e){var $07={};$07.e=e;$07.newText=$0v;this.$3n("EventEdit",$e,$07);};this.eventEditCallBack=function(e,$0v,$e){var $07={};$07.e=e;$07.newText=$0v;this.$3p("EventEdit",$07,$e);};this.$4t=function(e,$0v){switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0v);break;case 'CallBack':$b.eventEditCallBack(e,$0v);break;case 'JavaScript':$b.onEventEdit(e,$0v);break;}};this.eventSelectPostBack=function(e,$0w,$e){var $07={};$07.e=e;$07.change=$0w;this.$3n('EventSelect',$e,$07);};this.eventSelectCallBack=function(e,$0w,$e){var $07={};$07.e=e;$07.change=$0w;this.$3p('EventSelect',$07,$e);};this.$4u=function(e,$0w){switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0w);break;case 'CallBack':__theFormPostData="";__theFormPostCollection=[];if(WebForm_InitCallback){WebForm_InitCallback();};$b.eventSelectCallBack(e,$0w);break;case 'JavaScript':$b.onEventSelect(e,$0w);break;}};this.commandCallBack=function($0r,$e){this.$3t();var $07={};$07.command=$0r;this.$3p('Command',$07,$e);};this.$4v=function(ev){clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilotCalendar.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($b.selectedCells&&$b.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$b.selectedCells.length;i++){if(this===$b.selectedCells[i]){return;}}};if($b.timeRangeSelectedHandling==="Disabled"){return;};var $0x=(window.event)?window.event.button:ev.which;if($0x!==1&&$0x!==0){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);$b.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;};this.$4w=function(){var $0y=this.getSelection();for(var j=0;j<$b.selectedCells.length;j++){var $c=$b.selectedCells[j];if($c&&!$c.selected){var $S=document.createElement("div");$S.style.height=($b.cellHeight-1)+"px";$S.style.backgroundColor=$b.selectedColor;$c.firstChild.style.display="none";$c.insertBefore($S,$c.firstChild);$c.selected=$S;}}};this.$4x=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){$b.cellBubble.hideOnMouseOut();}};this.$4y=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){var $m=DayPilotCalendar.getColumn(this);var $01=$b.columnsBottom[$m].Value;var $c={};$c.calendar=$b;$c.start=this.start;$c.end=this.end;$c.resource=$01;$c.toJSON=function(){var $02={};$02.start=this.start;$02.end=this.end;$02.resource=this.resource;return $02;};$b.cellBubble.showCell($c);};if(DayPilotCalendar.firstMousePos){var $0z=DayPilotCalendar.firstMousePos;var $0A=DayPilot.mc(ev||window.event);if($0z.x!==$0A.x||$0z.y!==$0A.y){DayPilotCalendar.selecting=true;$b.clearSelection();$b.$4w();}};if(!DayPilotCalendar.selecting){return;};var $0B=DayPilot.mc(ev||window.event);var $0C=DayPilotCalendar.getColumn(this);if($0C!==DayPilotCalendar.column){return;};$b.clearSelection();if($0B.y<DayPilotCalendar.firstMousePos.y){$b.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4w();};this.getSelection=function(){var $03=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $0D=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($03,end,$0D,$b);};this.$4z=function(ev){if(DayPilotCalendar.firstMousePos){var $0E=function(){DayPilotCalendar.selecting=true;$b.$4w();DayPilotCalendar.firstMousePos=null;DayPilotCalendar.selecting=false;var $0F=$b.getSelection();$b.$4r($0F.start,$0F.end,$0F.resource);};if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){$0E();}else{DayPilotCalendar.selectedTimeout=setTimeout($0E,100);}}else{DayPilotCalendar.selecting=false;}};this.$4A=function(ev){if(!$b.initScrollPos){return;};$b.scrollPos=$b.nav.scroll.scrollTop;$b.scrollHeight=$b.nav.scroll.clientHeight;$b.nav.scrollpos.value=$b.scrollPos;$b.$3W();};this.$3W=function(){if(!this.scrollLabelsVisible){return;};if(!this.scrollLabels){return;};var $0G=this.columnsBottom;var $0H=(this.showHours?this.hourWidth:0);var $D=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $0I=1;for(var i=0;i<$0G.length;i++){var $0J=this.nav.scrollUp[i];var $0K=this.nav.scrollDown[i];$0J.style.left=($0H+i*$D+$D/ 2-(iw/ 2)+$0I)+"px";$0K.style.left=($0H+i*$D+$D/ 2-(iw/ 2)+$0I)+"px";};var $0L=this.$4B();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $0M=this.nav.scrollDown[i];var $0N=this.scrollLabels[i].minEnd-$0L;var $0O=this.scrollLabels[i].maxStart-$0L;if(up&&$0M){if($0N<=$b.scrollPos){up.style.top=(this.$45()+2)+"px";up.style.display='';}else{up.style.display='none';};if($0O>=$b.scrollPos+$b.scrollHeight){$0M.style.top=(this.$45()+this.scrollHeight-8)+"px";$0M.style.display='';}else{$0M.style.display='none';}}}};this.$4C=function($A){var $0P=$A.parentNode;while($0P&&$0P.tagName!=="TD"){$0P=$0P.parentNode;};var $0Q=document.createElement('textarea');$0Q.style.position='absolute';$0Q.style.width=($A.parentNode.offsetWidth-2)+'px';$0Q.style.height=($A.offsetHeight-2)+'px';var $0R=DayPilot.gs($A,'fontFamily');if(!$0R)$0R=DayPilot.gs($A,'font-family');$0Q.style.fontFamily=$0R;var $0S=DayPilot.gs($A,'fontSize');if(!$0S)$0S=DayPilot.gs($A,'font-size');$0Q.style.fontSize=$0S;$0Q.style.left='0px';$0Q.style.top=$A.offsetTop+'px';$0Q.style.border='1px solid black';$0Q.style.padding='0px';$0Q.style.marginTop='0px';$0Q.style.backgroundColor='white';$0Q.value=DayPilot.tr($A.event.text());$0Q.event=$A.event;$0P.firstChild.appendChild($0Q);return $0Q;};this.$4b=function($S,$W){var m=$b.multiselect;var e=$S.event;m.$4D=m.events();m.$4E($S,$W);var $0w=m.isSelected(e)?"selected":"deselected";$b.$4u(e,$0w);};this.multiselect={};this.multiselect.$3G=[];this.multiselect.$4F=[];this.multiselect.$4G=[];this.multiselect.$4D=[];this.multiselect.$4H=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0T=[];$0T.ignoreToJSON=true;for(var i=0;i<m.$4F.length;i++){$0T.push(m.$4F[i]);};return $0T;};this.multiselect.$4I=function(){var h=$b.nav.select;h.value=$b.multiselect.$4H();};this.multiselect.$4E=function($S,$0U){var m=$b.multiselect;if(m.isSelected($S.event)){if($b.allowMultiSelect){if($0U){m.remove($S.event,true);}else{var $0V=m.$4F.length;m.clear(true);if($0V>1){m.add($S.event,true);}}}else{m.clear(true);}}else{if($b.allowMultiSelect){if($0U){m.add($S.event,true);}else{m.clear(true);m.add($S.event,true);}}else{m.clear(true);m.add($S.event,true);}};m.redraw();m.$4I();};this.multiselect.$4J=function(ev){var m=$b.multiselect;return m.$4K(ev,m.$3G);};this.multiselect.$4L=function(){var m=$b.multiselect;var $0W=[];for(var i=0;i<m.$4F.length;i++){var event=m.$4F[i];$0W.push(event.value());};alert($0W.join("\n"));};this.multiselect.add=function(ev,$0X){var m=$b.multiselect;if(m.$4M(ev)===-1){m.$4F.push(ev);};m.$4I();if($0X){return;};m.redraw();};this.multiselect.remove=function(ev,$0X){var m=$b.multiselect;var i=m.$4M(ev);if(i!==-1){m.$4F.splice(i,1);};m.$4I();if($0X){return;};m.redraw();};this.multiselect.clear=function($0X){var m=$b.multiselect;m.$4F=[];m.$4I();if($0X){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $S=$b.elements.events[i];if(m.isSelected($S.event)){m.$4N($S);}else{m.$4O($S);}}};this.multiselect.$4N=function($S){var m=$b.multiselect;var cn=$b.cssOnly?$b.$3Z("_selected"):$b.$3Z("selected");var c=m.$4P($S);DayPilot.Util.addClass(c,cn);if($b.useEventSelectionBars){m.$4Q($S);};m.$4G.push($S);};this.multiselect.$4P=function($S){if($b.cssOnly){return $S;};for(var i=0;i<$S.childNodes.length;i++){var c=$S.childNodes[i];if(c.getAttribute("c")==="1"){return c;}};return null;};this.multiselect.$4R=function(){var m=$b.multiselect;for(var i=0;i<m.$4G.length;i++){var $S=m.$4G[i];m.$4O($S,true);};m.$4G=[];};this.multiselect.$4O=function($S,$0Y){var m=$b.multiselect;var cn=$b.cssOnly?$b.$3Z("_selected"):$b.$3Z("selected");var c=m.$4P($S);DayPilot.Util.removeClass(c,cn);if($b.useEventSelectionBars){m.$4S($S);};if($0Y){return;};var i=DayPilot.indexOf(m.$4G,$S);if(i!==-1){m.$4G.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$4K(ev,$b.multiselect.$4F);};this.multiselect.$4M=function(ev){return DayPilot.indexOf($b.multiselect.$4F,ev);};this.multiselect.$4K=function(e,$0W){if(!$0W){return false;};for(var i=0;i<$0W.length;i++){var ei=$0W[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.multiselect.$4Q=function($0Z){var w=5;if(!$0Z.top){var top=document.createElement("div");top.setAttribute("unselectable","on");top.style.position='absolute';top.style.left=$0Z.offsetLeft+'px';top.style.width=$0Z.offsetWidth+'px';top.style.top=($0Z.offsetTop-w)+'px';top.style.height=w+'px';top.style.backgroundColor=$b.eventSelectColor;top.style.zIndex=100;$0Z.parentNode.appendChild(top);$0Z.top=top;};if(!$0Z.bottom){var $10=document.createElement("div");$10.setAttribute("unselectable","on");$10.style.position='absolute';$10.style.left=$0Z.offsetLeft+'px';$10.style.width=$0Z.offsetWidth+'px';$10.style.top=($0Z.offsetTop+$0Z.offsetHeight)+'px';$10.style.height=w+'px';$10.style.backgroundColor=$b.eventSelectColor;$10.style.zIndex=100;$0Z.parentNode.appendChild($10);$0Z.bottom=$10;}};this.multiselect.$4S=function($0Z){if($0Z.top){$0Z.parentNode.removeChild($0Z.top);$0Z.top=null;};if($0Z.bottom){$0Z.parentNode.removeChild($0Z.bottom);$0Z.bottom=null;}};this.$4a=function($A){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $0Q=this.$4C($A);DayPilotCalendar.editing=$0Q;$0Q.onblur=function(){var id=$A.event.value();var $11=$A.event.tag();var $12=$A.event.text();var $0v=$0Q.value;DayPilotCalendar.editing=null;$0Q.parentNode.removeChild($0Q);if($12===$0v){return;};$A.style.display='none';$b.$4t($A.event,$0v);};$0Q.onkeypress=function(e){var $13=(window.event)?event.keyCode:e.keyCode;if($13===13){this.onblur();return false;}else if($13===27){$0Q.parentNode.removeChild($0Q);DayPilotCalendar.editing=false;};return true;};$0Q.select();$0Q.focus();};this.$3H=function(){if(!this.columns){this.columnsBottom=this.$4T();this.$4U(this.columnsBottom);}else{this.$4U(this.columns);this.columnsBottom=this.$4V(this.headerLevels,true);}};this.$4T=function(){var $0G=[];var $03=this.startDate.getDatePart();if(this.heightSpec==='BusinessHoursNoScroll'){$03=$03.addHours(this.businessBeginsHour);};for(var i=0;i<this.days;i++){var $m={};$m.Start=$03.addDays(i);$m.Name=$m.Start.toString($08.locale().datePattern);$m.InnerHTML=$m.Name;$0G.push($m);};return $0G;};this.$4W=function($m){$m.Start=new DayPilot.Date($m.Start);$m.getChildren=function($14,$15){var $0W=[];if($14<=1){$0W.push(this);return $0W;};if(!this.Children||this.Children.length===0){if($15){$0W.push(this);}else{$0W.push("empty");};return $0W;};for(var i=0;i<this.Children.length;i++){var $16=this.Children[i];var $17=$16.getChildren($14-1,$15);for(var j=0;j<$17.length;j++){$0W.push($17[j]);}};return $0W;};$m.getChildrenCount=function($14){var $0V=0;if(!this.Children||this.Children.length<=0||$14<=1){return 1;};for(var i=0;i<this.Children.length;i++){$0V+=this.Children[i].getChildrenCount($14-1);};return $0V;};$m.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $18=this.blocks[i];if($18.overlapsWith(ep.part.top,ep.part.height)){$18.events.push(ep);$18.min=Math.min($18.min,ep.part.top);$18.max=Math.max($18.max,ep.part.top+ep.part.height);return i;}};var $18=[];$18.lines=[];$18.events=[];$18.overlapsWith=function($03,$19){var end=$03+$19-1;if(!(end<this.min||$03>this.max-1)){return true;};return false;};$18.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.top,ep.part.height)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.top||$03>e.part.top+e.part.height-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};$18.events.push(ep);$18.min=ep.part.top;$18.max=ep.part.top+ep.part.height;this.blocks.push($18);return this.blocks.length-1;};$m.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.top,ep.part.height)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.top||$03>e.part.top+e.part.height-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};if($m.Children){this.$4U($m.Children);}};this.$4U=function(cc){for(var i=0;i<cc.length;i++){this.$4W(cc[i]);}};this.$4V=function($14,$15){var $1c=this.columns||this.columnsBottom;var $0W=[];for(var i=0;i<$1c.length;i++){var $p=$1c[i].getChildren($14,$15);for(var j=0;j<$p.length;j++){$0W.push($p[j]);}};return $0W;};this.$3V=function(){if(!this.showAllDayEvents){return;};var $1d=this.nav.header;$1d.style.display='none';var $0G=this.columnsBottom.length;for(var j=0;j<this.allDay.lines.length;j++){var $1b=this.allDay.lines[j];for(var i=0;i<$1b.length;i++){var $e=$1b[i];var $S=document.createElement("div");$S.event=$e;$S.setAttribute("unselectable","on");$S.style.position='absolute';$S.style.left=(100.0*$e.part.colStart/$0G)+"%";$S.style.width=(100.0*$e.part.colWidth/$0G)+"%";$S.style.height=this.allDayEventHeight+'px';if(!this.cssOnly){$S.style.top=(4+this.headerLevels*this.headerHeight+j*(this.allDayEventHeight+2))+"px";}else{$S.className=this.$3Z("_alldayevent");$S.style.top=(this.headerLevels*this.headerHeight+j*(this.allDayEventHeight))+"px";};$S.style.textAlign='left';$S.style.lineHeight="1.2";if($e.client.clickEnabled()){$S.onclick=this.$48;};if($e.client.doubleClickEnabled()){$S.ondblclick=this.$4c;};$S.oncontextmenu=this.$4d;$S.onmousemove=function(ev){var $S=this;if(!$S.active){if($b.cssOnly){DayPilot.Util.addClass($S,$b.$3Z("_alldayevent_hover"));};DayPilot.Areas.showAreas($S,this.event);};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){$b.bubble.showEvent(this.event);}};$S.onmouseout=function(ev){var $S=this;if($b.cssOnly){DayPilot.Util.removeClass($S,$b.$3Z("_alldayevent_hover"));};DayPilot.Areas.hideAreas(this,ev);if($b.bubble){$b.bubble.hideOnMouseOut();}};if(this.showToolTip){$S.title=$e.client.toolTip();};var $1e=$e.start().getTime()===$e.part.start.getTime();var $1f=$e.end().getTime()===$e.part.end.getTime();if(!this.cssOnly){var back=$e.client.backColor();var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.style.marginLeft='2px';$I.style.marginRight='3px';$I.style.paddingLeft='2px';$I.style.height=(this.allDayEventHeight-2)+'px';$I.style.border='1px solid '+this.allDayEventBorderColor;$I.style.overflow='hidden';$I.style.position='relative';$I.style.backgroundColor=back;$I.className=this.$3Z("alldayevent");if(this.roundedCorners){$I.style.MozBorderRadius="5px";$I.style.webkitBorderRadius="5px";$I.style.borderRadius="5px";};var $1g=[];var $1h=true;var $1i=this.showAllDayEventStartEnd;var $1j=this.showAllDayEventStartEnd;var $1k="Center";var $1l=0;if($1i){if($1k==='Left'){$1g.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");$1g.push("width:");$1g.push($1l-4);$1g.push("px;");$1g.push("><span style='background-color:");}else{$1g.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");};$1g.push('transparent');$1g.push("' unselectable='on'>");if($1e){if($e.start().getDatePart().getTime()!==$e.start().getTime()){$1g.push(DayPilot.Date.hours($e.start().d,this.timeFormat==='Clock12Hours'));}}else{$1g.push("~");};$1g.push("</span></div></div>");};if($1j){$1g.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");$1g.push('transparent');$1g.push("' unselectable='on'>");if($1f){if($e.end().getDatePart().getTime()!==$e.end().getTime()){$1g.push(DayPilot.Date.hours($e.end().d,this.timeFormat==='Clock12Hours'));}}else{$1g.push("~");};$1g.push("</span></div></div>");};if($1k==='Left'){var $T=$1i?$1l:0;$1g.push("<div style='margin-top:0px;height:");$1g.push(this.allDayEventHeight-2);$1g.push("px;");$1g.push(";overflow:hidden;text-align:left;padding-left:");$1g.push($T);$1g.push("px;font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.eventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</div>");}else if($1k==='Center'){if($1h){$1g.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");$1g.push("<span style='background-color:");$1g.push('transparent');$1g.push(";font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.allDayEventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</span>");$1g.push("</div>");}else{$1g.push("<div style='margin-top:0px;height:");$1g.push(this.allDayEventHeight-2);$1g.push("px;");$1g.push(";overflow:hidden;text-align:center;font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.allDayEventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</div>");}};$I.innerHTML=$1g.join('');$S.appendChild($I);}else{var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=this.$3Z("_alldayevent_inner");if(!$1e){DayPilot.Util.addClass($S,this.$3Z("_alldayevent_continueleft"));};if(!$1f){DayPilot.Util.addClass($S,this.$3Z("_alldayevent_continueright"));};if($e.client.innerHTML()){$I.innerHTML=$e.client.innerHTML();}else{$I.innerHTML=$e.text();};$S.appendChild($I);};if($b.afterEventRender){$b.afterEventRender($e,$S);};this.nav.allday.appendChild($S);this.elements.events.push($S);}};$1d.style.display='';};this.$3u=function($1m){$b.multiselect.$4R();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $S=this.elements.events[i];var $A=$S.event;if($A&&$1m&&!$A.allday()){continue;};if($A){$A.div=null;$A.root=null;};$S.onclick=null;$S.onclickSave=null;$S.ondblclick=null;$S.oncontextmenu=null;$S.onmouseover=null;$S.onmouseout=null;$S.onmousemove=null;$S.onmousedown=null;if($S.firstChild&&$S.firstChild.firstChild&&$S.firstChild.firstChild.tagName&&$S.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1n=$S.firstChild.firstChild;$1n.onmousedown=null;$1n.onmousemove=null;$1n.onclick=null;};$S.helper=null;$S.event=null;DayPilot.de($S);}};this.elements.events=[];};this.$4X=function($e){var $C=this.nav.events;var $1o=this.roundedCorners;var $1p=this.roundedCorners&&(this.$3m.ff||this.$3m.opera105||this.$3m.webkit522||this.$3m.ie9);var $1q=this.roundedCorners&&!$1p;var $1r=$e.client.borderColor();var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.position='absolute';if(!this.cssOnly){$S.style.fontFamily=this.eventFontFamily;$S.style.fontSize=this.eventFontSize;$S.style.color=$e.data.fontColor?$e.data.fontColor:this.eventFontColor;if(!$1o){$S.style.backgroundColor=$1r;};if(this.transparent){$S.style.opacity=0.6;$S.style.filter="alpha(opacity=60)";}}else{$S.className=this.$3Z("_event");};$S.style.left=$e.part.left+'%';$S.style.top=($e.part.top-this.$4B())+'px';$S.style.width=$e.part.width+'%';$S.style.height=Math.max($e.part.height,2)+'px';$S.style.overflow='hidden';$S.isFirst=$e.part.start.getTime()===$e.start().getTime();$S.isLast=$e.part.end.getTime()===$e.end().getTime();if($e.client.clickEnabled()){$S.onclick=this.$48;};if($e.client.doubleClickEnabled()){$S.ondblclick=this.$4c;};$S.oncontextmenu=this.$4d;$S.onmousemove=this.$4Y;$S.onmouseout=this.$4Z;$S.onmousedown=this.$50;$S.ontouchstart=this.$51.onEventTouchStart;$S.ontouchmove=this.$51.onEventTouchMove;$S.ontouchend=this.$51.onEventTouchEnd;var $1g=[];if(!this.cssOnly){if(this.eventDeleteHandling!=='Disabled'&&$e.client.deleteEnabled()){$1g.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");if(this.deleteImageUrl){$1g.push("background-image:url(\"" + this.deleteImageUrl + "\");");};$1g.push("' class='");$1g.push(this.$3Z("event_delete"));$1g.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");$1g.push(this.clientName);$1g.push(".bubble && ");$1g.push(this.clientName);$1g.push(".bubble.hideAfter > 0");$1g.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");$1g.push(this.clientName);$1g.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");};if($1q){$1g.push("<div style='margin-right:2px;'>");$1g.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");$1g.push($1r);$1g.push(";'>&nbsp;</div>");$1g.push("</div>");$1g.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");$1g.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");$1g.push($1r);$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";background-color:");$1g.push($e.client.header()?$1r:$e.BackgroundColor);$1g.push("'>");$1g.push("&nbsp;</div>");$1g.push("</div>");}else if(!$1p){$1g.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");};$1g.push("<div");if(this.showToolTip){$1g.push(" title='");$1g.push($e.client.toolTip().replace(/'/g,"&apos;"));$1g.push("'");};var $G=Math.max($e.part.height-2,0);$1g.push(" c='1'");$1g.push(" class='");$1g.push($e.client.cssClass()?$e.client.cssClass():this.$3Z('event'));$1g.push("'");if($1q){$1g.push(" style='margin-top:1px;height:");$1g.push($G-2);}else{$1g.push(" style='margin-top:0px;height:");$1g.push($G);};$1g.push("px;background-color:");$1g.push($e.client.backColor());if($1p){$1g.push(";border:1px solid ");$1g.push($1r);$1g.push(";-moz-border-radius:5px;");$1g.push(";-webkit-border-radius:5px;");$1g.push(";border-radius:5px;");}else{$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";border-right:1px solid ");$1g.push($1r);};$1g.push(";");if($e.data.backgroundImage){$1g.push("background-image:url(");$1g.push($e.data.backgroundImage);$1g.push(");");if($e.data.backgroundRepeat){$1g.push("background-repeat:");$1g.push($e.data.backgroundRepeat);$1g.push(";");}};if($b.rtl){$1g.push("direction:rtl;");};$1g.push("' unselectable='on'>");if(this.durationBarVisible){var $1s=$e.client.barColor()||$b.durationBarColor;$1g.push("<div style='position:absolute;left:1px;top:1px;width:");$1g.push($b.durationBarWidth-1);$1g.push("px;height:");$1g.push($e.part.barTop);$1g.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1g.push("<div style='position:absolute;left:1px;top:");$1g.push($e.part.barTop+$e.part.barHeight);$1g.push("px;width:");$1g.push($b.durationBarWidth-1);$1g.push("px;height:");$1g.push($G-($e.part.barTop+$e.part.barHeight));$1g.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1g.push("<div style='position:absolute;left:1px;width:");$1g.push($b.durationBarWidth);$1g.push("px;height:");$1g.push($e.part.barHeight);$1g.push("px;");if($e.data.durationBarImageUrl){$1g.push("background-image:url(");$1g.push($e.data.durationBarImageUrl);$1g.push(");");}else if($b.durationBarImageUrl){$1g.push("background-image:url(");$1g.push($b.durationBarImageUrl);$1g.push(");");};$1g.push("top:");$1g.push($e.part.barTop+1);$1g.push("px;background-color:");$1g.push($1s);$1g.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");$1g.push($b.durationBarWidth);$1g.push("px;top:1px;width:1px;background-color:");$1g.push($1r);$1g.push(";height:100%' unselectable='on'></div>");};var $1t=$e.client.header()?this.eventHeaderHeight:0;if($e.client.header()){$1g.push("<div unselectable='on' style='overflow:hidden;height:");$1g.push(this.eventHeaderHeight);$1g.push("px; background-color:");$1g.push($1r);$1g.push(";font-size:");$1g.push(this.eventHeaderFontSize);$1g.push(";color:");$1g.push(this.eventHeaderFontColor);$1g.push("'>");$1g.push($e.client.header());$1g.push("</div>");};if(this.durationBarVisible){$1g.push("<div unselectable='on' style='padding-left:");$1g.push($b.durationBarWidth+3);$1g.push("px;");}else{$1g.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");$1g.push($G-$1t-1);$1g.push("px;");};$1g.push("'>");$1g.push($e.client.innerHTML());$1g.push("</div></div>");if($1q){$1g.push("<div unselectable='on' style='margin-right:2px;'>");$1g.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");$1g.push($1r);$1g.push(";'><!-- --></div>");$1g.push("</div>");$1g.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");$1g.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");$1g.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");$1g.push($1r);$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";background-color:");$1g.push($e.client.backColor());$1g.push("'>");$1g.push("<!-- --></div>");$1g.push("</div>");$1g.push("</div>");};$S.innerHTML=$1g.join('');}else{if($e.client.cssClass()){DayPilot.Util.addClass($S,$e.client.cssClass());};var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=$b.$3Z("_event_inner");$I.innerHTML=$e.client.innerHTML();if($e.data.backColor){$I.style.backgroundColor=$e.data.backColor;};if($e.data.borderColor){$I.style.borderColor=$e.data.borderColor;};if($e.data.backgroundImage){$I.style.backgroundImage="url("+$e.data.backgroundImage+")";if($e.data.backgroundRepeat){$I.style.backgroundRepeat=$e.data.backgroundRepeat;}};$S.appendChild($I);if($e.client.barVisible()){var $G=$e.part.height-2;var $1u=100*$e.part.barTop/$G;var $1v=Math.ceil(100*$e.part.barHeight/$G);if(this.durationBarMode==="PercentComplete"){$1w=0;$1x=$e.data.complete;};var $1y=document.createElement("div");$1y.setAttribute("unselectable","on");$1y.className=this.$3Z("_event_bar");$1y.style.position="absolute";var $1z=document.createElement("div");$1z.setAttribute("unselectable","on");$1z.className=this.$3Z("_event_bar_inner");$1z.style.top=$1u+"%";if(0<$1v&&$1v<=1){$1z.style.height="1px";}else{$1z.style.height=$1v+"%";};$1y.appendChild($1z);$S.appendChild($1y);}};if($C.rows[0].cells[$e.part.dayIndex]){var $1A=$C.rows[0].cells[$e.part.dayIndex].firstChild;$1A.appendChild($S);$b.$52($S);$S.event=$e;if($b.multiselect.$4J($e)){$b.multiselect.add($S.event,true);};if($b.afterEventRender){$b.afterEventRender($e,$S);}};$b.elements.events.push($S);};this.$52=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $16=el.childNodes[i];if($16.nodeType===1){$16.setAttribute("unselectable","on");this.$52($16);}}catch(e){}}};this.$3U=function(){this.multiselect.$4F=[];var $03=new Date();for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];for(var m=0;m<$1B.blocks.length;m++){var $18=$1B.blocks[m];for(var j=0;j<$18.lines.length;j++){var $1b=$18.lines[j];for(var k=0;k<$1b.length;k++){var e=$1b[k];e.part.width=100/$18.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $1C=(j===$18.lines.length-1);if(!$1C){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$4X(e);}}}}};this.multiselect.redraw();var end=new Date();var $1D=end.getTime()-$03.getTime();};this.$53=function(){this.multiselect.$4F=[];for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];for(var j=0;j<$1B.lines.length;j++){var $1b=$1B.lines[j];for(var k=0;k<$1b.length;k++){var e=$1b[k];e.part.width=100/$1B.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$4X(e);}}}}};this.$3Z=function($1E){if(this.cssClassPrefix){return this.cssClassPrefix+$1E;}else{return "";}};this.$3T=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$54=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(!this.cssOnly){this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$55()+"px";if(this.cssOnly){DayPilot.Util.addClass(this.nav.top,this.$3Z("_main"));};if(this.heightSpec==="Fixed"){this.nav.scroll.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$40()<=this.businessEndsHour-this.businessBeginsHour){this.nav.scroll.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";};this.nav.scroll.style.position="relative";if(!this.cssOnly){this.nav.scroll.style.border="1px solid "+this.borderColor;this.nav.scroll.style.backgroundColor=this.hourNameBackColor;};if(this.showHeader){var $1d=this.$56();this.nav.top.appendChild($1d);};this.nav.scroll.style.zoom=1;var $1F=this.$57();this.nav.scrollable=$1F.firstChild;this.nav.scroll.appendChild($1F);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$b.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$b.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$3Q=function(){if(!this.fasterDispose){DayPilot.pu(this.nav.hourTable);}else{this.$58();};this.nav.scrollable.rows[0].cells[0].innerHTML='';this.nav.hourTable=this.$59();this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable);};this.$58=function(){for(var i=0;i<this.nav.hourTable.rows.length;i++){var $1G=this.nav.hourTable.rows[i];var $S=$1G.cells[0].firstChild;$S.data=null;$S.onmousemove=null;$S.onmouseout=null;}};this.$57=function(){var $1H=document.createElement("div");$1H.style.zoom=1;$1H.style.position='relative';$1H.onmousemove=this.$5a;$1H.ontouchmove=this.$51.onMainTouchMove;$1H.ontouchend=this.$51.onMainTouchEnd;var $1I=document.createElement("table");$1I.cellSpacing="0";$1I.cellPadding="0";$1I.border="0";$1I.style.border="0px none";$1I.style.width="100%";$1I.style.position='absolute';var r=$1I.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.valign="top";c.style.padding='0px';c.style.border='0px none';this.nav.hourTable=this.$59();c.appendChild(this.nav.hourTable);};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";if(!this.cssOnly&&!this.separateEventsTable){c.appendChild(this.$5b());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$5b());var $1J=document.createElement("div");$1J.style.position="absolute";$1J.style.top="0px";$1J.style.left="0px";$1J.style.right="0px";$1J.style.height="0px";parent.appendChild($1J);this.nav.crosshair=$1J;parent.appendChild(this.$5c());c.appendChild(parent);};$1H.appendChild($1I);this.nav.zoom=$1H;return $1H;};this.$5b=function(){var $1I=document.createElement("table");$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.border="0px none";if(!this.cssOnly){$1I.style.borderLeft="1px solid "+this.borderColor;};$1I.style.tableLayout='fixed';this.nav.main=$1I;this.nav.events=$1I;return $1I;};this.$5c=function(){var $1I=document.createElement("table");$1I.style.position="absolute";$1I.style.top="0px";$1I.style.width="100%";$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.border="0px none";$1I.style.tableLayout='fixed';this.nav.events=$1I;var $1K=true;var $0G=this.columnsBottom;var cl=$0G.length;var r=($1K)?$1I.insertRow(-1):$1I.rows[0];for(var j=0;j<cl;j++){var c=($1K)?r.insertCell(-1):r.cells[j];if($1K){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $S=document.createElement("div");$S.style.marginRight=$b.columnMarginRight+"px";$S.style.position='relative';$S.style.height='1px';if(!this.cssOnly){$S.style.fontSize='1px';$S.style.lineHeight='1.2';};$S.style.marginTop='-1px';c.appendChild($S);}};return $1I;};this.$59=function(){var $1I=document.createElement("table");$1I.cellSpacing="0";$1I.cellPadding="0";$1I.border="0";$1I.style.border='0px none';$1I.style.width=this.hourWidth+"px";$1I.oncontextmenu=function(){return false;};$1I.onmousemove=function(){$b.$3B();};var $1L=this.$41()/(this.timeHeaderCellDuration*60*1000);for(var i=0;i<$1L;i++){this.$5d($1I,i);};return $1I;};this.$5e=function(){return(this.$44()-this.$44(true))*(60/this.cellDuration);};this.$5f=function(){return(this.$44()-this.$44(true));};this.$4B=function(){return this.$5e()*this.cellHeight;};this.$5d=function($1I,i){var $G=(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);var r=$1I.insertRow(-1);r.style.height=$G+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$3Z("rowheader");c.style.backgroundColor=this.hourNameBackColor;c.style.cursor="default";};c.style.padding='0px';c.style.border='0px none';var $1M=document.createElement("div");if(this.cssOnly){$1M.className=this.$3Z("_rowheader");};$1M.style.position="relative";$1M.style.width=this.hourWidth+"px";$1M.style.height=($G)+"px";$1M.style.overflow='hidden';$1M.setAttribute("unselectable","on");if(this.hours){var $e=this.hours[i+this.$5f()];$1M.data=$e;$1M.onmousemove=$b.$5g;$1M.onmouseout=$b.$5h;};var $18=document.createElement("div");if(this.cssOnly){$18.className=this.$3Z("_rowheader_inner");};$18.setAttribute("unselectable","on");if(!this.cssOnly){$18.style.borderBottom="1px solid "+this.hourNameBorderColor;$18.style.textAlign="right";$18.style.height=($G-1)+"px";};if(this.hours){$18.innerHTML=this.hours[i+this.$5f()].html;}else{var $1N=document.createElement("div");$1N.setAttribute("unselectable","on");if(!this.cssOnly){$1N.style.padding="2px";$1N.style.fontFamily=this.hourFontFamily;$1N.style.fontSize=this.hourFontSize;$1N.style.color=this.hourFontColor;};var $03=this.startDate.addHours(i+this.$44());var $1O=$03.getHours();var am=$1O<12;if(this.timeFormat==="Clock12Hours"){$1O=$1O%12;if($1O===0){$1O=12;}};$1N.innerHTML=$1O;var $1P=document.createElement("span");$1P.setAttribute("unselectable","on");if(!this.cssOnly){$1P.style.fontSize="10px";$1P.style.verticalAlign="super";}else{$1P.className=this.$3Z("_rowheader_minutes");};var $1Q;if(this.timeFormat==="Clock12Hours"){if(am){$1Q="AM";}else{$1Q="PM";}}else{$1Q="00";};if(!this.cssOnly){$1P.innerHTML="&nbsp;"+$1Q;}else{$1P.innerHTML=$1Q;};$1N.appendChild($1P);$18.appendChild($1N);};$1M.appendChild($18);c.appendChild($1M);};this.$5g=function(ev){$b.$3B();var $S=this;if(!$S.active){DayPilot.Areas.showAreas($S,$S.data);}};this.$5h=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$55=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return(this.$41()*this.cellHeight)/(60000*this.cellDuration);case "BusinessHours":case "BusinessHoursNoScroll":var $K=this.$42();return $K*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$45=function(){var $1R=this.headerLevels*this.headerHeight+this.headerLevels-1;if(this.showAllDayEvents&&this.allDayHeaderHeight){if(!this.cssOnly){return $1R+this.allDayHeaderHeight;}else{return $1R+this.allDayHeaderHeight;}}else{return $1R;}};this.$3M=function(){if(!this.headerHeightAutoFit){return;};if(this.headerLevels>1){throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";return;};var $J=0;for(var i=0;i<this.columnsBottom.length;i++){var $c=this.nav.header.rows[this.headerLevels-1].cells[i];var $S=$c.firstChild;var $I=$S.firstChild;var $1S=$S.style.height;$S.style.height="auto";$I.style.position="static";var h=$S.offsetHeight;$S.style.height=$1S;$I.style.position='';$J=Math.max($J,h);};if($J>this.headerHeight){this.headerHeight=$J;this.$3K();this.$3L();}};this.$5i=function(){if(this.heightSpec==='Parent100Pct'){var $I=(this.$41()*this.cellHeight)/(60000*this.cellDuration);return $I>this.height;};return this.nav.scroll.style.overflow!=='hidden';};this.$56=function(){var $1d=document.createElement("div");if(!this.cssOnly){$1d.style.borderLeft="1px solid "+this.borderColor;$1d.style.borderRight="1px solid "+this.borderColor;};$1d.style.overflow="auto";var $1I=document.createElement("table");$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.borderCollapse='separate';$1I.style.border="0px none";var r=$1I.insertRow(-1);this.nav.fullHeader=$1I;var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';if(this.showHours){var $1T=this.$5j();c.appendChild($1T);this.nav.corner=$1T;}else{var $1U=document.createElement("div");$1U.style.backgroundColor=this.hourNameBackColor;$1U.style.width="0px";$1U.style.height=this.$45()+"px";$1U.style.borderTop="1px solid "+this.borderColor;$1U.setAttribute("unselectable","on");c.appendChild($1U);};c=r.insertCell(-1);c.style.width="100%";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';var $1V=document.createElement("div");$1V.style.position="relative";$1V.style.height=this.$45()+"px";$1V.style.overflow="hidden";c.appendChild($1V);this.nav.mid=$1V;this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";this.nav.header.border="0";this.nav.header.width="100%";this.nav.header.style.tableLayout="fixed";if(!this.cssOnly){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderRight="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $1W=this.$5i();if(!this.cssOnly){if($1W){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};$1V.appendChild(this.nav.header);if(this.showAllDayEvents){var $1X=document.createElement("div");$1X.style.position='absolute';$1X.style.top="0px";$1X.style.height="0px";$1X.style.width="100%";this.nav.allday=$1X;$1V.appendChild($1X);};if($1W){this.$5k();};$1d.appendChild($1I);return $1d;};this.$5k=function(){var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);if(!this.cssOnly){c.className=this.$3Z('cornerright');c.style.backgroundColor=this.hourNameBackColor;c.style.borderBottom="0px none";c.style.borderLeft="0px none";c.style.borderRight="0px none";};c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1g=document.createElement("div");$1g.setAttribute("unselectable","on");if(this.cssOnly){$1g.className=this.$3Z('_cornerright');};$1g.style.overflow="hidden";$1g.style.position="relative";$1g.style.width="16px";$1g.style.height=this.$45()+"px";var $I=document.createElement("div");if(this.cssOnly){$I.className=this.$3Z('_cornerright_inner');}else{$I.style.borderTop="1px solid "+this.borderColor;};$1g.appendChild($I);c.appendChild($1g);this.nav.cornerRight=$1g;};this.$5j=function(){var $1F=document.createElement("div");$1F.style.position='relative';if(!this.cssOnly){$1F.style.backgroundColor=this.cornerBackColor;$1F.style.fontFamily=this.headerFontFamily;$1F.style.fontSize=this.headerFontSize;$1F.style.color=this.headerFontColor;$1F.className=this.$3Z("corner");}else{$1F.className=this.$3Z("_corner");};$1F.style.width=this.hourWidth+"px";$1F.style.height=this.$45()+"px";$1F.style.overflow="hidden";$1F.oncontextmenu=function(){return false;};var $1T=document.createElement("div");if(this.cssOnly){$1T.className=this.$3Z("_corner_inner");}else{$1T.style.borderTop="1px solid "+this.borderColor;};$1T.setAttribute("unselectable","on");$1T.innerHTML=this.cornerHTML?this.cornerHTML:'';$1F.appendChild($1T);if(!this.numberFormat)return $1F;var $1Y=document.createElement("div");$1Y.style.position='absolute';$1Y.style.padding='2px';$1Y.style.top='0px';$1Y.style.left='1px';$1Y.style.backgroundColor="#FF6600";$1Y.style.color="white";$1Y.innerHTML="\u0044\u0045\u004D\u004F";$1Y.setAttribute("unselectable","on");$1F.appendChild($1Y);return $1F;};this.$3v=function(){var $1I=this.nav.main;$1I.root=null;$1I.onmouseup=null;for(var y=0;y<$1I.rows.length;y++){var r=$1I.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.fasterDispose)DayPilot.pu($1I);};this.$3N=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$3P=function(){var $1Z=[];var $20=[];var $1I=this.nav.main;var $0e=this.cellDuration*60*1000;var $21=this.$47();var $0G=$b.columnsBottom;var $1K=!this.tableCreated||$0G.length!==$1I.rows[0].cells.length||$21!==$1I.rows.length;if($1I){this.$3v();}while($1I&&$1I.rows&&$1I.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($1I.rows[0]);$1I.deleteRow(0);};this.tableCreated=true;if(this.scrollLabelsVisible){var $0G=this.columnsBottom;var $0H=(this.showHours?this.hourWidth:0);var $D=(this.nav.scroll.clientWidth-$0H)/$0G.length;for(var i=0;i<$0G.length;i++){var $0J=document.createElement("div");$0J.style.position='absolute';$0J.style.top='0px';$0J.style.left=($0H+2+i*$D+$D/2)+"px";$0J.style.display='none';var $1n=document.createElement("div");$1n.style.height='10px';$1n.style.width='10px';if(this.cssOnly){$1n.className=this.$3Z("_scroll_up");}else{$1n.style.backgroundRepeat="no-repeat";if(this.scrollUpUrl){$1n.style.backgroundImage="url('"+this.scrollUpUrl+"')";};$1n.className=this.$3Z("scroll_up");};$0J.appendChild($1n);this.nav.scrollLayer.appendChild($0J);this.nav.scrollUp.push($0J);var $0K=document.createElement("div");$0K.style.position='absolute';$0K.style.top='0px';$0K.style.left=($0H+2+i*$D+$D/2)+"px";$0K.style.display='none';var $1n=document.createElement("div");$1n.style.height='10px';$1n.style.width='10px';if(this.cssOnly){$1n.className=this.$3Z("_scroll_down");}else{$1n.style.backgroundRepeat="no-repeat";if(this.scrollDownUrl){$1n.style.backgroundImage="url('"+this.scrollDownUrl+"')";};$1n.className=this.$3Z("scroll_down");};$0K.appendChild($1n);this.nav.scrollLayer.appendChild($0K);this.nav.scrollDown.push($0K);}};var cl=$0G.length;if(this.cssOnly||this.separateEventsTable){var $0T=this.nav.events;while($0T&&$0T.rows&&$0T.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($0T.rows[0]);$0T.deleteRow(0);};var r=($1K)?$0T.insertRow(-1):$0T.rows[0];for(var j=0;j<cl;j++){var c=($1K)?r.insertCell(-1):r.cells[j];if($1K){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $S=document.createElement("div");$S.style.marginRight=$b.columnMarginRight+"px";$S.style.position='relative';$S.style.height='1px';if(!this.cssOnly){$S.style.fontSize='1px';$S.style.lineHeight='1.2';};$S.style.marginTop='-1px';c.appendChild($S);}}};for(var i=0;i<$21;i++){var r=($1K)?$1I.insertRow(-1):$1I.rows[i];if($1K){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $1B=this.columnsBottom[j];var c=($1K)?r.insertCell(-1):r.cells[j];c.start=$1B.Start.addTime(i*$0e).addHours(this.$44());c.end=c.start.addTime($0e);c.resource=$1B.Value;var $22=$b.$5l(j,i);if($1K){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$b.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");if(!this.cssOnly){var $23=document.createElement("div");$23.style.height=($b.cellHeight-1)+"px";$23.style.width='100%';$23.style.overflow='hidden';$23.setAttribute("unselectable","on");c.appendChild($23);var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.style.fontSize='1px';$S.style.height='0px';c.appendChild($S);if((!$b.rtl&&j!==cl-1)||$b.rtl){c.style.borderRight='1px solid '+$b.cellBorderColor;};var $24=(c.end.getMinutes()+c.end.getSeconds()+c.end.getMilliseconds())>0;if($24){if($b.hourHalfBorderColor!==''){$S.style.borderBottom='1px solid '+$b.hourHalfBorderColor;};$S.className=$b.$3Z("hourhalfcellborder");}else{if($b.hourBorderColor!==''){$S.style.borderBottom='1px solid '+$b.hourBorderColor;};$S.className=$b.$3Z("hourcellborder");}}else{var $23=document.createElement("div");$23.className=$b.$3Z("_cell");$23.style.position="relative";$23.style.height=($b.cellHeight)+"px";$23.style.overflow='hidden';$23.setAttribute("unselectable","on");var $I=document.createElement("div");$I.className=$b.$3Z("_cell_inner");$23.appendChild($I);c.appendChild($23);}};c.onmousedown=this.$4v;c.onmousemove=this.$4y;c.onmouseout=this.$4x;c.ontouchstart=this.$51.onCellTouchStart;c.ontouchmove=this.$51.onCellTouchMove;c.ontouchend=this.$51.onCellTouchEnd;c.onmouseup=function(){return false;};c.onclick=function(){return false;};c.ondblclick=function(){DayPilotCalendar.firstMousePos=null;$b.$4w();clearTimeout(DayPilotCalendar.selectedTimeout);if($b.timeRangeDoubleClickHandling==='Disabled'){return;};var $0F=$b.getSelection();$b.$4s($0F.start,$0F.end,$0F.resource);};c.oncontextmenu=function(){if(!this.selected){$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$b.$4w();};if($b.contextMenuSelection){$b.contextMenuSelection.show($b.getSelection());};return false;};c.originalColor=$b.$5m(j,i);$23=c.firstChild;c.style.backgroundColor=c.originalColor;if($22){if($22.html){$23.innerHTML=$22.html;};if($22.cssClass){if(this.cssOnly){DayPilot.Util.addClass(c,$22.cssClass);}else{DayPilot.Util.addClass(c,$b.$3Z($22.cssClass));}};if($22.backImage){c.style.backgroundImage="url('"+$22.backImage+"')";};if($22.backRepeat){c.style.backgroundRepeat=$22.backRepeat;}};if(!this.cssOnly){c.className=$b.$3Z("cellbackground");}}};$1I.onmouseup=this.$4z;$1I.root=this;$b.nav.scrollable.style.display='';};this.$5a=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $25=$b.nav.scrollable;$b.coords=DayPilot.mo3($25,ev);var $0B=DayPilot.mc(ev);var $1J=$b.crosshairType&&$b.crosshairType!=="Disabled";var $26=$b.coords.x<$b.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||$26){$b.$3B();}else if($1J){$b.$5n();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$b.$3Y(DayPilot.Global.resizing,false,$b.shadow);};var $27=DayPilot.Global.resizing.event.calendar.cellHeight;var $E=0;var $28=($0B.y-DayPilotCalendar.originalMouse.y);if(DayPilot.Global.resizing.dpBorder==='bottom'){var $29=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$28)+$27/ 2)/ $27)*$27-DayPilotCalendar.originalTop+$E;if($29<$27)$29=$27;var $J=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$29>$J){$29=$J-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($29)+'px';}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2a=Math.floor(((DayPilotCalendar.originalTop+$28-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};if($2a>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$27){$2a=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$27;};var $29=DayPilotCalendar.originalHeight-($2a-DayPilotCalendar.originalTop);if($29<$27){$29=$27;}else{DayPilotCalendar.resizingShadow.style.top=$2a+'px';};DayPilotCalendar.resizingShadow.style.height=($29)+'px';}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var $2b=3;if(DayPilot.distance($0B,DayPilotCalendar.originalMouse)>$2b){DayPilotCalendar.movingShadow=$b.$3Y(DayPilot.Global.moving,!$b.$3m.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$b.coords){return;};var $27=$b.cellHeight;var $E=0;var $0I=DayPilotCalendar.moveOffsetY;if(!$0I){$0I=$27/2;};if(this.moveBy==="Top"){$0I=0;};var $2a=Math.floor((($b.coords.y-$0I-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};var $C=$b.nav.main;var $J=$C.clientHeight;var $G=parseInt(DayPilotCalendar.movingShadow.style.height);if($2a+$G>$J){$2a=$J-$G;};DayPilotCalendar.movingShadow.style.top=$2a+'px';var $D=$C.clientWidth/$C.rows[0].cells.length;var $m=Math.floor(($b.coords.x-$b.hourWidth)/$D);if($m<0){$m=0;};var $0T=$b.nav.events;if($m<$0T.rows[0].cells.length&&$m>=0&&DayPilotCalendar.movingShadow.column!==$m){DayPilotCalendar.movingShadow.column=$m;DayPilotCalendar.moveShadow($0T.rows[0].cells[$m]);}};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$b.coords){var $H=$b.$3Y(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($H){DayPilotCalendar.movingShadow=$H;var $0A=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0A,'end':$0A.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$b);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.$5o={};this.$5o.getCellCoords=function(){var $q={};$q.x=0;$q.y=0;var $C=$b.nav.main;var $2c=$b.coords.x-$b.hourWidth;var i=0;var $1B=this.col($C,i);while($1B&&$2c>$1B.left){i+=1;$1B=this.col($C,i);};$q.x=i-1;var $E=0;var $1G=Math.floor(($b.coords.y-$E)/$b.cellHeight);$q.y=$1G;return $q;};this.$5o.col=function($1I,x){var $q={};$q.left=0;$q.width=0;var $c=$1I.rows[0].cells[x];if(!$c){return null;};var t=DayPilot.abs($1I);var c=DayPilot.abs($c);$q.left=c.x-t.x;$q.width=$c.offsetWidth;return $q;};this.$5n=function(){this.$3B();if(!this.elements.crosshair){this.elements.crosshair=[];};var $2d=this.$5o.getCellCoords();if(!$2d){return;};var $m=$2d.x;var y=Math.floor($2d.y/(60/ $b.cellDuration)*(60/$b.timeHeaderCellDuration));if(y<0){return;};var $2e=document.createElement("div");$2e.style.position="absolute";$2e.style.left="0px";$2e.style.right="0px";$2e.style.top="0px";$2e.style.bottom="0px";$2e.style.opacity=.5;$2e.style.backgroundColor=this.crosshairColor;$2e.style.opacity=this.crosshairOpacity/100;$2e.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2e);this.elements.crosshair.push($2e);var $2f=document.createElement("div");$2f.style.position="absolute";$2f.style.left="0px";$2f.style.right="0px";$2f.style.top="0px";$2f.style.bottom="0px";$2f.style.opacity=.5;$2f.style.backgroundColor=this.crosshairColor;$2f.style.opacity=this.crosshairOpacity/100;$2f.style.filter="alpha(opacity="+this.crosshairOpacity+")";var $1G=this.nav.header.rows[this.headerLevels-1];if($1G.cells[$m]){$1G.cells[$m].firstChild.appendChild($2f);this.elements.crosshair.push($2f);};if(this.crosshairType==="Header"){return;};var $2g=this.nav.crosshair;var $E=0;var top=Math.floor((($b.coords.y-$E))/$b.cellHeight)*$b.cellHeight+$E;var $G=$b.cellHeight;var $2h=document.createElement("div");$2h.style.position="absolute";$2h.style.left="0px";$2h.style.right="0px";$2h.style.top=top+"px";$2h.style.height=$G+"px";$2h.style.backgroundColor=this.crosshairColor;$2h.style.opacity=this.crosshairOpacity/100;$2h.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2h.onmousedown=this.$5p;$2g.appendChild($2h);this.elements.crosshair.push($2h);var $1B=this.$5o.col(this.nav.main,$m);$G=this.nav.main.clientHeight;if($1B){var $2i=document.createElement("div");$2i.style.position="absolute";$2i.style.left=$1B.left+"px";$2i.style.width=$1B.width+"px";$2i.style.top="0px";$2i.style.height=$G+"px";$2i.style.backgroundColor=this.crosshairColor;$2i.style.opacity=this.crosshairOpacity/100;$2i.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2i.onmousedown=this.$5p;$2g.appendChild($2i);this.elements.crosshair.push($2i);}};this.$5p=function(ev){$b.$3B();var $2d=$b.$5o.getCellCoords();var $2j=0;var $c=$b.nav.main.rows[$2d.y+$2j].cells[$2d.x];$b.$4v.apply($c,[ev]);};this.$3B=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$3I=function(){if(!this.cellConfig){return;};var $2k=this.cellConfig;if($2k.vertical){for(var x=0;x<$2k.x;x++){var $2l=this.cellProperties[x+"_0"];for(var y=1;y<$2k.y;y++){this.cellProperties[x+"_"+y]=$2l;}}};if($2k.horizontal){for(var y=0;y<$2k.y;y++){var $2l=this.cellProperties["0_"+y];for(var x=1;x<$2k.x;x++){this.cellProperties[x+"_"+y]=$2l;}}};if($2k["default"]){var $2l=$2k["default"];for(var y=0;y<$2k.y;y++){for(var x=0;x<$2k.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$2l;}}}}};this.$5l=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$5m=function(x,y){var $2m=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2m]){return this.cellProperties[$2m].backColor;};return null;};this.isBusiness=function($c){if($c.start.dayOfWeek()===0||$c.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($c.start.getHours()<this.businessBeginsHour||$c.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.onBeforeCellRender=function($c){};this.$3w=function(){var $1I=this.nav.header;if($1I&&$1I.rows){for(var y=0;y<$1I.rows.length;y++){var r=$1I.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.fasterDispose)DayPilot.pu($1I);};this.$5q=function($14,$1K){var r=($1K)?this.nav.header.insertRow(-1):this.nav.header.rows[$14-1];var $0G=this.$4V($14);var $2n=$0G.length;for(var i=0;i<$2n;i++){var $e=$0G[i];var $2o=$e.getChildren?true:false;var $c=($1K)?r.insertCell(-1):r.cells[i];$c.data=$e;if($14===$b.headerLevels){}else{var $2p=1;if($2o){$2p=$e.getChildrenCount($b.headerLevels-$14+1);};$c.colSpan=$2p;};if($2o){$c.onclick=this.$4e;$c.onmousemove=this.$4f;$c.onmouseout=this.$4g;if($e.ToolTip){$c.title=$e.ToolTip;}};$c.style.overflow='hidden';$c.style.padding='0px';$c.style.border='0px none';$c.style.height=(this.headerHeight)+"px";var $S=($1K)?document.createElement("div"):$c.firstChild;if($1K){$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.position='relative';$S.style.height=this.headerHeight+"px";if(!this.cssOnly){$S.className=$b.$3Z('colheader');$S.style.cursor='default';$S.style.fontFamily=this.headerFontFamily;$S.style.fontSize=this.headerFontSize;$S.style.color=this.headerFontColor;$S.style.backgroundColor=$e.BackColor;$S.style.textAlign='center';var $1N=document.createElement("div");$1N.style.position='absolute';$1N.style.left='0px';$1N.style.right='0px';$1N.style.top="0px";$1N.style.bottom="0px";$1N.style.padding="2px";$1N.setAttribute("unselectable","on");if($14!==1){$1N.style.borderTop='1px solid '+this.borderColor;};if($b.rtl){if(i===$2n-1){$1N.style.borderLeft="1px solid "+$e.BackColor;}else{$1N.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2n-1){$1N.style.borderRight="1px solid "+this.borderColor;}};if(this.headerClickHandling!=="Disabled"){$1N.style.cursor='pointer';};$S.appendChild($1N);}else{$S.className=$b.$3Z('_colheader');var $I=document.createElement("div");$I.className=$b.$3Z('_colheader_inner');$S.appendChild($I);};$c.appendChild($S);}else{$S.style.height=this.headerHeight+"px";};if($2o){$S.firstChild.innerHTML=$e.InnerHTML;}}};this.$3L=function(){if(!this.showHeader){return;};var $1d=this.nav.header;var $1K=true;var $0G=this.$4V($b.headerLevels,true);var $2n=$0G.length;if(this.headerCreated&&$1d&&$1d.rows&&$1d.rows.length>0){$1K=$1d.rows[$1d.rows.length-1].cells.length!==$2n;}while(this.headerCreated&&$1d&&$1d.rows&&$1d.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($1d.rows[0]);$1d.deleteRow(0);};this.headerCreated=true;if(!$1K){var $1T=$b.nav.corner;if(!this.cssOnly){$1T.style.backgroundColor=$b.cornerBackColor;};if(!this.fasterDispose)DayPilot.pu($1T.firstChild);$1T.firstChild.innerHTML=$b.cornerHTML?$b.cornerHTML:'';};for(var i=0;i<$b.headerLevels;i++){this.$5q(i+1,$1K);};if(!this.showAllDayEvents){return;};var r=($1K)?$1d.insertRow(-1):$1d.rows[$b.headerLevels];var w=100/$2n;for(var i=0;i<$2n;i++){var $e=$0G[i];var $c=($1K)?r.insertCell(-1):r.cells[i];$c.data=$e;$c.style.padding='0px';$c.style.border='0px none';$c.style.overflow='hidden';if(!this.cssOnly){$c.style.lineHeight='1.2';};var $S=($1K)?document.createElement("div"):$c.firstChild;if($1K){$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.overflow='hidden';$S.style.position="relative";$S.style.height=this.allDayHeaderHeight+"px";if(!this.cssOnly){$S.className=this.$3Z("alldayheader");$S.style.textAlign='center';$S.style.backgroundColor=$e.BackColor;$S.style.cursor='default';var $1N=document.createElement("div");$1N.style.position="absolute";$1N.style.left='0px';$1N.style.right='0px';$1N.style.top="0px";$1N.style.bottom="0px";$1N.setAttribute("unselectable","on");$1N.style.borderTop='1px solid '+this.borderColor;$S.appendChild($1N);if($b.rtl){if(i===$2n-1){$1N.style.borderLeft="1px solid "+$e.BackColor;}else{$1N.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2n-1){$1N.style.borderRight="1px solid "+this.borderColor;}}}else{$S.className=this.$3Z("_alldayheader");var $I=document.createElement("div");$I.className=this.$3Z("_alldayheader_inner");$S.appendChild($I);};$c.appendChild($S);};$S.style.height=this.allDayHeaderHeight+"px";}};this.$3q=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.$45()+5)+"px";this.nav.loading.style.display='';}};this.$3E=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$5r=function(){var $2q=this.nav.scroll;if(!this.initScrollPos)return;$2q.root=this;$2q.onscroll=this.$4A;if($2q.scrollTop===0){$2q.scrollTop=this.initScrollPos-this.$4B();}else{this.$4A();}};this.onCallbackError=function($q,$r){alert("Error!\r\nResult: "+$q+"\r\nContext:"+$r);};this.$3S=function(){var $2r=this.$5i();var $2s=!!this.nav.cornerRight;if($2r!==$2s){if($2r){this.$5k();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw(this.nav.scroll);if(!this.cssOnly){if(w>=3){d.style.width=(w-3)+'px';}}else{if(d){d.style.width=(w)+'px';}};return w;};this.$3X=function($2t){if($2t){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$3t();var $2u=this.autoRefreshInterval;if(!$2u||$2u<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$5s();},this.autoRefreshInterval*1000);};this.$3t=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$5s=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilotCalendar.selecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$5s();},this.autoRefreshInterval*1000);}};this.$3x=function(){if($b.heightSpec==="Parent100Pct"){$b.setHeight(parseInt($b.nav.top.clientHeight,10));};$b.$3R();$b.$3W();};this.$5t=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(window,'unload',DayPilotCalendar.gUnload);};DayPilot.re(window,'resize',this.$3x);};this.$50=function(ev){ev=ev||window.event;var $0x=ev.which||ev.button;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0x===1){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$b.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$0x===1){DayPilot.Global.moving=this;var $2v=DayPilot.Global.moving.helper={};$2v.oldColumn=$b.columnsBottom[this.event.part.dayIndex].Value;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0I=DayPilot.mo3(this,ev);if($0I){DayPilotCalendar.moveOffsetY=$0I.y;}else{DayPilotCalendar.moveOffsetY=0;};$b.nav.top.style.cursor=this.style.cursor;};return false;};this.$51={};var $2w=$b.$51;$2w.active=false;$2w.start=null;$2w.timeout=null;$2w.startcell=null;this.$51.getCellCoords=function(x,y){var $2x=DayPilot.abs($b.nav.main);var $2y={x:x-$2x.x,y:y-$2x.y};var w=($b.nav.main.clientWidth/$b.columnsBottom.length);var $2z={x:Math.floor($2y.x/w),y:Math.floor($2y.y/$b.cellHeight),toString:function(){return "x: "+this.x+" y:"+this.y;}};return $2z;};this.$51.startSelecting=function($2z){var $c=$b.nav.main.rows[$2z.y].cells[$2z.x];$2w.startcell=$2z;$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($c);$b.selectedCells.push($c);DayPilotCalendar.firstSelected=$c;DayPilotCalendar.topSelectedCell=$c;DayPilotCalendar.bottomSelectedCell=$c;$b.$4w();};this.$51.extendSelection=function($2z){var $c=$b.nav.main.rows[$2z.y].cells[$2z.x];$b.clearSelection();if($2z.y<$2w.startcell.y){$b.selectedCells=DayPilotCalendar.getCellsBelow($c);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove($c);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4w();};this.$51.onCellTouchStart=function(ev){if($2w.active){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2z=$2w.getCellCoords(x,y);var $2A=500;$2w.timeout=window.setTimeout(function(){$2w.active=true;$2w.startSelecting($2z);},$2A);};this.$51.onCellTouchMove=function(ev){if(!$2w.active){window.clearTimeout($2w.timeout);return;};ev.preventDefault();if(!ev.touches[0]){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2z=$2w.getCellCoords(x,y);$2w.extendSelection($2z);};this.$51.onCellTouchEnd=function(ev){if(!$2w.active){window.clearTimeout($2w.timeout);return;};ev.preventDefault();$2w.startcell=null;var $0F=$b.getSelection();$0F.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$b.$4r($0F.start,$0F.end,$0F.resource);window.setTimeout(function(){$2w.active=false;},500);};this.$51.startMoving=function($S,$2z){DayPilot.Global.moving=$S;var $2v=DayPilot.Global.moving.helper={};$2v.oldColumn=$b.columnsBottom[$S.event.part.dayIndex].Value;DayPilotCalendar.originalMouse=$2z;DayPilotCalendar.originalTop=this.offsetTop;var $2x=DayPilot.abs($S);DayPilotCalendar.moveOffsetY=$2z.y-$2x.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$b.$3Y(DayPilot.Global.moving,!$b.$3m.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$51.updateMoving=function($2z){var $27=$b.cellHeight;var $E=0;var $0I=DayPilotCalendar.moveOffsetY;if(!$0I){$0I=$27/2;};var $2a=Math.floor((($2z.y-$0I-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};var $C=$b.nav.main;var $J=$C.clientHeight;var $G=parseInt(DayPilotCalendar.movingShadow.style.height);if($2a+$G>$J){$2a=$J-$G;};DayPilotCalendar.movingShadow.style.top=$2a+'px';var $D=$C.clientWidth/$C.rows[0].cells.length;var $m=Math.floor($2z.x/$D);if($m<0){$m=0;};var $0T=$b.nav.events;if($m<$0T.rows[0].cells.length&&$m>=0&&DayPilotCalendar.movingShadow.column!==$m){DayPilotCalendar.movingShadow.column=$m;DayPilotCalendar.moveShadow($0T.rows[0].cells[$m]);}};this.$51.onEventTouchStart=function(ev){if($2w.active){return;};$2w.preventEventTap=false;var $S=this;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2z={x:x,y:y,$S:this};var $2x=DayPilot.abs($b.nav.scrollable);$b.coords={x:x-$2x.x,y:y-$2x.y};var $2A=500;$2w.timeout=window.setTimeout(function(){$2w.active=true;$2w.startMoving($S,$2z);},$2A);};this.$51.onMainTouchMove=function(ev){if($2w.timeout){window.clearTimeout($b.$51.timeout);};if(DayPilot.Global.moving){ev.preventDefault();var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2x=DayPilot.abs($b.nav.main);var $2z={x:x-$2x.x,y:y-$2x.y};$2w.updateMoving($2z);return;};$2w.preventEventTap=true;};this.$51.onMainTouchEnd=function(ev){if(DayPilot.Global.moving){$2w.active=false;ev.preventDefault();var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2B=DayPilot.Global.moving.event;var $0j=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;$2B.calendar.$4l($2B,$0j,top);}};this.$51.onEventTouchMove=function(ev){$2w.preventEventTap=true;};this.$51.onEventTouchEnd=function(ev){if(!$2w.active){if($2w.preventEventTap){return;};ev.preventDefault();$b.$49(this,false);return;};$2w.active=false;if($2w.timeout){window.clearTimeout($b.$51.timeout);return;}};this.$4Y=function(ev){var $2C=5;var $2D=Math.max($b.durationBarWidth,10);var w=5;var $1d=($b.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $0I=DayPilot.mo3(this,ev);if(!$0I){return;};var $S=this;if(!$S.active){if($b.cssOnly){DayPilot.Util.addClass($S,$b.$3Z("_event_hover"));};DayPilot.Areas.showAreas($S,this.event);};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $2E=this.isFirst;var $2F=this.isLast;if($b.moveBy==="Disabled"||$b.moveBy==="None"){return;};if(!$1d&&$0I.x<=$2D&&this.event.client.moveEnabled()){if($2E){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1d&&$0I.y<=$2C&&this.event.client.resizeEnabled()){if($2E){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1d&&$0I.y<=$2D&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$0I.y<=$2C&&this.event.client.resizeEnabled()){if($2F){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $2G=this.$5u&&$0I.x===this.$5u.x&&$0I.y===this.$5u.y;if(!$2G){this.$5u=$0I;$b.bubble.showEvent(this.event);}}else{}}};this.$4Z=function(ev){if($b.cssOnly){DayPilot.Util.removeClass(this,$b.$3Z("_event_hover"));};if($b.bubble){$b.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$3J=function($0T){if(!$0T){$0T=this.events.list;}else{this.events.list=$0T;};if(!$0T){return;};this.allDay={};this.allDay.events=[];this.allDay.lines=[];var length=$0T.length;var $F=this.$41(true);this.$3l.pixels={};var $2H=[];this.scrollLabels=[];this.minStart=10000;this.maxEnd=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$0T[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};var $2I=this.viewType==='Resources';var $2J=this.startDate;var $2K=this.startDate.addDays(this.days);for(var i=0;i<this.columnsBottom.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.scrollLabels.push(scroll);var $1B=this.columnsBottom[i];$1B.events=[];$1B.lines=[];$1B.blocks=[];var $2L=new DayPilot.Date($1B.Start).addHours(this.$44(true));var $2M=$2L.getTime();var $2N=$2L.addTime($F);var $2O=$2N.getTime();if($2I){$2J=$2L.getDatePart();$2K=$2N.getDatePart();};for(var j=0;j<length;j++){if($2H[j]){continue;};var e=$0T[j];var $03=e.start;var end=e.end;var $2P=$03.getTime();var $2Q=end.getTime();if($2Q<$2P){continue;};if(e.allday){var $2R=false;if($b.allDayEnd==='Date'){$2R=!($2Q<$2J.getTime()||$2P>=$2K.getTime());}else{$2R=!($2Q<=$2J.getTime()||$2P>=$2K.getTime());};if($2I){$2R=$2R&&(e.resource===$1B.Value||$1B.Value==="*");};if($2R){var ep=new DayPilot.Event(e,this);ep.part.start=$2J.getTime()<$2P?$03:$2J;ep.part.end=$2K.getTime()>$2Q?end:$2K;ep.part.colStart=DayPilot.Date.daysDiff(this.startDate.d,ep.part.start.d);ep.part.colWidth=DayPilot.Date.daysSpan(ep.part.start.d,ep.part.end.d)+1;if($2I){ep.part.colStart=i;ep.part.colWidth=1;};this.allDay.events.push(ep);$2H[j]=true;if($2I&&(ep.part.start.getTime()!==$2P||ep.part.end.getTime()!==$2Q)){$2H[j]=false;}};continue;};var $2R=false;if($2I){$2R=($1B.Value===e.resource)&&!($2Q<=$2M||$2P>=$2O);}else{$2R=!($2Q<=$2M||$2P>=$2O)||($2Q===$2P&&$2P===$2M);};if($2R){var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=i;ep.part.start=$2M<$2P?$03:$2L;ep.part.end=$2O>$2Q?end:$2N;var $2S=this.$5v(ep.part.start,$1B.Start);var $2T=this.$5v(ep.part.end,$1B.Start);var top=$2S.top;var $10=$2T.top;if(top===$10&&($2S.cut||$2T.cut)){continue;};ep.part.box=$08.useBox($2Q-$2P);var $E=0;if(ep.part.box){var $2U=$2T.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$E;ep.part.height=Math.max(Math.ceil($2U/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($10-top-2,1);}else{ep.part.top=top+$E;ep.part.height=Math.max($10-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($10-top-2,1);};var $03=ep.part.top;var end=ep.part.top+ep.part.height;if($03>scroll.maxStart){scroll.maxStart=$03;};if(end<scroll.minEnd){scroll.minEnd=end;};if($03<this.minStart){this.minStart=$03;};if(end>this.maxEnd){this.maxEnd=end;};$1B.events.push(ep);if(ep.part.start.getTime()===$2P&&ep.part.end.getTime()===$2Q){$2H[j]=true;}}}};for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];$1B.events.sort(this.eventComparer);for(var j=0;j<$1B.events.length;j++){var e=$1B.events[j];$1B.putIntoBlock(e);};for(var j=0;j<$1B.blocks.length;j++){var $18=$1B.blocks[j];$18.events.sort(this.eventComparerCustom);for(var k=0;k<$18.events.length;k++){var e=$18.events[k];$18.putIntoLine(e);}}};this.allDay.events.sort(this.eventComparerCustom);this.allDay.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.colStart,ep.part.colWidth)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.colStart||$03>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};for(var i=0;i<this.allDay.events.length;i++){var e=this.allDay.events[i];this.allDay.putIntoLine(e);};var $2V=Math.max(this.allDay.lines.length,1);this.allDayHeaderHeight=$2V*(this.allDayEventHeight+2)+2;};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $2W=a.start().ticks-b.start().ticks;if($2W!==0){return $2W;};var $2X=b.end().ticks-a.end().ticks;return $2X;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.eventComparer(a,b);};var $q=0;var i=0;while($q===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$q=0;}else{$q=$b.stringComparer(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $q;};this.stringComparer=function(a,b,$2Y){var $2Z=($2Y!=="desc");var $30=$2Z?-1:1;var $31=-$30;if(a===null&&b===null){return 0;};if(b===null){return $31;};if(a===null){return $30;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$30:$31;};this.$5w=function(e){for(var i=0;i<$b.elements.events.length;i++){var $S=$b.elements.events[i];if($S.event===e){return $S;}};return null;};this.events.find=function(id){var $2n=$b.events.list.length;for(var i=0;i<$2n;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($32,$04){var $2n=$b.events.list.length;for(var i=0;i<$2n;i++){if($b.events.list[i].recurrentMasterId===$32&&$b.events.list[i].start.getTime()===$04.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.update=function(e,$e){var $07={};$07.oldEvent=new DayPilot.Event(e.copy(),$b);$07.newEvent=new DayPilot.Event(e.temp(),$b);var $d=new DayPilot.Action($b,"EventUpdate",$07,$e);e.commit();$b.update();return $d;};this.events.remove=function(e,$e){var $07={};$07.e=new DayPilot.Event(e.data,$b);var $d=new DayPilot.Action($b,"EventRemove",$07,$e);var $2m=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($2m,1);$b.update();return $d;};this.events.add=function(e,$e){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $07={};$07.e=e;var $d=new DayPilot.Action($b,"EventAdd",$07,$e);$b.update();return $d;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($d){if(!$d){return;};if($d.isAction){$b.queue.list.push($d);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($e){var $07={};$07.actions=$b.queue.list;$b.$3p('Notify',$07,$e,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.update=function(){if(!this.columnsBottom){return;};var $33=true;if($33){$b.$3u();this.$5x();this.$3H();this.$3J();$b.$3L();$b.$3M();$b.$3N();$b.$3O();$b.$3P();$b.$3Q();$b.$3R();$b.$3S();this.$3U();this.$3V();$b.$3W();}else{$b.$3u();$b.$3J();$b.$3K();$b.$3U();$b.$3V();$b.$3W();}};this.show=function(){$b.nav.top.style.display='';$b.$3S();};this.hide=function(){$b.nav.top.style.display='none';};this.$5y=function($34,$35){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($34);if(typeof console!=='undefined'){console.log($34);}};this.$5v=function($0o,$03){if(!$03)$03=this.startDate;var $2P=$03.getTime();var $36=$0o.getTime();var $37=this.$3l.pixels[$36+"_"+$2P];if($37){return $37;};$2P=$03.addHours(this.$44(true)).getTime();var $38=this.cellDuration*60*1000;var $39=$36-$2P;var $3a=$39%$38;var $3b=$39-$3a;var $3c=$3b+$38;if($3a===0){$3c=$3b;};var $q={};$q.cut=false;$q.top=this.$5z($39);$q.boxTop=this.$5z($3b);$q.boxBottom=this.$5z($3c);this.$3l.pixels[$36+"_"+$2P]=$q;return $q;};this.$5z=function($36){return Math.floor((this.cellHeight*$36)/(1000*60*this.cellDuration));};this.$5x=function(){this.startDate=new DayPilot.Date(this.startDate);this.allDayHeaderHeight=this.allDayEventHeight+4;};this.$3K=function(){if(this.nav.corner){this.nav.corner.style.height=this.$45()+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=this.$45()+"px";};if(this.nav.mid){this.nav.mid.style.height=this.$45()+"px";};if(this.showAllDayEvents){var $1G=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$1G.cells.length;i++){var $m=$1G.cells[i];$m.firstChild.style.height=this.allDayHeaderHeight+"px";}}};this.$3R=function(){var sh=this.$55();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.scrollHeight=$b.nav.scroll.clientHeight;}};this.setHeight=function($1q){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};if(this.cssOnly){this.height=$1q-(this.$45());}else{this.height=$1q-(this.$45()+3);};this.$3R();};this.$5A={};var $08=this.$5A;$08.locale=function(){return DayPilot.Locale.find($b.locale);};$08.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return this.locale().timeFormat;};$08.useBox=function($3d){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $3d<$b.cellDuration*60*1000;};$08.notifyType=function(){var $i;if($b.notifyCommit==='Immediate'){$i="Notify";}else if($b.notifyCommit==='Queue'){$i="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $i;};this.$5B=function(){return(typeof this.events.list==='undefined')||!this.events.list;};this.$5C=function(){this.$5x();this.$3H();this.$54();this.$3L();this.$3M();this.$3P();this.$3S();this.$5r();this.$5t();this.$3y();DayPilotCalendar.register(this);this.$3x();this.$3X();this.$3p('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $3e=this.$5B();if($3e){this.$5C();return;};this.$5x();this.$3H();this.$3I();if(this.events.list){this.$3J();};this.$54();this.$3L();this.$3M();this.$3P();this.$3T();this.$3S();this.$5r();this.$5t();this.$3y();DayPilotCalendar.register(this);if(this.events.list){this.$3K();this.$3U();this.$3V();};this.$3x();if(this.messageHTML){this.message(this.messageHTML);};this.$3F(null,false);this.$3X();};this.internal={};this.internal.invokeEvent=this.$4i;this.internal.eventMenuClick=this.$4p;this.internal.timeRangeMenuClick=this.$4q;this.internal.bubbleCallBack=this.$4n;this.internal.findEventDiv=this.$5w;this.internal.eventDeleteDispatch=this.$4h;this.Init=this.init;};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($b){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$b){return;}};r.push($b);};DayPilotCalendar.unregister=function($b){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(window,'unload',DayPilotCalendar.gUnload);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($c){var $o=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3f=null;while(tr&&$3f!==DayPilotCalendar.firstSelected){$3f=tr.getElementsByTagName("td")[c];$o.push($3f);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $o;};DayPilotCalendar.getCellsBelow=function($c){var $o=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3f=null;while(tr&&$3f!==DayPilotCalendar.firstSelected){$3f=tr.getElementsByTagName("td")[c];$o.push($3f);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $o;};DayPilotCalendar.getColumn=function($c){var i=0;while($c.previousSibling){$c=$c.previousSibling;if($c.tagName==="TD"){i++;}};return i;};DayPilotCalendar.getShadowColumn=function($A){if(!$A){return null;};var $0P=$A.parentNode;while($0P&&$0P.tagName!=="TD"){$0P=$0P.parentNode;};return $0P;};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $0B=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $H=DayPilotCalendar.gShadow;$H.style.left=$0B.x+'px';$H.style.top=$0B.y+'px';DayPilot.Global.moving=null;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$3A){DayPilotCalendar.registered[i].$3A();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];c.dispose();DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;};e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $2B=DayPilot.Global.resizing.event;var $0b=DayPilot.Global.resizing.dpBorder;var $G=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$2B.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($2B.calendar.overlap){return;};$2B.calendar.$4j($2B,$G,top,$0b);}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $3g=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2B=DayPilot.Global.moving.event;var $0j=DayPilotCalendar.movingShadow.column;var $0k=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilotCalendar.drag=null;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0k){if(!$2B.calendar.todo){$2B.calendar.todo={};};$2B.calendar.todo.del=$0k.element;};if($2B.calendar.overlap){return;};var ev=e||window.event;$2B.calendar.$4l($2B,$0j,top,ev,$0k);};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor=null;};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$F,id,$1N,$i){DayPilot.us(element);var $0k=DayPilotCalendar.drag={};$0k.element=element;$0k.duration=$F;$0k.text=$1N;$0k.id=id;$0k.shadowType=$i?$i:'Fill';return false;};DayPilotCalendar.deleteShadow=function($H){if(!$H){return;};if(!$H.parentNode){return;};$H.parentNode.removeChild($H);};DayPilotCalendar.createGShadow=function($i){var $H=document.createElement('div');$H.setAttribute('unselectable','on');$H.style.position='absolute';$H.style.width='100px';$H.style.height='20px';$H.style.border='2px dotted #666666';$H.style.zIndex=101;if($i==='Fill'){$H.style.backgroundColor="#aaaaaa";$H.style.opacity=0.5;$H.style.filter="alpha(opacity=50)";$H.style.border='2px solid #aaaaaa';};document.body.appendChild($H);return $H;};DayPilotCalendar.moveShadow=function($m){var $H=DayPilotCalendar.movingShadow;$H.parentNode.removeChild($H);$m.firstChild.appendChild($H);$H.style.left='0px';$H.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($3h,name,$0o){this.value=$3h;this.name=name;this.date=new DayPilot.Date($0o);};DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart;DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($3i){var $0z=null;var j=this.each(function(){if(this.daypilot){return;};var $3j=new DayPilot.Calendar(this.id);this.daypilot=$3j;for(var name in $3i){$3j[name]=$3i[name];};$3j.Init();if(!$0z){$0z=$3j;}});if(this.length===1){return $0z;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.isIE7=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 7")!==-1);DayPilot.isIEQuirks=DayPilot.isIE&&(document.compatMode&&document.compatMode==="BackCompat");DayPilot.mo2=function($b,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$b){return $a;};var $c=ev.srcElement;while($c&&$c!==$b){if($c.tagName!=='SPAN'){$a.x+=$c.offsetLeft;if($c.offsetTop>0){$a.y+=$c.offsetTop-$c.scrollTop;}};$c=$c.offsetParent;};if($c){return $a;};return null;};if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$d:ev.target};if(!$b){return $a;};var $c=ev.target;while($c&&$c.style.position!=='absolute'&&$c.style.position!=='relative'){$c=$c.parentNode;if(DayPilot.isKhtml){$a.y+=$c.scrollTop;}}while($c&&$c!==$b){$a.x+=$c.offsetLeft;$a.y+=$c.offsetTop-$c.scrollTop;$c=$c.offsetParent;};if($c){return $a;};return null;};return null;};DayPilot.mo3=function($b,ev){ev=ev||window.event;var $e=DayPilot.page(ev);if($e){var $f=DayPilot.abs($b);return{x:$e.x-$f.x,y:$e.y-$f.y};};return DayPilot.mo2($b,ev);};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.page=function(ev){ev=ev||window.event;if(typeof ev.pageX!=='undefined'){return{x:ev.pageX,y:ev.pageY};};if(typeof ev.clientX!=='undefined'){return{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop};};return null;};DayPilot.abs=function(element,$g){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=null;try{b=element.getBoundingClientRect();}catch(e){b={top:element.offsetTop,$h:element.offsetLeft};};r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;if($g){var $j=DayPilot.absOffsetBased(element,false);var $g=DayPilot.absOffsetBased(element,true);r.x+=$g.x-$j.x;r.y+=$g.y-$j.y;r.w=$g.w;r.h=$g.h;};return r;}else{return DayPilot.absOffsetBased(element,$g);}};DayPilot.isArray=function(o){return Object.prototype.toString.call(o)==='[object Array]';};DayPilot.absOffsetBased=function(element,$g){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(DayPilot.op(element)){element=DayPilot.op(element);r.x-=element.scrollLeft;r.y-=element.scrollTop;if($g){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;return r;};DayPilot.wd=function(){var $k=DayPilot.isIEQuirks;var $l=document.documentElement.clientHeight;if($k){$l=document.body.clientHeight;};var $m=document.documentElement.clientWidth;if($k){$m=document.body.clientWidth;};var $n=(document.documentElement&&document.documentElement.scrollTop)||document.body.scrollTop;var $o=(document.documentElement&&document.documentElement.scrollLeft)||document.body.scrollLeft;var $p={};$p.width=$m;$p.height=$l;$p.scrollTop=$n;$p.scrollLeft=$o;return $p;};DayPilot.op=function(element){try{return element.offsetParent;}catch(e){return document.body;}};DayPilot.distance=function($q,$r){return Math.sqrt(Math.pow($q.x-$r.x,2)+Math.pow($q.y-$r.y,2));};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.ac=function(e,$s){if(!$s){var $s=[];};for(var i=0;e.children&&i<e.children.length;i++){$s.push(e.children[i]);DayPilot.ac(e.children[i],$s);};return $s;};DayPilot.indexOf=function($t,$u){if(!$t||!$t.length){return -1;};for(var i=0;i<$t.length;i++){if($t[i]===$u){return i;}};return -1;};DayPilot.rfa=function($t,$u){var i=DayPilot.indexOf($t,$u);if(i===-1){return;};$t.splice(i,1);};DayPilot.debug=function($v,$w){if(!DayPilot.debugMessages){DayPilot.debugMessages=[];};DayPilot.debugMessages.push($v);if(typeof console!=='undefined'){console.log($v);}};DayPilot.debug.show=function(){alert("Log:\n"+DayPilot.debugMessages.join("\n"));};DayPilot.debug.clear=function(){DayPilot.debugMessages=[];};DayPilot.re=function(el,ev,$x){if(el.addEventListener){el.addEventListener(ev,$x,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$x);}};DayPilot.ue=function(el,ev,$x){if(el.removeEventListener){el.removeEventListener(ev,$x,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$x);}};DayPilot.tr=function($y){if(!$y)return '';return $y.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$z){var x=el;if(x.currentStyle)var y=x.currentStyle[$z];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($z);if(typeof(y)==='undefined')y='';return y;};DayPilot.ea=function(a){var $A="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])==='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$A+=encodeURIComponent(a[i]);};if(i+1<a.length){$A+='&';}};return $A;};DayPilot.he=function(str){var $p=str.replace(/&/g,"&amp;");$p=$p.replace(/</g,"&lt;");$p=$p.replace(/>/g,"&gt;");$p=$p.replace(/"/g,"&quot;");return $p;};DayPilot.ci=function($B){var i=$B.cellIndex;if(i&&i>0)return i;var tr=$B.parentNode;var $C=tr.cells.length;for(i=0;i<$C;i++){if(tr.cells[i]===$B)return i;};return null;};DayPilot.us=function(element){if(element){element.setAttribute("unselectable","on");element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType===1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $s=DayPilot.pu(d.childNodes[i]);}}};DayPilot.puc=function(d){var a=d.childNodes,i,l;if(a){var l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($B){var i=0;var tr=$B.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.fade=function(element,$D,end){var $E=50;var $g=element.style.display!=='none';var $F=$D>0;var $G=$D<0;if($D===0){return;};if($F&&!$g){element.target=parseFloat(element.style.opacity);element.opacity=0;element.style.opacity=0;element.style.filter="alpha(opacity=0)";element.style.display='';}else if($G&&!element.target){element.target=element.style.opacity;}else{var $c=element.opacity;var $H=Math.floor(10*($c+$D))/10;if($F&&$H>element.target){$H=element.target;};if($G&&$H<0){$H=0;};var ie=$H*100;element.opacity=$H;element.style.opacity=$H;element.style.filter="alpha(opacity="+ie+")";};if(($F&&(element.opacity>=element.target||element.opacity>=1))||($G&&element.opacity<=0)){element.target=null;if($G){element.style.opacity=element.target;element.opacity=element.target;var $I=element.target?"alpha(opacity="+(element.target*100)+")":null;element.style.filter=$I;element.style.display='none';};if(end&&typeof end==='function'){end();}}else{this.messageTimeout=setTimeout(function(){DayPilot.fade(element,$D,end);},$E);}};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth;};DayPilot.sh=function(element){if(!element){return 0;};return element.offsetHeight-element.clientHeight;};DayPilot.guid=function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(""+S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());};DayPilot.ua=function($t){var u={},a=[];for(var i=0,l=$t.length;i<l;++i){if($t[i]in u)continue;a.push($t[i]);u[$t[i]]=1;};return a;};(function(){DayPilot.pop=wave;function wave($J,$K){var $b={w:$J.offsetWidth,h:$J.offsetHeight,x:parseInt($J.style.left),y:parseInt($J.style.top)};$b.height=$J.style.height;$b.width=$J.style.width;$b.top=$J.style.top;$b.left=$J.style.left;$b.toString=function(){return "w: "+this.w+" h:"+this.h};var $L={};$L.finished=null;$L.vertical='center';$L.horizontal='center';if($K){for(var name in $K){$L[name]=$K[name];}};$J.style.visibility='hidden';$J.style.display='';var $M=[];var $N;var $D=0.08;$N=0.1;for(var i=$N;i<1.2;i+=$D){$M.push(i);$N=i;};$D=0.03;for(var i=$N;i>0.8;i-=$D){$M.push(i);$N=i;};for(var i=$N;i<=1;i+=$D){$M.push(i);$N=i;};$M.div=$J;$M.i=0;$M.target=$b;$M.config=$L;doStep($M);};function doStep($M){var $J=$M.div;var $O=$M[$M.i];var $P=$O*$M.target.h;var top;switch($M.config.vertical){case "center":top=$M.target.y-($P-$M.target.h)/2;break;case "top":top=$M.target.y;break;case "bottom":top=$M.target.y-($P-$M.target.h);break;default:throw "Unexpected 'vertical' value.";};var $Q=$O*$M.target.w;var $h;switch($M.config.horizontal){case "left":$h=$M.target.x;break;case "center":$h=$M.target.x-($Q-$M.target.w)/2;break;case "right":$h=$M.target.x-($Q-$M.target.w);break;default:throw "Unexpected 'horizontal' value.";};var wd=DayPilot.wd();var $R=(wd.height+wd.scrollTop)-(top+$P);if($R<0){top+=$R;};var $S=(wd.width)-($h+$Q);if($S<0){$h+=$S;};$J.style.height=$P+"px";$J.style.top=top+"px";$J.style.width=$Q+"px";$J.style.left=$h+"px";$J.style.visibility='visible';$M.i++;if($M.i<$M.length-1){setTimeout((function($M){return function(){doStep($M);};})($M),10);}else{$J.style.width=$M.target.width;$J.style.height=$M.target.height;$J.style.top=$M.target.top;$J.style.left=$M.target.left;if(typeof $M.config.finished==='function'){$M.config.finished();}}}})();DayPilot.Util={};DayPilot.Util.addClass=function($u,name){if(!$u){return;};if(!$u.className){$u.className=name;return;};var $T=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$T.test($u.className)){$u.className=$u.className+' '+name;}};DayPilot.Util.removeClass=function($u,name){if(!$u){return;};var $T=new RegExp("(^|\\s)"+name+"($|\\s)");$u.className=$u.className.replace($T,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');};DayPilot.Util.props=function(o){var t=[];for(a in o){t.push(a);t.push(o[a]);};return t.join("-");};DayPilot.Util.propArray=function($U,name){var $p=[];if(!$U||!$U.length){return $p;};for(var i=0;i<$U.length;i++){$p.push($U[i][name]);};return $p;};DayPilot.Util.updatePropsFromArray=function($U,name,$t){for(var i=0;i<$t.length;i++){$U[i][name]=$t[i];}};DayPilot.Areas={};DayPilot.Areas.showAreas=function($J,e,ev){if(DayPilot.Global.resizing){return;};if(DayPilot.Global.moving){return;};if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0){for(var i=0;i<DayPilot.Areas.all.length;i++){var d=DayPilot.Areas.all[i];if(d!==$J){DayPilot.Areas.hideAreas(d,ev);}}};if($J.active){return;};$J.active={};var $V=e.areas;if(!$V&&e.data&&e.data.areas){$V=e.data.areas;};if(!$V||$V.length===0){return;};if($J.areas&&$J.areas.length>0){return;};$J.areas=[];for(var i=0;i<$V.length;i++){var $W=$V[i];if($W.v!=='Hover'){continue;};var a=DayPilot.Areas.createArea($J,e,$W);$J.areas.push(a);$J.appendChild(a);DayPilot.Areas.all.push($J);};$J.active.children=DayPilot.ac($J);};DayPilot.Areas.createArea=function($J,e,$W){var a=document.createElement("div");a.style.position="absolute";if(typeof $W.w!=='undefined'){a.style.width=$W.w+"px";};if(typeof $W.h!=='undefined'){a.style.height=$W.h+"px";};if(typeof $W.right!=='undefined'){a.style.right=$W.right+"px";};if(typeof $W.top!=='undefined'){a.style.top=$W.top+"px";};if(typeof $W.left!=='undefined'){a.style.left=$W.left+"px";};if(typeof $W.bottom!=='undefined'){a.style.bottom=$W.bottom+"px";};if(typeof $W.html!=='undefined'&&$W.html){a.innerHTML=$W.html;};if($W.css){a.className=$W.css;};if($W.action==="ResizeEnd"||$W.action==="ResizeStart"||$W.action==="Move"){if(e.calendar.isCalendar){switch($W.action){case "ResizeEnd":$W.cursor="s-resize";$W.dpBorder="bottom";break;case "ResizeStart":$W.cursor="n-resize";$W.dpBorder="top";break;case "Move":$W.cursor="move";break;}};if(e.calendar.isScheduler||e.calendar.isMonth){switch($W.action){case "ResizeEnd":$W.cursor="e-resize";$W.dpBorder="right";break;case "ResizeStart":$W.cursor="w-resize";$W.dpBorder="left";break;case "Move":$W.cursor="move";break;}};a.onmousemove=(function($J,e,$W){return function(ev){var ev=ev||window.event;$J.style.cursor=$W.cursor;if($W.dpBorder)$J.dpBorder=$W.dpBorder;ev.cancelBubble=true;};})($J,e,$W);a.onmouseout=(function($J,e,$W){return function(ev){$J.style.cursor='';};})($J,e,$W);};if($W.action==="Bubble"&&e.isEvent){a.onmousemove=(function($J,e,$W){return function(ev){if(e.calendar.bubble){e.calendar.bubble.showEvent(e);}};})($J,e,$W);a.onmouseout=(function($J,e,$W){return function(ev){if(typeof DayPilot.Bubble!=="undefined"){if(e.calendar.bubble){e.calendar.bubble.hideOnMouseOut();}}};})($J,e,$W);};a.onmousedown=(function($J,e,$W){return function(ev){if(!e.calendar){return;};if(e.calendar.isMonth){if($W.action==="Move"||$W.action==="ResizeEnd"||$W.action==="ResizeStart"){return;};ev=ev||window.event;ev.cancelBubble=true;}};})($J,e,$W);a.onclick=(function($J,e,$W){return function(ev){var ev=ev||window.event;switch($W.action){case "JavaScript":var f=$W.js;if(typeof f==='string'){f=eval("0, "+$W.js);};if(typeof f==='function'){f(e);};break;case "ContextMenu":var m=$W.menu;if(typeof m==='string'){m=eval(m);};if(m&&m.show){m.show(e);};break;case "CallBack":alert("callback not implemented yet, id: "+$W.id);break;};ev.cancelBubble=true;;};})($J,e,$W);return a;};DayPilot.Areas.all=[];DayPilot.Areas.hideAreas=function($J,ev){if(!$J){return;};if(!$J||!$J.active){return;};var $X=$J.active;var $V=$J.areas;if($X&&$X.children){var ev=ev||window.event;if(ev){var $b=ev.toElement||ev.relatedTarget;if(~DayPilot.indexOf($X.children,$b)){return;}}};if(!$V||$V.length===0){$J.active=null;return;};for(var i=0;i<$V.length;i++){var a=$V[i];$J.removeChild(a);};$J.active=null;$J.areas=[];DayPilot.rfa(DayPilot.Areas.all,$J);$X.children=null;};DayPilot.Areas.hideAll=function(ev){if(!DayPilot.Areas.all||DayPilot.Areas.all.length===0){return;};for(var i=0;i<DayPilot.Areas.all.length;i++){DayPilot.Areas.hideAreas(DayPilot.Areas.all[i],ev);}};DayPilot.Action=function($Y,$Z,$00,$01){this.calendar=$Y;this.isAction=true;this.action=$Z;this.params=$00;this.data=$01;this.notify=function(){$Y.internal.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$Y.internal.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$Y.queue.add(this);};this.toJSON=function(){var $02={};$02.name=this.action;$02.params=this.params;$02.data=this.data;return $02;};};DayPilot.Selection=function($03,end,$04,$05){this.type='selection';this.start=$03.isDayPilotDate?$03:new DayPilot.Date($03);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$04;this.root=$05;this.toJSON=function($06){var $02={};$02.start=this.start;$02.end=this.end;$02.resource=this.resource;return $02;};};DayPilot.Event=function($01,$Y,$07){var e=this;this.calendar=$Y;this.data=$01?$01:{};this.part=$07?$07:{};if(typeof this.data.id==='undefined'){this.data.id=this.data.value;};var $08={};var $09=["id","text","start","end","resource"];this.isEvent=true;this.temp=function(){if($08.dirty){return $08;};for(var i=0;i<$09.length;i++){$08[$09[i]]=e.data[$09[i]];};$08.dirty=true;return $08;};this.copy=function(){var $p={};for(var i=0;i<$09.length;i++){$p[$09[i]]=e.data[$09[i]];};return $p;};this.commit=function(){if(!$08.dirty){return;};for(var i=0;i<$09.length;i++){e.data[$09[i]]=$08[$09[i]];};$08.dirty=false;};this.dirty=function(){return $08.dirty;};this.id=function($0a){if(typeof $0a==='undefined'){return e.data.id;}else{this.temp().id=$0a;}};this.value=function($0a){if(typeof $0a==='undefined'){return e.id();}else{e.id($0a);}};this.text=function($0a){if(typeof $0a==='undefined'){return e.data.text;}else{this.temp().text=$0a;this.client.innerHTML($0a);}};this.start=function($0a){if(typeof $0a==='undefined'){return new DayPilot.Date(e.data.start);}else{this.temp().start=new DayPilot.Date($0a);}};this.end=function($0a){if(typeof $0a==='undefined'){return new DayPilot.Date(e.data.end);}else{this.temp().end=new DayPilot.Date($0a);}};this.partStart=function(){return new DayPilot.Date(this.part.start);};this.partEnd=function(){return new DayPilot.Date(this.part.end);};this.row=function(){return this.resource();};this.allday=function(){if(typeof $0a==='undefined'){return e.data.allday;}else{this.temp().allday=$0a;}};this.isAllDay=this.allday;this.resource=function($0a){if(typeof $0a==='undefined'){return e.data.resource;}else{this.temp().resource=$0a;}};this.recurrent=function(){return e.data.recurrent;};this.recurrentMasterId=function(){return e.data.recurrentMasterId;};this.useBox=function(){return this.part.box;};this.staticBubbleHTML=function(){return e.data.bubbleHtml;};this.bubbleHtml=function(){return e.data.bubbleHtml;};this.tag=function($0b){var $0c=e.data.tag;if(!$0c){return null;};if(!$0b){return e.data.tag;};var $0d=e.calendar.tagFields;var $0e=-1;for(var i=0;i<$0d.length;i++){if($0b===$0d[i])$0e=i;};if($0e===-1){throw "Field name not found.";};return $0c[$0e];};this.client={};this.client.innerHTML=function($0a){if(typeof $0a==='undefined'){if(e.cache&&typeof e.cache.html!=="undefined"){return e.cache.html;};if(typeof e.data.html!=="undefined"){return e.data.html;};return e.data.text;}else{e.data.html=$0a;}};this.client.html=this.client.innerHTML;this.client.header=function($0a){if(typeof $0a==='undefined'){return e.data.header;}else{e.data.header=$0a;}};this.client.cssClass=function($0a){if(typeof $0a==='undefined'){return e.data.cssClass;}else{e.data.cssClass=$0a;}};this.client.toolTip=function($0a){if(typeof $0a==='undefined'){if(e.cache&&typeof e.cache.toolTip!=="undefined"){return e.cache.toolTip;};return typeof e.data.toolTip!=='undefined'?e.data.toolTip:e.data.text;}else{e.data.toolTip=$0a;}};this.client.backColor=function($0a){if(typeof $0a==='undefined'){if(e.cache&&typeof e.cache.backColor!=="undefined"){return e.cache.backColor;};return typeof e.data.backColor!=="undefined"?e.data.backColor:e.calendar.eventBackColor;}else{e.data.backColor=$0a;}};this.client.borderColor=function($0a){if(typeof $0a==='undefined'){if(e.cache&&typeof e.cache.borderColor!=="undefined"){return e.cache.borderColor;};return typeof e.data.borderColor!=="undefined"?e.data.borderColor:e.calendar.eventBorderColor;}else{e.data.borderColor=$0a;}};this.client.barColor=function($0a){if(typeof $0a==='undefined'){if(e.cache&&typeof e.cache.barColor!=="undefined"){return e.cache.barColor;};return typeof e.data.barColor!=="undefined"?e.data.barColor:e.calendar.durationBarColor;}else{e.data.barColor=$0a;}};this.client.barVisible=function($0a){if(typeof $0a==='undefined'){return e.calendar.durationBarVisible&&!e.data.barHidden;}else{e.data.barHidden=!$0a;}};this.client.contextMenu=function($0a){if(typeof $0a==='undefined'){if(e.oContextMenu){return e.oContextMenu;};return(e.data.contextMenu)?eval(e.data.contextMenu):null;}else{e.oContextMenu=$0a;}};this.client.moveEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.eventMoveHandling!=='Disabled'&&!e.data.moveDisabled;}else{e.data.moveDisabled=!$0a;}};this.client.resizeEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.eventResizeHandling!=='Disabled'&&!e.data.resizeDisabled;}else{e.data.resizeDisabled=!$0a;}};this.client.rightClickEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.rightClickHandling!=='Disabled'&&!e.data.rightClickDisabled;}else{e.data.rightClickDisabled=!$0a;}};this.client.clickEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.clickHandling!=='Disabled'&&!e.data.clickDisabled;}else{e.data.clickDisabled=!$0a;}};this.client.deleteEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0a;}};this.client.doubleClickEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.doubleClickHandling!=='Disabled'&&!e.data.doubleClickDisabled;}else{e.data.doubleClickDisabled=!$0a;}};this.client.deleteClickEnabled=function($0a){if(typeof $0a==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0a;}};this.toJSON=function($06){var $02={};$02.value=this.id();$02.id=this.id();$02.text=this.text();$02.start=this.start();$02.end=this.end();$02.resource=this.resource();$02.isAllDay=false;$02.recurrentMasterId=this.recurrentMasterId();$02.tag={};if(e.calendar.tagFields){var $0d=e.calendar.tagFields;for(var i=0;i<$0d.length;i++){$02.tag[$0d[i]]=this.tag($0d[i]);}};return $02;};};DayPilot.EventData=function(e){this.value=function(){return id;};this.tag=function(){return null;};this.start=function(){return new Date(0);};this.end=function(){return new Date($0f*1000);};this.text=function(){return $0g;};this.isAllDay=function(){return false;};this.allday=this.isAllDay;};DayPilot.request=function($0h,$0i,$0j,$0k){var $0l=DayPilot.createXmlHttp();if(!$0l){return;};$0l.open("POST",$0h,true);$0l.setRequestHeader('Content-type','text/plain');$0l.onreadystatechange=function(){if($0l.readyState!==4)return;if($0l.status!==200&&$0l.status!==304){if($0k){$0k($0l);}else{alert('HTTP error '+$0l.status);};return;};$0i($0l);};if($0l.readyState===4){return;};if(typeof $0j==='object'){$0j=DayPilot.JSON.stringify($0j);};$0l.send($0j);};DayPilot.createXmlHttp=function(){var $0m;try{$0m=new XMLHttpRequest();}catch(e){try{$0m=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $0m;};DayPilot.Date=function($0n,$0o){if(typeof $0n==='undefined'){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal();this.ticks=this.d.getTime();return;};if($0n.isDayPilotDate){return $0n;};var $0p=DayPilot.Date.Cache.Ctor;if($0p[$0n]){return $0p[$0n];};if(typeof $0n==="string"){var $p=DayPilot.Date.fromStringSortable($0n);$0p[$0n]=$p;return $p;};if(!$0n.getFullYear){throw "date parameter is not a Date object: "+$0n;};if($0o){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal($0n);this.ticks=this.d.getTime();}else{this.isDayPilotDate=true;this.d=$0n;this.ticks=this.d.getTime();}};DayPilot.Date.Cache={};DayPilot.Date.Cache.Parsing={};DayPilot.Date.Cache.Ctor={};DayPilot.Date.prototype.addDays=function($0q){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$0q));};DayPilot.Date.prototype.addHours=function($0r){return this.addTime($0r*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($0s){return this.addTime($0s);};DayPilot.Date.prototype.addMinutes=function($0t){return this.addTime($0t*60*1000);};DayPilot.Date.prototype.addMonths=function($0u){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$0u));};DayPilot.Date.prototype.addSeconds=function($0v){return this.addTime($0v*1000);};DayPilot.Date.prototype.addTime=function($0w){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$0w));};DayPilot.Date.prototype.addYears=function($0x){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$0x);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.getDayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($0y){if($0y===null){return false;};if($0y.isDayPilotDate){return DayPilot.Date.equals(this.d,$0y.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $0z=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0z);};DayPilot.Date.prototype.firstDayOfYear=function(){var $0A=this.getYear();var d=new Date();d.setUTCFullYear($0A,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($0B){var $0z=DayPilot.Date.firstDayOfWeek(this.d,$0B);return new DayPilot.Date($0z);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $0z=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0z);};DayPilot.Date.prototype.weekNumber=function(){var $0C=this.firstDayOfYear();var $0q=(this.getTime()-$0C.getTime())/86400000;return Math.ceil(($0q+$0C.dayOfWeek()+1)/7);};DayPilot.Date.prototype.local=function(){if(typeof this.offset==='undefined'){return new DayPilot.Date(this.d);};return this.addMinutes(this.offset);};DayPilot.Date.prototype.weekNumberISO=function(){var $0D=false;var $0E=this.dayOfYear();var $0F=this.firstDayOfYear().dayOfWeek();var $0G=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($0F===0){$0F=7;};if($0G===0){$0G=7;};var $0H=8-($0F);if($0F===4||$0G===4){$0D=true;};var $0I=Math.ceil(($0E-($0H))/7.0);var $0J=$0I;if($0H>=4){$0J=$0J+1;};if($0J>52&&!$0D){$0J=1;};if($0J===0){$0J=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $0J;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function($0K,$0L){if(typeof $0K==='undefined'){return this.toStringSortable();};return new $0M($0K,$0L).print(this);};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.parse=function(str,$0K){var p=new $0M($0K);return p.parse(str);};DayPilot.Date.fromStringSortable=function($0N){var $p;if(!$0N){throw "Can't create DayPilot.Date from empty string";};var $C=$0N.length;var $0n=$C===10;var $0O=$C=19;var $0P=$C===25;if(!$0n&&!$0O&&!$0P){throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";};if(DayPilot.Date.Cache.Parsing[$0N]){return DayPilot.Date.Cache.Parsing[$0N];};var $0A=$0N.substring(0,4);var $0Q=$0N.substring(5,7);var $0R=$0N.substring(8,10);var d=new Date();d.setUTCFullYear($0A,$0Q-1,$0R);if($0n){d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);$p=new DayPilot.Date(d);DayPilot.Date.Cache.Parsing[$0N]=$p;return $p;};var $0r=$0N.substring(11,13);var $0t=$0N.substring(14,16);var $0v=$0N.substring(17,19);d.setUTCHours($0r);d.setUTCMinutes($0t);d.setUTCSeconds($0v);d.setUTCMilliseconds(0);var $p=new DayPilot.Date(d);if($0O){DayPilot.Date.Cache.Parsing[$0N]=$p;return $p;};var $0S=$0N[20];var $0T=$0N.substring(21,23);var $0U=$0N.substring(24);var $0V=$0T*60+$0U;if($0S==="-"){$0V=-$0V;};$p=$p.addMinutes(-$0V);$p.offset=$0W;DayPilot.Date.Cache.Parsing[$0N]=$p;return $p;};DayPilot.Date.addDays=function($0n,$0q){var d=new Date();d.setTime($0n.getTime()+$0q*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($0n,$0t){var d=new Date();d.setTime($0n.getTime()+$0t*60*1000);return d;};DayPilot.Date.addMonths=function($0n,$0u){if($0u===0)return $0n;var y=$0n.getUTCFullYear();var m=$0n.getUTCMonth()+1;if($0u>0){while($0u>=12){$0u-=12;y++;};if($0u>12-m){y++;m=$0u-(12-m);}else{m+=$0u;}}else{while($0u<=-12){$0u+=12;y--;};if(m<=$0u){y--;m=12-($0u+m);}else{m=m+$0u;}};var d=DayPilot.Date.clone($0n);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($0n,$0X){var d=new Date();d.setTime($0n.getTime()+$0X);return d;};DayPilot.Date.clone=function($0Y){var d=new Date();return DayPilot.Date.dateFromTicks($0Y.getTime());};DayPilot.Date.daysDiff=function($0C,$0Z){if($0C.getTime()>$0Z.getTime()){return null;};var i=0;var $10=DayPilot.Date.getDate($0C);var $11=DayPilot.Date.getDate($0Z);while($10<$11){$10=DayPilot.Date.addDays($10,1);i++;};return i;};DayPilot.Date.daysInMonth=function($0A,$0Q){if($0A.getUTCFullYear){$0Q=$0A.getUTCMonth()+1;$0A=$0A.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($0Q!==2)return m[$0Q-1];if($0A%4!==0)return m[1];if($0A%100===0&&$0A%400!==0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($0C,$0Z){if($0C.getTime()===$0Z.getTime()){return 0;};var $12=DayPilot.Date.daysDiff($0C,$0Z);if(DayPilot.Date.equals($0Z,DayPilot.Date.getDate($0Z))){$12--;};return $12;};DayPilot.Date.diff=function($0C,$0Z){if(!($0C&&$0Z&&$0C.getTime&&$0Z.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $0C.getTime()-$0Z.getTime();};DayPilot.Date.equals=function($0C,$0Z){return $0C.getTime()===$0Z.getTime();};DayPilot.Date.fromLocal=function($13){if(!$13){$13=new Date();};var d=new Date();d.setUTCFullYear($13.getFullYear(),$13.getMonth(),$13.getDate());d.setUTCHours($13.getHours());d.setUTCMinutes($13.getMinutes());d.setUTCSeconds($13.getSeconds());d.setUTCMilliseconds($13.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($0A,$0Q){var d=new Date();d.setUTCFullYear($0A,$0Q-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$0B){var $0R=d.getUTCDay();while($0R!==$0B){d=DayPilot.Date.addDays(d,-1);$0R=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($0w){var d=new Date();d.setTime($0w);return d;};DayPilot.Date.getDate=function($0Y){var d=DayPilot.Date.clone($0Y);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($0A,$0Q,$0B){var $14=DayPilot.Date.firstDayOfMonth($0A,$0Q);d=DayPilot.Date.firstDayOfWeek($14,$0B);return d;};DayPilot.Date.getTime=function($0Y){var $0n=DayPilot.Date.getDate($0Y);return DayPilot.Date.diff($0Y,$0n);};DayPilot.Date.hours=function($0n,$15){var $16=$0n.getUTCMinutes();if($16<10)$16="0"+$16;var $17=$0n.getUTCHours();if($15){var am=$17<12;var $17=$17%12;if($17===0){$17=12;};var $18=am?"AM":"PM";return $17+':'+$16+' '+$18;}else{return $17+':'+$16;}};DayPilot.Date.lastDayOfMonth=function($0A,$0Q){var d=DayPilot.Date.firstDayOfMonth($0A,$0Q);var length=DayPilot.Date.daysInMonth($0A,$0Q);d.setUTCDate(length);return d;};DayPilot.Date.max=function($0C,$0Z){if($0C.getTime()>$0Z.getTime()){return $0C;}else{return $0Z;}};DayPilot.Date.min=function($0C,$0Z){if($0C.getTime()<$0Z.getTime()){return $0C;}else{return $0Z;}};DayPilot.Date.today=function(){var $19=new Date();var d=new Date();d.setUTCFullYear($19.getFullYear());d.setUTCMonth($19.getMonth());d.setUTCDate($19.getDate());return d;};DayPilot.Date.toLocal=function($0n){if(!$0n){$0n=new Date();};var d=new Date();d.setFullYear($0n.getUTCFullYear(),$0n.getUTCMonth(),$0n.getUTCDate());d.setHours($0n.getUTCHours());d.setMinutes($0n.getUTCMinutes());d.setSeconds($0n.getUTCSeconds());d.setMilliseconds($0n.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($0n){if($0n.isDayPilotDate){return $0n.toStringSortable();};var d=$0n;var $0Z=d.getUTCSeconds();if($0Z<10)$0Z="0"+$0Z;var $16=d.getUTCMinutes();if($16<10)$16="0"+$16;var $17=d.getUTCHours();if($17<10)$17="0"+$17;var $0R=d.getUTCDate();if($0R<10)$0R="0"+$0R;var $0Q=d.getUTCMonth()+1;if($0Q<10)$0Q="0"+$0Q;var $0A=d.getUTCFullYear();if($0A<=0){throw "The minimum year supported is 1.";};if($0A<10){$0A="000"+$0A;}else if($0A<100){$0A="00"+$0A;}else if($0A<1000){$0A="0"+$0A;};return $0A+"-"+$0Q+"-"+$0R+'T'+$17+":"+$16+":"+$0Z;};var $0M=function($0K,$0L){if(typeof $0L==="string"){$0L=DayPilot.Locale.find($0L);};var $0L=$0L||DayPilot.Locale.US;var $1a=[{"seq":"yyyy","expr":"[0-9]{4,4};","str":function(d){return d.getYear();}},{"seq":"MMMM","expr":"[a-z]*","str":function(d){var r=$0L.monthNames[d.getMonth()];return r;}},{"seq":"MM","expr":"[0-9]{2,2};","str":function(d){var r=d.getMonth()+1;return r<10?"0"+r:r;}},{"seq":"M","expr":"[0-9]{1,2};","str":function(d){var r=d.getMonth()+1;return r;}},{"seq":"dddd","expr":"[a-z]*","str":function(d){var r=$0L.dayNames[d.getDayOfWeek()];return r;}},{"seq":"dd","expr":"[0-9]{2,2};","str":function(d){var r=d.getDay();return r<10?"0"+r:r;}},{"seq":"d","expr":"[0-9]{1,2};","str":function(d){var r=d.getDay();return r;}},{"seq":"m","expr":"[0-9]{1,2};","str":function(d){var r=d.getMinutes();return r;}},{"seq":"mm","expr":"[0-9]{2,2};","str":function(d){var r=d.getMinutes();return r<10?"0"+r:r;}},{"seq":"H","expr":"[0-9]{1,2};","str":function(d){var r=d.getHours();return r;}},{"seq":"HH","expr":"[0-9]{2,2};","str":function(d){var r=d.getHours();return r<10?"0"+r:r;}},{"seq":"h","expr":"[0-9]{1,2};","str":function(d){var $17=d.getHours();var $17=$17%12;if($17===0){$17=12;};return $17;}},{"seq":"hh","expr":"[0-9]{2,2};","str":function(d){var $17=d.getHours();var $17=$17%12;if($17===0){$17=12;};var r=$17;return r<10?"0"+r:r;}},{"seq":"tt","expr":"(AM|PM)","str":function(d){var $17=d.getHours();var am=$17<12;return am?"AM":"PM";}},{"seq":"s","expr":"[0-9]{1,2};","str":function(d){var r=d.getSeconds();return r;}},{"seq":"ss","expr":"[0-9]{2,2};","str":function(d){var r=d.getSeconds();return r<10?"0"+r:r;}}];var escape=function($0g){return $0g.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&");};this.init=function(){this.year=this.findSequence("yyyy");this.month=this.findSequence("MM")||this.findSequence("M");this.day=this.findSequence("dd")||this.findSequence("d");this.hours=this.findSequence("HH")||this.findSequence("H");this.minutes=this.findSequence("mm")||this.findSequence("m");this.seconds=this.findSequence("ss")||this.findSequence("s");};this.findSequence=function($1b){var $0e=$0K.indexOf($1b);if($0e===-1){return null;};return{"findValue":function($1c){var $1d=escape($0K);for(var i=0;i<$1a.length;i++){var $C=$1a[i].length;var $1e=($1b===$1a[i].seq);var $1f=$1a[i].expr;if($1e){$1f="("+$1f+")";};$1d=$1d.replace($1a[i].seq,$1f);};try{var r=new RegExp($1d);var $t=r.exec($1c);if(!$t){return null;};return parseInt($t[1]);}catch(e){alert("unable to create regex from: "+$1d);}}};};this.print=function($0n){var find=function(t){for(var i=0;i<$1a.length;i++){if($1a[i].seq===t){return $1a[i];}};return null;};var $1g=$0K.length<=0;var $1h=0;var $1i=[];while(!$1g){var $1j=$0K.substring($1h);var $1k=/(.)\1*/.exec($1j);if($1k&&$1k.length>0){var $1l=$1k[0];var q=find($1l);if(q){$1i.push(q);}else{$1i.push($1l);};$1h+=$1l.length;$1g=$0K.length<=$1h;}else{$1g=true;}};for(var i=0;i<$1i.length;i++){var c=$1i[i];if(typeof c!=='string'){$1i[i]=c.str($0n);}};return $1i.join("");};this.parse=function($1c){var $0A=this.year.findValue($1c);if(!$0A){return null;};var $0Q=this.month.findValue($1c);var $0R=this.day.findValue($1c);var $0r=this.hours?this.hours.findValue($1c):0;var $0t=this.minutes?this.minutes.findValue($1c):0;var $0v=this.seconds?this.seconds.findValue($1c):0;var d=new Date();d.setUTCFullYear($0A,$0Q-1,$0R);d.setUTCHours($0r);d.setUTCMinutes($0t);d.setUTCSeconds($0v);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};this.init();};DayPilot.Action=function($Y,$Z,$00,$01){this.calendar=$Y;this.isAction=true;this.action=$Z;this.params=$00;this.data=$01;this.notify=function(){$Y.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$Y.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$Y.queue.add(this);};this.toJSON=function(){var $02={};$02.name=this.action;$02.params=this.params;$02.data=this.data;return $02;};};DayPilot.Locale=function(id,$L){this.id=id;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"];this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.datePattern="M/d/yyyy";this.timePattern="H:mm";this.dateTimePattern="M/d/yyyy H:mm";this.timeFormat="Clock12Hours";this.weekStarts=0;if($L){for(var name in $L){this[name]=$L[name];}}};DayPilot.Locale.all={};DayPilot.Locale.find=function(id){if(!id){return null;};var $1m=id.toLowerCase();if($1m.length>2){$1m[2]='-';};return DayPilot.Locale.all[$1m];};DayPilot.Locale.register=function($0L){DayPilot.Locale.all[$0L.id]=$0L;};DayPilot.Locale.register(new DayPilot.Locale('de-de',{'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-au',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-ca',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('en-gb',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-us',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'M/d/yyyy','dateTimePattern':'M/d/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('es-es',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['D','L','M','X','J','V','S'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('es-mx',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['do.','lu.','ma.','mi.','ju.','vi.','sá.'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'hh:mm tt','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy hh:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('fr-fr',{'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('it-it',{'dayNames':['domenica','lunedì','martedì','mercoledì','giovedì','venerdì','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'timePattern':'HH.mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH.mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('ja-jp',{'dayNames':['日曜日','月曜日','火曜日','水曜日','木曜日','金曜日','土曜日'],'dayNamesShort':['日','月','火','水','木','金','土'],'monthNames':['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('pt-br',{'dayNames':['domingo','segunda-feira','terça-feira','quarta-feira','quinta-feira','sexta-feira','sábado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('ru-ru',{'dayNames':['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],'dayNamesShort':['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],'monthNames':['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('zh-cn',{'dayNames':['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],'dayNamesShort':['日','一','二','三','四','五','六'],'monthNames':['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月',''],'timePattern':'H:mm','datePattern':'yyyy/M/d','dateTimePattern':'yyyy/M/d H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('sv-se',{'dayNames':['söndag','måndag','tisdag','onsdag','torsdag','fredag','lördag'],'dayNamesShort':['sö','må','ti','on','to','fr','lö'],'monthNames':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('da-dk',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','marts','april','maj','juni','juli','august','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'dd-MM-yyyy','dateTimePattern':'dd-MM-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nb-no',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nn-no',{'dayNames':['søndag','måndag','tysdag','onsdag','torsdag','fredag','laurdag'],'dayNamesShort':['sø','må','ty','on','to','fr','la'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('fi-fi',{'dayNames':['sunnuntai','maanantai','tiistai','keskiviikko','torstai','perjantai','lauantai'],'dayNamesShort':['su','ma','ti','ke','to','pe','la'],'monthNames':['tammikuu','helmikuu','maaliskuu','huhtikuu','toukokuu','kesäkuu','heinäkuu','elokuu','syyskuu','lokakuu','marraskuu','joulukuu',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nl-nl',{'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'d-M-yyyy','dateTimePattern':'d-M-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('cs-cz',{'dayNames':['neděle','pondělí','úterý','středa','čtvrtek','pátek','sobota'],'dayNamesShort':['ne','po','út','st','čt','pá','so'],'monthNames':['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec',''],'timePattern':'H:mm','datePattern':'d. M. yyyy','dateTimePattern':'d. M. yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.US=DayPilot.Locale.find("en-us");DayPilot.Switcher=function(){var $1n=this;this.views=[];this.switchers=[];this.navigator={};this.active=null;this.day=new DayPilot.Date();this.navigator.updateMode=function($1o){var $1p=$1n.navigator.control;if(!$1p){return;};$1p.selectMode=$1o;$1p.select($1n.day);};this.addView=function($1p){var $1q={};$1q.isView=true;$1q.id=$1p.id;$1q.control=$1p;$1q.hide=function(){if($1p.hide){$1p.hide();}else{$1p.nav.top.style.display='none';}};$1q.show=function(){if($1p.show){$1p.show();}else{$1p.nav.top.style.display='';}};$1q.selectMode=function(){if($1p.isCalendar){switch($1p.viewType){case "Day":return "day";case "Week":return "week";case "WorkWeek":return "week";default:return "day";}}else if($1p.isMonth){switch($1p.viewType){case "Month":return "month";case "Weeks":return "week";default:return "day";}};return "day";};this.views.push($1q);};this.addButton=function(id,$1p){var element;if(typeof id==='string'){element=document.getElementById(id);}else{element=id;};var $1q=this.$1J($1p);if(!$1q){throw "View not found";};var $1r={};$1r.element=element;$1r.view=$1q;$1r.onClick=function(ev){$1n.show($1r.view);var $1o=$1r.view.selectMode();$1n.navigator.updateMode($1o);ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;};DayPilot.re(element,'click',$1r.onClick);};this.addNavigator=function($1p){$1n.navigator.control=$1p;$1p.timeRangeSelectedHandling="JavaScript"
$1p.onTimeRangeSelected=function($03,end,$0R){$1n.day=$0R;$1n.active.control.commandCallBack("navigate",{"day":$1n.day});};};this.show=function($1p){var $1q=$1p.isView?$1p:this.$1J($1p);if(this.active===$1q){return;};this.active=$1q;this.$1K();$1q.show();$1n.active.control.commandCallBack("navigate",{"day":this.day});};this.$1J=function($1p){for(var i=0;i<this.views.length;i++){if(this.views[i].control===$1p){return this.views[i];}};return null;};this.$1K=function(){for(var i=0;i<this.views.length;i++){this.views[i].hide();}};};var $1s=function(id){var $1n=this;this.id=id;this.widths=[];this.titles=[];this.splitterWidth=3;this.css={};this.css.title=null;this.css.titleInner=null;this.css.splitter=null;this.blocks=[];this.drag={};this.updated=function(){};this.updating=function(){};this.init=function(){var $J;if(!id){throw "error: id not provided";}else if(typeof id==='string'){$J=document.getElementById(id);}else if(typeof id.appendChild==='function'){$J=id;}else{throw "error: invalid object provided";};this.div=$J;this.blocks=[];for(var i=0;i<this.widths.length;i++){var s=document.createElement("div");s.style.float="left";s.style.height="100%";s.style.width=(this.widths[i]-this.splitterWidth)+"px";s.style.display.overflow='hidden';s.style.verticalAlign="top";s.style.position="relative";s.setAttribute("unselectable","on");s.className=this.css.title;$J.appendChild(s);var $1t=document.createElement("div");$1t.innerHTML=this.titles[i];$1t.setAttribute("unselectable","on");$1t.className=this.css.titleInner;s.appendChild($1t);var $1u=document.createElement("div");$1u.style.top="0px";$1u.style.float="left";$1u.style.height="100%";$1u.style.width=this.splitterWidth+"px";$1u.style.cursor="col-resize";$1u.setAttribute("unselectable","on");$1u.className=this.css.splitter;var $01={};$01.index=i;$01.width=this.widths[i];$1u.data=$01;$1u.onmousedown=function(ev){$1n.drag.start=DayPilot.page(ev);$1n.drag.data=this.data;$1n.div.style.cursor="col-resize";ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;};$J.appendChild($1u);var $1v={};$1v.section=s;$1v.handle=$1u;this.blocks.push($1v);};this.registerGlobalHandlers();};this.updateWidths=function(){for(var i=0;i<this.blocks.length;i++){this.updateWidth(i);}};this.updateWidth=function(i){var $1v=this.blocks[i];$1v.section.style.width=(this.widths[i]-this.splitterWidth)+"px";};this.totalWidth=function(){var t=0;for(var i=0;i<this.widths.length;i++){t+=this.widths[i];};return t;};this.gMouseMove=function(ev){if(!$1n.drag.start){return;};var $01=$1n.drag.data;var $1w=DayPilot.page(ev);var $1x=$1w.x-$1n.drag.start.x;var i=$01.index;$1n.widths[i]=$01.width+$1x;$1n.updateWidth(i);var $00={};$00.widths=this.widths;$00.index=$01.index;$1n.updating($00);};this.gMouseUp=function(ev){if(!$1n.drag.start){return;};$1n.drag.start=null;document.body.style.cursor="";$1n.div.style.cursor="";var $01=$1n.drag.data;$01.width=$1n.widths[$01.index];var $00={};$00.widths=this.widths;$00.index=$01.index;$1n.updated($00);};this.registerGlobalHandlers=function(){DayPilot.re(document,'mousemove',this.gMouseMove);DayPilot.re(document,'mouseup',this.gMouseUp);};};DayPilot.Splitter=$1s;})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($06){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($06){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1y=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1z,$1A,$1B={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$1C;function quote($0N){$1y.lastIndex=0;return $1y.test($0N)?'"'+$0N.replace($1y,function(a){var c=$1B[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$0N+'"';};function str($06,$1D){var i,k,v,length,$1E=$1z,$1F,$1G=$1D[$06];if($1G&&typeof $1G==='object'&&typeof $1G.toJSON2==='function'){$1G=$1G.toJSON2($06);}else if($1G&&typeof $1G==='object'&&typeof $1G.toJSON==='function'&&!$1G.ignoreToJSON){$1G=$1G.toJSON($06);};if(typeof $1C==='function'){$1G=$1C.call($1D,$06,$1G);};switch(typeof $1G){case 'string':return quote($1G);case 'number':return isFinite($1G)?String($1G):'null';case 'boolean':case 'null':return String($1G);case 'object':if(!$1G){return 'null';};$1z+=$1A;$1F=[];if(typeof $1G.length==='number'&&!$1G.propertyIsEnumerable('length')){length=$1G.length;for(i=0;i<length;i+=1){$1F[i]=str(i,$1G)||'null';};v=$1F.length===0?'[]':$1z?'[\n'+$1z+$1F.join(',\n'+$1z)+'\n'+$1E+']':'['+$1F.join(',')+']';$1z=$1E;return v;};if($1C&&typeof $1C==='object'){length=$1C.length;for(i=0;i<length;i+=1){k=$1C[i];if(typeof k==='string'){v=str(k,$1G);if(v){$1F.push(quote(k)+($1z?': ':':')+v);}}}}else{for(k in $1G){if(Object.hasOwnProperty.call($1G,k)){v=str(k,$1G);if(v){$1F.push(quote(k)+($1z?': ':':')+v);}}}};v=($1F.length===0)?'{\u007D':$1z?'{\n'+$1z+$1F.join(',\n'+$1z)+'\n'+$1E+'\u007D':'{'+$1F.join(',')+'\u007D';$1z=$1E;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($1G,$1H,$1I){var i;$1z='';$1A='';if(typeof $1I==='number'){for(i=0;i<$1I;i+=1){$1A+=' ';}}else if(typeof $1I==='string'){$1A=$1I;};$1C=$1H;if($1H&&typeof $1H!=='function'&&(typeof $1H!=='object'||typeof $1H.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$1G});};};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.DatePicker!=='undefined'){return;};DayPilot.DatePicker=function(id,$a,$b){this.v='215';var $c="navigator";var $d=this;var $e=$a||"M/d/yyyy";var element=(id&&id.nodeType&&id.nodeType===1)?id:document.getElementById(id);var navigator=new DayPilot.Navigator($c);navigator.timeRangeSelectedHandling="JavaScript";navigator.cssOnly=true;navigator.cssClassPrefix="navigator_white";navigator.weekStarts=1;navigator.onTimeRangeSelected=function($f){element.value=$f.toString($e);$d.close();if($b)$b($f);};this.navigator=navigator;this.close=function(){this.div.innerHTML='';document.body.removeChild(this.div);};this.show=function(){var $g=document.getElementById($c);if($g){$g.innerHTML='';document.body.removeChild($g);return;};var $h=DayPilot.abs(element);var $i=element.offsetHeight;var $j=document.createElement("div");$j.style.position="absolute";$j.style.left=$h.x+"px";$j.style.top=($h.y+$i)+"px";$j.id=$c;document.body.appendChild($j);this.div=$j;var $k=DayPilot.Date.parse(element.value,$e)||new DayPilot.Date().getDatePart();navigator.startDate=$k;navigator.selectionStart=$k;navigator.Init();};};})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMenu==='undefined'){var DayPilotMenu=DayPilot.MenuVisible={};};(function(){if(typeof DayPilot.Menu!=='undefined'){return;};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.clickRegistered=false;DayPilot.Menu=function($a){var $b=this;this.v='215';this.zIndex=10;this.useShadow=true;this.cssClassPrefix=null;this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;if($a&&DayPilot.isArray($a)){this.items=$a;};this.show=function(e,$c){var $d=(typeof e.value==='function')?e.value():null;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$c){DayPilotMenu.menuClean();};this.submenu=null;if(DayPilotMenu.mouse===null)return;var $e=document.createElement("div");$e.style.position="absolute";$e.style.top="0px";$e.style.left="0px";$e.style.display='none';$e.style.overflow='hidden';$e.style.zIndex=this.zIndex+1;$e.className=this.applyCssClass('main');$e.onclick=function(){this.parentNode.removeChild(this);};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$e.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $f=document.createElement("div");if(typeof mi==='undefined'){continue;};if(mi.text==='-'){var $g=document.createElement("div");$f.appendChild($g);}else{var $h=document.createElement("a");$h.style.position='relative';$h.style.display="block";if(mi.href){$h.href=mi.href.replace(/\x7B0\x7D/gim,$d);$h.setAttribute("target",mi.target);}else if(mi.onclick){$h.item=mi;$h.onclick=mi.onclick;}else if(mi.command){var $i=function(mi,$h){return function(){var $j=$h.source;var $f=mi;$f.action=$f.action?$f.action:'CallBack';var $k=$j.calendar||$j.root;switch($j.type){case 'resource':$k.internal.resourceHeaderMenuClick($f.command,$j,$f.action);return;case 'selection':$k.internal.timeRangeMenuClick($f.command,$j,$f.action);return;default:$k.internal.eventMenuClick($f.command,$j,$f.action);return;}};};$h.onclick=$i(mi,$h);};$h.source=e;var $l=document.createElement("span");$l.innerHTML=mi.text;$h.appendChild($l);if(mi.image){var $m=document.createElement("img");$m.src=mi.image;$m.style.position='absolute';$m.style.top='0px';$m.style.left='0px';$h.appendChild($m);};var $n=function(mi,$h){return function(){var $j=$h.source;var $f=mi;setTimeout(function(){if($b.submenu&&$b.submenu.item===$f){return;};if($b.submenu&&$b.submenu.item!==$f){$b.submenu.menu.hide();$b.submenu=null;};if(!$f.items){return;};var $o=$b.cloneOptions();$o.items=$f.items;$b.submenu={};$b.submenu.menu=new DayPilot.Menu($o);$b.submenu.menu.show($j,true);$b.submenu.item=$f;},500);};};$h.onmouseover=$n(mi,$h);$f.appendChild($h);};$e.appendChild($f);};$e.onclick=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();},100);};$e.onmousedown=function(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$e.oncontextmenu=function(){return false;};document.body.appendChild($e);$e.style.display='';var $p=$e.clientHeight;var $q=$e.offsetWidth;$e.style.display='none';var $r=document.documentElement.clientHeight;DayPilotMenu.mouse.x+=1;DayPilotMenu.mouse.y+=1;if(DayPilotMenu.mouse.clientY>$r-$p&&$r!==0){var $s=DayPilotMenu.mouse.clientY-($r-$p)+5;$e.style.top=(DayPilotMenu.mouse.y-$s)+'px';}else{$e.style.top=DayPilotMenu.mouse.y+'px';};var $t=document.documentElement.clientWidth;if(DayPilotMenu.mouse.clientX>$t-$q&&$t!==0){var $u=DayPilotMenu.mouse.clientX-($t-$q)+5;$e.style.left=(DayPilotMenu.mouse.x-$u)+'px';}else{$e.style.left=DayPilotMenu.mouse.x+'px';};$e.style.display='';this.addShadow($e);this.div=$e;if(!$c){DayPilot.Menu.active=this;};return;};this.applyCssClass=function($v){if(this.cssClassPrefix){return this.cssClassPrefix+(this.cssOnly?"_":"")+$v;}else{return "";}};this.cloneOptions=function(){var $o={};var $w=['cssOnly','cssClassPrefix','useShadow','zIndex'];for(var i=0;i<$w.length;i++){var p=$w[i];$o[p]=this[p];};return $o;};this.hide=function(){if(this.submenu){this.submenu.menu.hide();};this.removeShadow();document.body.removeChild(this.div);};this.addShadow=function($x){if(!this.useShadow||this.cssOnly){return;};if(!$x){return;};if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $y=document.createElement('div');$y.style.position='absolute';$y.style.width=$x.offsetWidth+'px';$y.style.height=$x.offsetHeight+'px';$y.style.top=$x.offsetTop+i+'px';$y.style.left=$x.offsetLeft+i+'px';$y.style.zIndex=this.zIndex;$y.style.filter='alpha(opacity:10)';$y.style.opacity=0.1;$y.style.backgroundColor='#000000';document.body.appendChild($y);this.shadows.push($y);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};var $o=DayPilot.isArray($a)?null:$a;if($o){for(var name in $o){this[name]=$o[name];}};DayPilot.re(document.body,'mousemove',DayPilotMenu.mouseMove);if(!DayPilotMenu.clickRegistered){DayPilot.re(document,'mousedown',DayPilotMenu.menuClean);DayPilotMenu.clickRegistered=true;}};DayPilotMenu.menuClean=function(ev){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined')return;DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.mousePosition=function(e){var $z=0;var $A=0;if(!e)var e=window.event;if(e.pageX||e.pageY){$z=e.pageX;$A=e.pageY;}else if(e.clientX||e.clientY){$z=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;$A=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;};var $B={};$B.x=$z;$B.y=$A;$B.clientY=e.clientY;$B.clientX=e.clientX;return $B;};DayPilot.MenuVisible.Menu=DayPilotMenu.Menu;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof(DayPilot)==='undefined'){DayPilot={};};(function(){DayPilot.ModalStatic={};DayPilot.ModalStatic.list=[];DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var $a=this.list.pop();if($a){$a.hide();}}};DayPilot.ModalStatic.remove=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){$c.splice(i,1);return;}}};DayPilot.ModalStatic.close=function($d){DayPilot.ModalStatic.result($d);DayPilot.ModalStatic.hide();};DayPilot.ModalStatic.result=function(r){var $c=DayPilot.ModalStatic.list;if($c.length>0){$c[$c.length-1].result=r;}};DayPilot.ModalStatic.displayed=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){return true;}};return false;};var $e=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.Modal=function(){this.autoStretch=true;this.autoStretchFirstLoadOnly=false;this.border="10px solid #ccc";this.corners='Rounded';this.className=null;this.dragDrop=true;this.height=200;this.maxHeight=null;this.opacity=30;this.scrollWithPage=true;this.top=20;this.useIframe=true;this.width=300;this.zIndex=null;this.closed=null;var $f=this;this.id='_'+new Date().getTime()+'n'+(Math.random()*10);this.registered=false;this.start=null;this.coords=null;this.showHtml=function($g){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};if(!this.div){this.create();};this.update();if(this.useIframe){var $h=function(p,$i){return function(){p.setInnerHTML(p.id+"iframe",$i);};};window.setTimeout($h(this,$g),0);}else{this.div.innerHTML=$g;};this.register();};this.rounded=function(){return this.corners&&this.corners.toLowerCase()==='rounded';};this.showUrl=function($j){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};this.useIframe=true;if(!this.div){this.create();};this.re(this.iframe,"load",this.onIframeLoad);this.iframe.src=$j;this.update();this.register();};this.update=function(){var $k=window;var $l=document;var scrollY=$k.pageYOffset?$k.pageYOffset:(($l.documentElement&&$l.documentElement.scrollTop)?$l.documentElement.scrollTop:$l.body.scrollTop);var $m=function(){return $f.windowRect().y;};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")";this.hideDiv.style.opacity="0."+this.opacity;this.hideDiv.style.backgroundColor="black";if(this.zIndex){this.hideDiv.style.zIndex=this.zIndex;};this.hideDiv.style.display='';window.setTimeout(function(){$f.hideDiv.onclick=function(){$f.hide();};},500);this.div.className=this.className;this.div.style.border=this.border;if(this.rounded()){this.div.style.MozBorderRadius="5px";this.div.style.webkitBorderRadius="5px";this.div.style.borderRadius="5px";};this.div.style.marginLeft='-'+Math.floor(this.width/2)+"px";this.div.style.position='absolute';this.div.style.top=(scrollY+this.top)+'px';this.div.style.width=this.width+'px';if(this.zIndex){this.div.style.zIndex=this.zIndex;};if(this.height){this.div.style.height=this.height+'px';};if(this.useIframe&&this.height){this.iframe.style.height=(this.height)+'px';};this.div.style.display='';DayPilot.ModalStatic.list.push(this);};this.onIframeLoad=function(){$f.iframe.contentWindow.modal=$f;if($f.autoStretch){$f.stretch();}};this.stretch=function(){var $m=function(){return $f.windowRect().y;};var $n=this.maxHeight||$m()-2*this.top;for(var h=this.height;h<$n&&this.hasScrollbar();h+=10){this.iframe.style.height=(h)+'px';this.div.style.height=h+'px';};if(this.autoStretchFirstLoadOnly){this.ue(this.iframe,"load",this.onIframeLoad);}};this.hasScrollbar=function(){var document=this.iframe.contentWindow.document;var $o=document.compatMode==='BackCompat'?document.body:document.documentElement;var $p=$o.scrollHeight>$o.clientHeight;var $q=$o.scrollWidth>$o.clientWidth;return $p;};this.windowRect=function(){var $l=document;if($l.compatMode==="CSS1Compat"&&$l.documentElement&&$l.documentElement.clientWidth){var x=$l.documentElement.clientWidth;var y=$l.documentElement.clientHeight;return{x:x,y:y};}else{var x=$l.body.clientWidth;var y=$l.body.clientHeight;return{x:x,y:y};}};this.register=function(){if(this.registered){return;};this.re(window,'resize',this.resize);this.re(window,'scroll',this.resize);if(this.dragDrop){this.re(document,'mousemove',this.drag);this.re(document,'mouseup',this.drop);};this.registered=true;};this.drag=function(e){if(!$f.coords){return;};var e=e||window.event;var $r=$f.mc(e);var x=$r.x-$f.coords.x;var y=$r.y-$f.coords.y;$f.div.style.marginLeft='0px';$f.div.style.top=($f.start.y+y)+"px";$f.div.style.left=($f.start.x+x)+"px";};this.drop=function(e){if(!$f.coords){return;};$f.unmaskIframe();$f.coords=null;};this.maskIframe=function(){if(!this.useIframe){return;};var $s=80;var $t=document.createElement("div");$t.style.backgroundColor="#ffffff";$t.style.filter="alpha(opacity="+$s+")";$t.style.opacity="0."+$s;$t.style.width="100%";$t.style.height=this.height+"px";$t.style.position="absolute";$t.style.left='0px';$t.style.top='0px';this.div.appendChild($t);this.mask=$t;};this.unmaskIframe=function(){if(!this.useIframe){return;};this.div.removeChild(this.mask);this.mask=null;};this.resize=function(){if(!$f.hideDiv){return;};if(!$f.div){return;};if($f.hideDiv.style.display==='none'){return;};if($f.div.style.display==='none'){return;};var scrollY=window.pageYOffset?window.pageYOffset:((document.documentElement&&document.documentElement.scrollTop)?document.documentElement.scrollTop:document.body.scrollTop);if(!$f.scrollWithPage){$f.div.style.top=(scrollY+$f.top)+'px';}};this.re=function(el,ev,$u){if(el.addEventListener){el.addEventListener(ev,$u,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$u);}};this.ue=function(el,ev,$u){if(el.removeEventListener){el.removeEventListener(ev,$u,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$u);}};this.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};this.abs=function(element){var r={x:element.offsetLeft,y:element.offsetTop};while(element.offsetParent){element=element.offsetParent;r.x+=element.offsetLeft;r.y+=element.offsetTop;};return r;};this.create=function(){var $v=document.createElement("div");$v.id=this.id+"hide";$v.style.position='fixed';$v.style.left="0px";$v.style.top="0px";$v.style.right="0px";$v.style.bottom="0px";$v.style.backgroundColor="black";$v.style.opacity=0.50;$v.oncontextmenu=function(){return false;};document.body.appendChild($v);var $w=document.createElement("div");$w.id=this.id+'popup';$w.style.position='fixed';$w.style.left='50%';$w.style.top='0px';$w.style.backgroundColor='white';$w.style.width="50px";$w.style.height="50px";if(this.dragDrop){$w.onmousedown=this.dragStart;};var $x=50;var $y=null;if(this.useIframe){$y=document.createElement("iframe");$y.id=this.id+"iframe";$y.name=this.id+"iframe";$y.frameBorder='0';$y.style.width='100%';$y.style.height=$x+'px';$w.appendChild($y);};document.body.appendChild($w);this.div=$w;this.iframe=$y;this.hideDiv=$v;};this.dragStart=function(e){$f.maskIframe();$f.coords=$f.mc(e||window.event);$f.start={x:$f.div.offsetLeft,y:$f.div.offsetTop};};this.setInnerHTML=function(id,$i){var $z=window.frames[id];var $l=$z.contentWindow||$z.document||$z.contentDocument;if($l.document){$l=$l.document;};$l.body.innerHTML=$i;};this.close=function($d){this.result=$d;this.hide();};this.hide=function(){if(this.div){this.div.style.display='none';this.hideDiv.style.display='none';if(!this.useIframe){this.div.innerHTML=null;}};DayPilot.ModalStatic.remove(this);if(this.closed){this.closed();}};};})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function($b){this.v='215';this.nav={};this.nav.top=document.getElementById($b);var $c=this;this.id=$b;this.isMonth=true;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#ECE9D8';this.headerFontColor='#000000';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='black';this.eventHeight=25;this.cellHeaderHeight=16;this.numberFormat="0.00";this.clientState={};this.afterRender=function(){};this.backColor='#FFFFD5';this.nonBusinessBackColor='#FFF4BC';this.cellHeaderBackColor='';this.cellHeaderFontColor='#000000';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.cssOnly=true;this.eventBackColor='White';this.eventBorderColor='Black';this.eventCorners="Regular";this.eventFontColor='#000000';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.eventMoveToPosition=false;this.eventTextLayer='Top';this.eventStartTime=true;this.eventEndTime=true;this.eventTextAlignment='Center';this.eventTextLeftIndent=20;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.viewType='Month';this.weeks=1;this.eventClickHandling='Disabled';this.eventDoubleClickHandling='Disabled';this.eventMoveHandling='Disabled';this.eventResizeHandling='Disabled';this.eventRightClickHandling='ContextMenu';this.timeRangeSelectedHandling='Diabled';this.timeRangeDoubleClickHandling='Disabled';this.onTimeRangeDoubleClick=function(){};this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.cache={};this.cache.events={};this.events={};this.autoRefreshCount=0;this.$1B=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$1C();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$1D($d.CallBackData,true);if($d.Message){$c.message($d.Message);};return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.vsph.innerHTML='';$c.vsph.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$1E();$c.$1F();$c.$1G();if($d.UpdateType==="Full"){$c.$1H();$c.$1I();};$c.$1J();$c.$1K();$c.$1L();$c.$1D($d.CallBackData,true);$c.$1M();if($d.Message){$c.message($d.Message);}};this.$1D=function($i,$j){var $k=function($i,$l){return function(){if($c.afterRender){$c.afterRender($i,$l);}};};window.setTimeout($k($i,$j),0);};this.$1N=function($m){if(this.cssClassPrefix){return this.cssClassPrefix+$m;}else{return "";}};this.$1G=function(){if(this.cellMode){this.$1O();}else{this.$1P();}};this.$1C=function(){};this.$1P=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];e.start=new DayPilot.Date(e.start).d;e.end=new DayPilot.Date(e.end).d;if(e.start.getTime()>e.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $n=this.rows[i];if($n.belongsHere(e)){var ep=new DayPilot.Event(e,$c);$n.events.push(ep);}}};for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];$n.events.sort(this.eventComparerCustom);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$n.events[ei];var $o=$n.getStartColumn(ev);var $p=$n.getWidth(ev);$n.putIntoLine(ev,$o,$p,ri);}}};this.$1O=function(){this.cellEvents=[];for(var x=0;x<this.$1Q();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $q={};var d=DayPilot.Date.addDays(this.firstDate,y*7+x);$q.start=d;$q.end=DayPilot.Date.addDays(d,1);$q.events=[];this.cellEvents[x][y]=$q;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.start);if(e.start.getTime()>e.end.getTime()){continue;};for(var x=0;x<this.$1Q();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];if(e.start.getTime()>=$q.start.getTime()&&e.start.getTime()<$q.end.getTime()){var ep=new DayPilot.Event(e,$c);$q.events.push(ep);}}}};for(var x=0;x<this.$1Q();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];$q.events.sort(this.eventComparerCustom);}}};this.$1E=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$1L=function(){this.cache.events={};if(this.cellMode){this.$1R();}else{this.$1S();};this.multiselect.redraw();};this.$1R=function(){this.elements.events=[];for(var x=0;x<this.$1Q();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];var $r=this.cells[x][y];for(var i=0;i<$q.events.length;i++){var ep=$q.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$1T(ep);}}}};this.$1S=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];for(var li=0;li<$n.lines.length;li++){var $s=$n.lines[li];for(var pi=0;pi<$s.length;pi++){this.$1T($s[pi]);}}}};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $t=a.start().ticks-b.start().ticks;if($t!==0){return $t;};var $u=b.end().ticks-a.end().ticks;return $u;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.eventComparer(a,b);};var $d=0;var i=0;while($d===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else{$d=$c.stringComparer(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.stringComparer=function(a,b,$v){var $w=($v!=="desc");var $x=$w?-1:1;var $y=-$x;if(a===null&&b===null){return 0;};if(b===null){return $y;};if(a===null){return $x;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$x:$y;};this.$1U=function(x,y,$s,$z,$A,e){if(!$A){$A=0;};var $B=$z;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$z;if(this.eventMoveToPosition){$B=1;this.shadow.position=$s;};var $C=y*7+x-$A;if($C<0){$B+=$C;x=0;y=0;};var $D=$A;while($D>=7){y--;$D-=7;};if($D>x){var $E=7-this.$1Q();if($D>(x+$E)){y--;x=x+7-$D;}else{$B=$B-$D+x;x=0;}}else{x-=$D;};if(y<0){y=0;x=0;};var $F=null;if(DayPilotMonth.resizingEvent){$F='w-resize';}else if(DayPilotMonth.movingEvent){$F="move";};this.nav.top.style.cursor=$F;while($B>0&&y<this.rows.length){var $G=Math.min(this.$1Q()-x,$B);var $n=this.rows[y];var top=this.$1V(y);var $H=$n.getHeight();if(this.eventMoveToPosition){top=this.$1W(y,$s);$H=2;};var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.style.position='absolute';$I.style.left=(this.$1X()*x)+'%';$I.style.width=(this.$1X()*$G)+'%';$I.style.top=(top)+'px';$I.style.height=($H)+'px';$I.style.cursor=$F;var $J=document.createElement("div");$J.setAttribute("unselectable","on");$I.appendChild($J);if(this.cssOnly){$I.className=this.$1N("_shadow");$J.className=this.$1N("_shadow_inner");};if(!this.cssOnly){$J.style.position="absolute";$J.style.top="0px";$J.style.right="0px";$J.style.left="0px";$J.style.bottom="0px";if(this.shadowType==='Fill'){$J.style.backgroundColor="#aaaaaa";$J.style.opacity=0.5;$J.style.filter="alpha(opacity=50)";if(e&&e.event){$J.style.overflow='hidden';$J.style.fontSize=this.eventFontSize;$J.style.fontFamily=this.eventFontFamily;$J.style.color=this.eventFontColor;$J.innerHTML=e.event.client.innerHTML()?e.event.client.innerHTML():e.event.text();}}else{$J.style.border='2px dotted #666666';}};this.nav.top.appendChild($I);this.shadow.list.push($I);$B-=($G+7-this.$1Q());x=0;y++;}};this.$1Y=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.$1W=function($n,$s){var top=this.headerHeight;for(var i=0;i<$n;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$s*$K.lineHeight();return top;};this.$1Z=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$1T=function(ep,$L){var $L=this.cellMode;var ev=ep.data;var $n=ep.part.row;var $s=ep.part.line;var $o=ep.part.colStart;var $p=ep.part.colWidth;var $M=$L?0:this.$1X()*($o);var $z=$L?100:this.$1X()*($p);var top=$L?$s*$K.lineHeight():this.$1W($n,$s);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=this.eventHeight+'px';if(!this.cssOnly){e.style.fontFamily=this.eventFontFamily;}else{e.style.position="relative";e.style.overflow="hidden";e.className=this.$1N("_event");};if(ep.client.cssClass()){DayPilot.Util.addClass(e,ep.client.cssClass());};e.event=ep;if($L){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$z+'%';e.style.position='absolute';e.style.left=$M+'%';e.style.top=top+'px';};if(this.showToolTip){e.title=ep.client.toolTip();};e.onclick=this.$20;;e.ondblclick=this.$21;e.oncontextmenu=this.$22;e.onmousedown=this.$23;e.onmousemove=this.$24;e.onmouseout=this.$25;e.ontouchstart=$N.onEventTouchStart;e.ontouchmove=$N.onEventTouchMove;e.ontouchend=$N.onEventTouchEnd;var back=(ep.client.backColor())?ep.client.backColor():this.eventBackColor;if(!this.cssOnly){var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.style.height=(this.eventHeight-2)+'px';$O.style.overflow='hidden';$O.style.position="absolute";$O.style.left="2px";$O.style.right="2px";$O.style.paddingLeft='2px';$O.style.border='1px solid '+$c.eventBorderColor;$O.style.backgroundColor=back;$O.style.fontFamily="";$O.className=this.$1N("event");if($K.rounded()){$O.style.MozBorderRadius="5px";$O.style.webkitBorderRadius="5px";$O.style.borderRadius="5px";};var $J=[];var $P=this.eventTextLayer==='Top';var $Q=this.eventStartTime;var $R=this.eventEndTime;var $S=this.eventTextAlignment;var $T=this.eventTextLeftIndent;var $U=this.eventTextLayer==='Floats';if($U){if($Q){$J.push("<div unselectable='on' style='float:left; font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push("'>");$J.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));$J.push("</div>");};if($R){$J.push("<div unselectable='on' style='float:right;font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push("'>");$J.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));$J.push("</div>");};$J.push("<div unselectable='on' style='");$J.push("font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);if($S==='Center'){$J.push(";text-align:center;");};$J.push("'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}else{if($Q){if($S==='Left'){$J.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";text-align:right;");$J.push("width:");$J.push($T-4);$J.push("px;");$J.push("><span style='background-color:");}else{$J.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";'><span style='background-color:");};$J.push(back);$J.push("' unselectable='on'>");if(ep.part.startsHere){$J.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));}else{$J.push("~");};$J.push("</span></div></div>");};if($R){$J.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";'><span style='background-color:");$J.push(back);$J.push("' unselectable='on'>");if(ep.part.endsHere){$J.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));}else{$J.push("~");};$J.push("</span></div></div>");};if($S==='Left'){var $M=$Q?$T:0;$J.push("<div style='margin-top:0px;height:");$J.push(this.eventHeight-2);$J.push("px;");$J.push(";overflow:hidden;text-align:left;padding-left:");$J.push($M);$J.push("px;font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}else if($S==='Center'){if($P){$J.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");$J.push("<span style='background-color:");$J.push(back);$J.push(";font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</span>");$J.push("</div>");}else{$J.push("<div style='margin-top:0px;height:");$J.push(this.eventHeight-2);$J.push("px;");$J.push(";overflow:hidden;text-align:center;font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}}};$O.innerHTML=$J.join('');e.appendChild($O);}else{if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$1N("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$1N("_event_continueright"));};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.className=this.$1N("_event_inner");if(ep.client.innerHTML()){$O.innerHTML=ep.client.innerHTML();}else{$O.innerHTML=ep.text();};e.appendChild($O);};if(ep.data.areas){var $V=ep.data.areas;for(var i=0;i<$V.length;i++){var $W=$V[i];if($W.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$W);e.appendChild(a);}};this.elements.events.push(e);if($L){this.cells[$o][$n].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$26(e.event)){$c.multiselect.add(e.event,true);};if($c.afterEventRender){$c.afterEventRender(e.event,e);}};this.$20=function(ev){if($N.start){return;};$c.$27(this,ev);};this.$21=function(ev){$c.$28(this,ev);};this.$24=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $A=DayPilot.mo3(e,ev);if(!$A){return;};DayPilot.Areas.showAreas(e,e.event);if($c.cssOnly){$c.$29(e.event).each(function($r){DayPilot.Util.addClass($r,$c.$1N("_event_hover"));});};var $X=6;if(!$c.cellMode&&$A.x<=$X&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$A.x<=$X&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var $Y=this.$2a&&$A.x===this.$2a.x&&$A.y===this.$2a.y;if(!$Y){this.$2a=$A;$c.bubble.showEvent(e.event);}}else{DayPilotBubble.hideActive();}}};this.$25=function(ev){var e=this;if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';if($c.cssOnly){$c.$29(e.event).each(function($r){DayPilot.Util.removeClass($r,$c.$1N("_event_hover"));});};DayPilot.Areas.hideAreas(e,ev);};this.$22=function(){var e=this;$c.$2b(e.event);return false;};this.$23=function(ev){if($N.start){return;};var e=this;var ep=e.event;var $n=ep.part.row;var $o=ep.part.colStart;var $s=ep.part.line;var $p=ep.part.colWidth;ev=ev||window.event;var $Z=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($Z===1){if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){DayPilotBubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $00={};$00.start={};$00.start.x=$o;$00.start.y=$n;$00.event=e.event;$00.width=DayPilot.Date.daysSpan($00.event.start().d,$00.event.end().d)+1;$00.direction=this.style.cursor;DayPilotMonth.resizingEvent=$00;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$1Y();var $01=DayPilot.mo2($c.nav.top,ev);if(!$01){return;};var $q=$c.$2c($01.x,$01.y);var $C=DayPilot.Date.daysDiff(ep.start(),$c.rows[$n].start);var $A=($q.y*7+$q.x)-($n*7+$o);if($C){$A+=$C;};var $02={};$02.start={};$02.start.x=$o;$02.start.y=$n;$02.start.line=$s;$02.offset=$c.eventMoveToPosition?0:$A;$02.colWidth=$p;$02.event=e.event;$02.coords=$01;DayPilotMonth.movingEvent=$02;}}};this.$2d={};var $N=$c.$2d;$N.active=false;$N.start=false;$N.timeouts=[];$N.onEventTouchStart=function(ev){if($N.active||$N.start){return;};$N.clearTimeouts();$N.start=true;$N.active=false;var $r=this;var $03=500;$N.timeouts.push(window.setTimeout(function(){$N.active=true;$N.start=false;var $01=$N.relativeCoords(ev);$N.startMoving($r,$01);ev.preventDefault();},$03));ev.stopPropagation();};$N.onEventTouchMove=function(ev){$N.clearTimeouts();$N.start=false;};$N.onEventTouchEnd=function(ev){$N.clearTimeouts();if($N.start){$c.$2e(this,false);};window.setTimeout(function(){$N.start=false;$N.active=false;},500);};$N.onMainTouchStart=function(ev){if($N.active||$N.start){return;};$N.clearTimeouts();$N.start=true;$N.active=false;var $03=500;$N.timeouts.push(window.setTimeout(function(){$N.active=true;$N.start=false;ev.preventDefault();var $01=$N.relativeCoords(ev);$N.startRange($01);},$03));};$N.onMainTouchMove=function(ev){$N.clearTimeouts();$N.start=false;if($N.active){ev.preventDefault();var $01=$N.relativeCoords(ev);if($N.moving){$N.updateMoving($01);return;};if($N.range){$N.updateRange($01);}}};$N.onMainTouchEnd=function(ev){$N.clearTimeouts();if($N.active){if($N.moving){var $04=$N.moving;var e=$N.moving.event;var $05=$c.shadow.start;var $06=$c.shadow.position;var $A=$N.moving.offset;$c.$1Y();$N.moving=null;$c.$2f(e,$05.x,$05.y,$A,ev,$06);};if($N.range){var $07=$N.range;var $05=new DayPilot.Date($c.$1Z($07.from.x,$07.from.y));var end=$05.addDays($07.width);$N.range=null;$c.$2g($05,end);}};window.setTimeout(function(){$N.start=false;$N.active=false;},500);};$N.clearTimeouts=function(){for(var i=0;i<$N.timeouts.length;i++){clearTimeout($N.timeouts[i]);};$N.timeouts=[];};$N.relativeCoords=function(ev){var $08=$c.nav.top;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $01={x:x,y:y};var $09=DayPilot.abs($08);var $01={x:x-$09.x,y:y-$09.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $01;};$N.startMoving=function($r,$01){$c.$1Y();ep=$r.event;var $q=$c.$2c($01.x,$01.y);var $C=DayPilot.Date.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $A=($q.y*7+$q.x)-(ep.part.row*7+ep.part.colStart);if($C){$A+=$C;};var $02={};$02.start={};$02.start.x=ep.part.colStart;$02.start.y=ep.part.row;$02.start.line=ep.part.line;$02.offset=$c.eventMoveToPosition?0:$A;$02.colWidth=ep.part.colWidth;$02.event=ep;$02.coords=$01;$N.moving=$02;$N.updateMoving($01);};$N.updateMoving=function($01){var $q=$c.$2c($01.x,$01.y);var $0a=$c.$2h($q);$c.$1Y();var event=$N.moving.event;var $A=$N.moving.offset;var $z=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($z<1){$z=1;};$c.$1U($q.x,$q.y,$0a,$z,$A,event);};$N.startRange=function($01){$c.$1Y();var $q=$c.$2c($01.x,$01.y);var $0b={};$0b.start={};$0b.start.x=$q.x;$0b.start.y=$q.y;$0b.x=$q.x;$0b.y=$q.y;$0b.width=1;$N.range=$0b;$N.updateRange($01);};$N.updateRange=function($01){$c.$1Y();var $05=$N.range.start;var $q=$c.$2c($01.x,$01.y);var $0c=$05.y*7+$05.x;var $0d=$q.y*7+$q.x;var $z=Math.abs($0d-$0c)+1;if($z<1){$z=1;};var $0e=$0c<$0d?$05:$q;$N.range.width=$z;$N.range.from={x:$0e.x,y:$0e.y};$c.$1U($0e.x,$0e.y,0,$z,0,null);};this.isWeekend=function($0f){var $0g=0;var $0h=6;if($0f.dayOfWeek()===$0g){return true;};if($0f.dayOfWeek()===$0h){return true;};return false;};this.$2i=function(){var $0i=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0i;}while(this.isWeekend($0i)){$0i=$0i.addDays(-1);};return $0i;};this.$1F=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($K.getWeekStart());if(!this.showWeekend){var $0j=this.startDate.addMonths(-1).getMonth();var $0k=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0k)){$0k=$0k.addDays(-1);};if($0k.getMonth()===$0j){this.firstDate=DayPilot.Date.addDays(this.firstDate,7);}};var $0l=this.startDate;var $0m;if(this.viewType==='Month'){var $0n=this.$2i().d;var $0o=DayPilot.Date.daysDiff(this.firstDate,$0n)+1;$0m=Math.ceil($0o/7);}else{$0m=this.weeks;};this.days=$0m*7;this.rows=[];for(var x=0;x<$0m;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.$1Q());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end.getTime()===ev.start.getTime()&&ev.start.getTime()===this.start.getTime()){return true;};return !(ev.end.getTime()<=this.start.getTime()||ev.start.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.Date.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.Date.min(this.end,ep.end());};r.getStartColumn=function(ep){var $0p=this.getPartStart(ep);return DayPilot.Date.daysDiff(this.start,$0p);};r.getWidth=function(ep){return DayPilot.Date.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$o,$p,$n){var $0q=this;for(var i=0;i<this.lines.length;i++){var $s=this.lines[i];if($s.isFree($o,$p)){$s.addEvent(ep,$o,$p,$n,i);return i;}};var $s=[];$s.isFree=function($o,$p){var $0r=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($o+$p-1<ep.part.colStart||$o>ep.part.colStart+ep.part.colWidth-1)){$0r=false;}};return $0r;};$s.addEvent=function(ep,$o,$p,$n,$0s){ep.part.colStart=$o;ep.part.colWidth=$p;ep.part.row=$n;ep.part.line=$0s;ep.part.startsHere=$0q.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0q.end.getTime()>=ep.end().getTime();this.push(ep);};$s.addEvent(ep,$o,$p,$n,this.lines.length);this.lines.push($s);return this.lines.length-1;};r.getStart=function(){var $05=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$05+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$K.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$0m*7);};this.$2j=function(){var $H=this.headerHeight;for(var i=0;i<this.rows.length;i++){$H+=this.rows[i].getHeight();};return $H;};this.$2k=function($05,end){var $0t=(end.y*7+end.x)-($05.y*7+$05.x);return $0t+1;};this.$2l=function(){var $0u=this.nav.top;this.nav.top.dp=this;$0u.setAttribute("unselectable","on");$0u.style.MozUserSelect='none';$0u.style.KhtmlUserSelect='none';$0u.style.WebkitUserSelect='none';$0u.style.position='relative';if(this.width){$0u.style.width=this.width;};$0u.style.height=this.$2j()+'px';$0u.onselectstart=function(e){return false;};if(this.cssOnly){$0u.className=this.$1N("_main");}else{$0u.style.border="1px solid "+this.borderColor;};if(this.hideUntilInit){$0u.style.visibility='hidden';};var $0v=document.createElement("div");this.nav.cells=$0v;$0v.style.position="absolute";$0v.style.left="0px";$0v.style.right="0px";$0v.setAttribute("unselectable","on");$0u.appendChild($0v);var $0w=document.createElement("div");this.nav.events=$0w;$0w.style.position="absolute";$0w.style.left="0px";$0w.style.right="0px";$0w.setAttribute("unselectable","on");$0u.appendChild($0w);$0u.onmousemove=this.$2m;$0u.ontouchstart=$N.onMainTouchStart;$0u.ontouchmove=$N.onMainTouchMove;$0u.ontouchend=$N.onMainTouchEnd;this.vsph=document.createElement("div");this.vsph.style.display='none';this.nav.top.appendChild(this.vsph);};this.$2m=function(ev){if(DayPilotMonth.resizingEvent){var $01=DayPilot.mo2($c.nav.top,ev);if(!$01){return;};var $q=$c.$2c($01.x,$01.y);$c.$1Y();var $00=DayPilotMonth.resizingEvent;var $0x=$00.start;var $z,$05;if($00.direction==='w-resize'){$05=$q;var $0y=$00.event.end().d;if(DayPilot.Date.getDate($0y).getTime()===$0y.getTime()){$0y=DayPilot.Date.addDays($0y,-1);};var end=$c.$2n($0y);$z=$c.$2k($q,end);}else{$05=$c.$2n($00.event.start().d);$z=$c.$2k($05,$q);};if($z<1){$z=1;};$c.$1U($05.x,$05.y,0,$z);}else if(DayPilotMonth.movingEvent){var $01=DayPilot.mo2($c.nav.top,ev);if(!$01){return;};if($01.x===DayPilotMonth.movingEvent.coords.x&&$01.y===DayPilotMonth.movingEvent.coords.y){return;};var $q=$c.$2c($01.x,$01.y);var $0a=$c.$2h($q);$c.$1Y();var event=DayPilotMonth.movingEvent.event;var $A=DayPilotMonth.movingEvent.offset;var $z=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($z<1){$z=1;};$c.$1U($q.x,$q.y,$0a,$z,$A,event);}else if(DayPilotMonth.timeRangeSelecting){var $01=DayPilot.mo2($c.nav.top,ev);if(!$01){return;};DayPilotMonth.cancelCellClick=true;var $q=$c.$2c($01.x,$01.y);$c.$1Y();var $05=DayPilotMonth.timeRangeSelecting;var $0c=$05.y*7+$05.x;var $0d=$q.y*7+$q.x;var $z=Math.abs($0d-$0c)+1;if($z<1){$z=1;};var $0e=$0c<$0d?$05:$q;DayPilotMonth.timeRangeSelecting.from={x:$0e.x,y:$0e.y};DayPilotMonth.timeRangeSelecting.width=$z;DayPilotMonth.timeRangeSelecting.moved=true;$c.$1U($0e.x,$0e.y,0,$z,0,null);}};this.$2h=function($q){var y=$q.relativeY;var $n=$c.rows[$q.y];var top=$c.cellHeaderHeight;var lh=$K.lineHeight();var $0z=$n.lines.length;for(var i=0;i<$n.lines.length;i++){var $s=$n.lines[i];if($s.isFree($q.x,1)){$0z=i;break;}};var $0A=Math.floor((y-top+lh/ 2)/ lh);var $0A=Math.min($0z,$0A);var $0A=Math.max(0,$0A);return $0A;};this.message=function($0B,$0C,$0D,$0E){if($0B===null){return;};var $0C=$0C||this.messageHideAfter||2000;var $0D=$0D||"#ffffff";var $0E=$0E||"#000000";var $0F=0.8;var top=this.headerHeight;var $M=1;var $0G=0;var $r;if(!this.nav.message){$r=document.createElement("div");$r.setAttribute("unselectable","on");$r.style.position="absolute";$r.style.right="0px";$r.style.left="0px";$r.style.top=top+"px";$r.style.opacity=$0F;$r.style.filter="alpha(opacity="+($0F*100)+")";$r.style.display='none';if(!this.cssOnly){$r.style.textAlign="left";};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$O.style.padding="5px";}else{$O.className=this.$1N("_message");};$r.appendChild($O);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$0D;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$1N("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$r.appendChild(close);this.nav.top.appendChild($r);this.nav.message=$r;};var $0H=function(){$c.nav.message.style.opacity=$0F;var $O=$c.nav.message.firstChild;if(!$c.cssOnly){$O.style.backgroundColor=$0E;$O.style.color=$0D;};$O.innerHTML=$0B;var end=function(){$c.messageTimeout=setTimeout($c.$2o,$0C);};DayPilot.fade($c.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($c.messageTimeout);DayPilot.fade($c.nav.message,-0.2,$0H);}else{$0H();}};this.message.show=function($0B){$c.message($0B);};this.message.hide=function(){$c.$2o();};this.$2o=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$1J=function(){this.nav.top.style.height=this.$2j()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$1V(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.$2c=function(x,y){var $0I=Math.floor(this.nav.top.clientWidth/this.$1Q());var $0J=Math.min(Math.floor(x/$0I),this.$1Q()-1);var $n=null;var $H=this.headerHeight;var $0K=0;for(var i=0;i<this.rows.length;i++){var $0L=$H;$H+=this.rows[i].getHeight();if(y<$H){$0K=y-$0L;$n=i;break;}};if($n===null){$n=this.rows.length-1;};var $q={};$q.x=$0J;$q.y=$n;$q.relativeY=$0K;return $q;};this.$2n=function($0f){var $z=DayPilot.Date.daysDiff(this.firstDate,$0f);var $q={x:0,y:0};while($z>=7){$q.y++;$z-=7;};$q.x=$z;return $q;};this.$1I=function(){var $0M=document.createElement("div");$0M.oncontextmenu=function(){return false;};this.nav.cells.appendChild($0M);this.cells=[];for(var x=0;x<this.$1Q();x++){this.cells[x]=[];var $0N=this.headerProperties?this.headerProperties[x]:null;var $0O=document.createElement("div");$0O.setAttribute("unselectable","on");$0O.style.position='absolute';$0O.style.left=(this.$1X()*x)+'%';$0O.style.width=(this.$1X())+'%';$0O.style.top='0px';$0O.style.height=(this.headerHeight)+'px';var $0P=x+$K.getWeekStart();if($0P>6){$0P-=7;};(function(x){$0O.onclick=function(){$c.$2p(x);};})($0P);var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.className=this.$1N("_header_inner");$O.innerHTML=$0N?$0N.InnerHTML:$K.locale().dayNames[$0P];$0O.appendChild($O);if(!this.cssOnly){$O.style.position="absolute";$O.style.top="0px";$O.style.bottom="0px";$O.style.left="0px";$O.style.right="0px";$O.style.backgroundColor=$0N?$0N.BackColor:this.headerBackColor;$O.style.fontFamily=this.headerFontFamily;$O.style.fontSize=this.headerFontSize;$O.style.color=this.headerFontColor;$O.style.textAlign='center';$O.style.cursor='default';$O.className=this.$1N("header");if(x!==this.$1Q()-1){$O.style.borderRight='1px solid '+this.borderColor;};$O.innerHTML=$0N?$0N.InnerHTML:$K.locale().dayNames[$0P];}else{$0O.className=this.$1N("_header");};$0M.appendChild($0O);for(var y=0;y<this.rows.length;y++){this.$2q(x,y,$0M);}};var $r=document.createElement("div");$r.style.position='absolute';$r.style.padding='2px';$r.style.top='0px';$r.style.left='0px';$r.style.backgroundColor="#FF6600";$r.style.color="white";$r.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)this.nav.top.appendChild($r);};this.$1H=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.$2q=function(x,y,$0M){var $n=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0Q=this.cellProperties?this.cellProperties[y*this.$1Q()+x]:null;var $q=document.createElement("div");$q.setAttribute("unselectable","on");$q.style.position='absolute';$q.style.cursor='default';$q.style.left=(this.$1X()*x)+'%';$q.style.width=(this.$1X())+'%';$q.style.top=(this.$1V(y))+'px';$q.style.height=($n.getHeight())+'px';$q.d=d;$q.x=x;$q.y=y;$q.properties=$0Q;var $0j=this.startDate.addMonths(-1).getMonth();var $0R=this.startDate.addMonths(1).getMonth();var $0S=this.startDate.getMonth();var $O=document.createElement("div");$O.setAttribute("unselectable","on");$q.appendChild($O);if(this.cssOnly){$O.className=this.$1N("_cell_inner");};if(!this.cssOnly){$O.style.position="absolute";$O.style.left="0px";$O.style.right="0px";$O.style.top="0px";$O.style.bottom="0px";if(d.getUTCMonth()===$0S){$q.className=this.$1N("cell");}else if(d.getUTCMonth()===$0j){$q.className=this.$1N("cell")+" "+this.$1N("previous");}else if(d.getUTCMonth()===$0R){$q.className=this.$1N("cell")+" "+this.$1N("next");};if($0Q){$O.style.backgroundColor=$0Q["BackColor"];$O.className+=" "+this.$1N($0Q["CssClass"]);if($0Q["BackImage"]){$O.style.backgroundImage="url('"+$0Q["BackImage"]+"')";};if($0Q["BackRepeat"]){$O.style.backgroundRepeat=$0Q["BackRepeat"];}}else{$O.style.backgroundColor=this.$2r(d);};if(x!==this.$1Q()-1){$O.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$O.style.borderTop='1px solid '+this.borderColor;};$O.style.borderBottom='1px solid '+this.innerBorderColor;}else{$O.className=this.$1N("_cell_inner");if(d.getUTCMonth()===$0S){$q.className=this.$1N("_cell");}else if(d.getUTCMonth()===$0j){$q.className=this.$1N("_cell")+" "+this.$1N("_previous");}else if(d.getUTCMonth()===$0R){$q.className=this.$1N("_cell")+" "+this.$1N("_next");}else{$a();};if($0Q){if($0Q["CssClass"]){DayPilot.Util.addClass($q,$0Q.CssClass);};if($0Q["BackColor"]){$O.style.backgroundColor=$0Q["BackColor"];};if($0Q["BackImage"]){$O.style.backgroundImage="url('"+$0Q["BackImage"]+"')";};if($0Q["BackRepeat"]){$O.style.backgroundRepeat=$0Q["BackRepeat"];}}};$q.onmousedown=this.$2s;$q.onmousemove=this.$2t;$q.onmouseout=this.$2u;$q.oncontextmenu=this.$2v;$q.onclick=this.$2w;$q.ondblclick=this.$2x;var $0T=document.createElement("div");$0T.setAttribute("unselectable","on");$0T.style.height=this.cellHeaderHeight+"px";if(!this.cssOnly){if($0Q&&$0Q["HeaderBackColor"]){$0T.style.backgroundColor=$0Q["HeaderBackColor"];}else if(this.cellHeaderBackColor){$0T.style.backgroundColor=this.cellHeaderBackColor;};$0T.style.paddingRight='2px';$0T.style.textAlign="right";$0T.style.fontFamily=this.cellHeaderFontFamily;$0T.style.fontSize=this.cellHeaderFontSize;$0T.style.color=this.cellHeaderFontColor;$0T.className=this.$1N("cellheader");}else{$0T.className=this.$1N("_cell_header");};if($0Q){$0T.innerHTML=$0Q["HeaderText"];}else{var $0f=d.getUTCDate();if($0f===1){$0T.innerHTML=$K.locale().monthNames[d.getUTCMonth()]+' '+$0f;}else{$0T.innerHTML=$0f;}};$O.appendChild($0T);if($0Q&&$0Q["HTML"]){var $0B=document.createElement("div");$0B.setAttribute("unselectable","on");$0B.style.height=($n.getHeight()-this.cellHeaderHeight)+'px';$0B.style.overflow='hidden';$0B.innerHTML=$0Q["HTML"];$O.appendChild($0B);};if(this.cellMode){var $0U=document.createElement("div");$0U.setAttribute("unselectable","on");$0U.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$0U.style.overflow='auto';$0U.style.position='relative';var $J=document.createElement('div');$J.setAttribute("unselectable","on");$J.style.paddingTop="1px";$J.style.paddingBottom="1px";$0U.appendChild($J);$O.appendChild($0U);$q.body=$J;$q.scrolling=$0U;};var $0V=false;if($0V){if(!$q.properties){$q.properties={};};$q.properties.areas=[{"w":17,"h":17,"v":"Visible","js":"alert('static area');","action":"JavaScript","right":16,"css":"event_action_menu","top":2},{"w":17,"h":17,"v":"Hover","js":"alert('hover area');","action":"JavaScript","right":36,"css":"event_action_menu","top":2}];};if($q.properties){var $V=$q.properties.areas||[];for(var i=0;i<$V.length;i++){var $W=$V[i];if($W.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($q,$q.properties,$W);$q.appendChild(a);}};this.cells[x][y]=$q;$0M.appendChild($q);};this.$2t=function(){var c=this;if(c.properties){DayPilot.Areas.showAreas(c,c.properties);}};this.$2u=function(ev){var c=this;if(c.properties){DayPilot.Areas.hideAreas(c,ev);}};this.$2v=function(){var d=this.d;var go=function(d){var $05=new DayPilot.Date(d);var end=$05.addDays(1);var $0W=new DayPilot.Selection($05,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($0W);}};go(d);};this.$2x=function(){var d=this.d;if($c.timeouts){for(var $0X in $c.timeouts){window.clearTimeout($c.timeouts[$0X]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $05=new DayPilot.Date(d);var end=$05.addDays(1);$c.$2y($05,end);}};this.$2w=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $0Y=function(d){var $05=new DayPilot.Date(d);var end=$05.addDays(1);$c.$2g($05,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$0Y(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $0Z=function(d){return function(){$0Y(d);};};$c.timeouts.push(window.setTimeout($0Z(d),300));};this.$2s=function(e){var $q=this;var x=$q.x;var y=$q.y;DayPilotMonth.cancelCellClick=false;if($q.scrolling){var $A=DayPilot.mo3($q.scrolling,e);var sw=DayPilot.sw($q.scrolling);var $z=$q.scrolling.offsetWidth;if($A.x>$z-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$1Y();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$1Q=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$1X=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$2r=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.$1V=function($0s){var top=this.headerHeight;for(var i=0;i<$0s;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$1Y();};this.$2z=function($10,$i,$11){var $12={};$12.action=$10;$12.parameters=$11;$12.data=$i;$12.header=this.$2A();var $13="JSON"+DayPilot.JSON.stringify($12);__doPostBack($c.uniqueID,$13);};this.$2B=function($10,$11,$i,$14){if(typeof $14==='undefined'){$14="CallBack";};var $12={};$12.action=$10;$12.type=$14;$12.parameters=$11;$12.data=$i;$12.header=this.$2A();var $13="JSON"+DayPilot.JSON.stringify($12);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$2C,$13,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$13,this.$1B,null,this.callbackError,true);}};this.$2C=function($15){$c.$1B($15.responseText);};this.$2A=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$2D=function($14,$10,$16,$i){if($14==='PostBack'){$c.postBack2($10,$16,$i);}else if($14==='CallBack'){$c.$2B($10,$16,$i,"CallBack");}else if($14==='Immediate'){$c.$2B($10,$16,$i,"Notify");}else if($14==='Queue'){$c.queue.add(new DayPilot.Action(this,$10,$16,$i));}else if($14==='Notify'){if($K.notifyType()==='Notify'){$c.$2B($10,$16,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$10,$16,$i));}}else{throw "Invalid event invocation type";}};this.$2E=function($17,$g){var $f=$c.$2F($g);var $16={};$16.args=$17;$16.guid=$f;$c.$2B("Bubble",$16);};this.$2F=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$2z("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$2B('EventClick',e,$i);};this.$27=function($r,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $18=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$2e($r,$18);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $0X in $c.timeouts){window.clearTimeout($c.timeouts[$0X]);};$c.timeouts=[];};var $19=function($r,$18){return function(){$c.$2e($r,$18);};};$c.timeouts.push(window.setTimeout($19($r,$18),300));};this.$2e=function($r,$18){var e=$r.event;if(!e.client.clickEnabled()){return;};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$2G($r,e,$18);break;case 'ContextMenu':var $1a=e.client.contextMenu();if($1a){$1a.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}};this.eventDoubleClickPostBack=function(e,$i){this.$2z('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$2B('EventDoubleClick',e,$i);};this.$28=function($r,ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $0X in $c.timeouts){window.clearTimeout($c.timeouts[$0X]);};$c.timeouts=null;};var e=$r.event;switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$2G($r,e);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};this.$2G=function($r,e,$18){var m=$c.multiselect;m.previous=m.events();m.$2H($r,$18);var $1b=m.isSelected(e)?"selected":"deselected";$c.$2I(e,$1b);};this.eventSelectPostBack=function(e,$1b,$i){var $16={};$16.e=e;$16.change=$1b;this.$2z('EventSelect',$i,$16);};this.eventSelectCallBack=function(e,$1b,$i){var $16={};$16.e=e;$16.change=$1b;this.$2B('EventSelect',$16,$i);};this.$2I=function(e,$1b){switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1b);break;case 'CallBack':__theFormPostData="";__theFormPostCollection=[];if(WebForm_InitCallback){WebForm_InitCallback();};$c.eventSelectCallBack(e,$1b);break;case 'JavaScript':$c.onEventSelect(e,$1b);break;}};this.eventRightClickPostBack=function(e,$i){this.$2z("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$2B('EventRightClick',e,$i);};this.$2b=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $1a=e.client.contextMenu();if($1a){$1a.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;};return false;};this.eventMenuClickPostBack=function(e,$1c,$i){var $16={};$16.e=e;$16.command=$1c;this.$2z('EventMenuClick',$i,$16);};this.eventMenuClickCallBack=function(e,$1c,$i){var $16={};$16.e=e;$16.command=$1c;this.$2B('EventMenuClick',$16,$i);};this.$2J=function($1c,e,$1d){switch($1d){case 'PostBack':$c.eventMenuClickPostBack(e,$1c);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1c);break;}};this.eventMovePostBack=function(e,$1e,$1f,$i,$06){if(!$1e)throw 'newStart is null';if(!$1f)throw 'newEnd is null';var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;$16.position=$06;this.$2z('EventMove',$i,$16);};this.eventMoveCallBack=function(e,$1e,$1f,$i,$06){if(!$1e)throw 'newStart is null';if(!$1f)throw 'newEnd is null';var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;$16.position=$06;this.$2B('EventMove',$16,$i);};this.$2f=function(e,x,y,$A,ev,$06){var $1g=DayPilot.Date.getTime(e.start().d);var $0y=DayPilot.Date.getDate(e.end().d);if($0y.getTime()!==e.end().d.getTime()){$0y=DayPilot.Date.addDays($0y,1);};var $1h=DayPilot.Date.diff(e.end().d,$0y);var $1i=this.$1Z(x,y);$1i=DayPilot.Date.addDays($1i,-$A);var $z=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $1j=DayPilot.Date.addDays($1i,$z);var $1e=new DayPilot.Date(DayPilot.Date.addTime($1i,$1g));var $1f=new DayPilot.Date(DayPilot.Date.addTime($1j,$1h));switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1e,$1f,null,$06);break;case 'CallBack':$c.eventMoveCallBack(e,$1e,$1f,null,$06);break;case 'JavaScript':$c.onEventMove(e,$1e,$1f,ev.ctrlKey,ev.shiftKey,$06);break;case 'Notify':$c.eventMoveNotify(e,$1e,$1f,null,$06);break;}};this.eventMoveNotify=function(e,$1e,$1f,$i,$s){var $1k=new DayPilot.Event(e.copy(),this);e.start($1e);e.end($1f);e.commit();$c.update();this.$2K("Notify",$1k,$1e,$1f,$i,$s);};this.$2K=function($14,e,$1e,$1f,$i,$s){var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;$16.position=$s;this.$2D($14,"EventMove",$16,$i);};this.eventResizePostBack=function(e,$1e,$1f,$i){if(!$1e)throw 'newStart is null';if(!$1f)throw 'newEnd is null';var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;this.$2z('EventResize',$i,$16);};this.eventResizeCallBack=function(e,$1e,$1f,$i){if(!$1e)throw 'newStart is null';if(!$1f)throw 'newEnd is null';var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;this.$2B('EventResize',$16,$i);};this.$2L=function(e,$05,$z){var $1g=DayPilot.Date.getTime(e.start().d);var $0y=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($0y,e.end().d)){$0y=DayPilot.Date.addDays($0y,1);};var $1h=DayPilot.Date.diff(e.end().d,$0y);var $1i=this.$1Z($05.x,$05.y);var $1j=DayPilot.Date.addDays($1i,$z);var $1e=new DayPilot.Date(DayPilot.Date.addTime($1i,$1g));var $1f=new DayPilot.Date(DayPilot.Date.addTime($1j,$1h));switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1e,$1f);break;case 'CallBack':$c.eventResizeCallBack(e,$1e,$1f);break;case 'JavaScript':$c.onEventResize(e,$1e,$1f);break;case 'Notify':$c.eventResizeNotify(e,$1e,$1f);break;}};this.eventResizeNotify=function(e,$1e,$1f,$i){var $1k=new DayPilot.Event(e.copy(),this);e.start($1e);e.end($1f);e.commit();$c.update();this.$2M("Notify",$1k,$1e,$1f,$i);};this.$2M=function($14,e,$1e,$1f,$i){var $16={};$16.e=e;$16.newStart=$1e;$16.newEnd=$1f;this.$2D($14,"EventResize",$16,$i);};this.timeRangeSelectedPostBack=function($05,end,$i){var $0b={};$0b.start=$05;$0b.end=end;this.$2z('TimeRangeSelected',$i,$0b);};this.timeRangeSelectedCallBack=function($05,end,$i){var $0b={};$0b.start=$05;$0b.end=end;this.$2B('TimeRangeSelected',$0b,$i);};this.$2g=function($05,end){switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($05,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($05,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($05,end);break;}};this.timeRangeMenuClickPostBack=function(e,$1c,$i){var $16={};$16.selection=e;$16.command=$1c;this.$2z("TimeRangeMenuClick",$i,$16);};this.timeRangeMenuClickCallBack=function(e,$1c,$i){var $16={};$16.selection=e;$16.command=$1c;this.$2B("TimeRangeMenuClick",$16,$i);};this.$2N=function($1c,e,$1d){switch($1d){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1c);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1c);break;}};this.headerClickPostBack=function(c,$i){this.$2z('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$2B('HeaderClick',c,$i);};this.$2p=function(x){var $i=this.data;var c={$0T:x};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}};this.timeRangeDoubleClickPostBack=function($05,end,$i){var $0b={};$0b.start=$05;$0b.end=end;this.$2z('TimeRangeDoubleClick',$i,$0b);};this.timeRangeDoubleClickCallBack=function($05,end,$i){var $0b={};$0b.start=$05;$0b.end=end;this.$2B('TimeRangeDoubleClick',$0b,$i);};this.$2y=function($05,end){switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($05,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($05,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($05,end);break;}};this.commandCallBack=function($1c,$i){this.$2O();var $16={};$16.command=$1c;this.$2B('Command',$16,$i);};this.$2P=function(e){for(var i=0;i<$c.elements.events.length;i++){var $r=$c.elements.events[i];if($r.event===e){return $r;}};return null;};this.$29=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $r=this.elements.events[i];if($r.event.data===e.data){$d.list.push($r);}};return $d;};this.$2Q={};var $K=this.$2Q;$K.lineHeight=function(){return $c.eventHeight+$c.lineSpace;};$K.rounded=function(){return $c.eventCorners==="Rounded";};$K.loadFromServer=function(){return(typeof $c.events.list==='undefined')||(!$c.events.list);};$K.locale=function(){return DayPilot.Locale.find($c.locale);};$K.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$K.notifyType=function(){var $14;if($c.notifyCommit==='Immediate'){$14="Notify";}else if($c.notifyCommit==='Queue'){$14="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $14;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$2R=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $0w=[];$0w.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0w.push(m.list[i]);};return $0w;};this.multiselect.$2S=function(){};this.multiselect.$2H=function($r,$1l){var m=$c.multiselect;if(m.isSelected($r.event)){if($c.allowMultiSelect){if($1l){m.remove($r.event,true);}else{var $0o=m.list.length;m.clear(true);if($0o>1){m.add($r.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1l){m.add($r.event,true);}else{m.clear(true);m.add($r.event,true);}}else{m.clear(true);m.add($r.event,true);}};m.redraw();m.$2S();};this.multiselect.$26=function(ev){var m=$c.multiselect;return m.$2T(ev,m.initList);};this.multiselect.$2U=function(){var m=$c.multiselect;var $1m=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$1m.push(event.value());};alert($1m.join("\n"));};this.multiselect.add=function(ev,$1n){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($1n){return;};m.redraw();};this.multiselect.remove=function(ev,$1n){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($1n){var m=$c.multiselect;m.list=[];if($1n){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $r=$c.elements.events[i];if(m.isSelected($r.event)){m.$2V($r);}else{m.$2W($r);}}};this.multiselect.$2V=function($r){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1N("_selected"):$c.$1N("selected");var $r=m.$2X($r);DayPilot.Util.addClass($r,cn);m.divs.push($r);};this.multiselect.$2X=function($r){if($c.cssOnly){return $r;};return $r.firstChild;};this.multiselect.$2Y=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $r=m.divs[i];m.$2W($r,true);};m.divs=[];};this.multiselect.$2W=function($r,$1o){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1N("_selected"):$c.$1N("selected");var c=m.$2X($r);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($1o){return;};var i=DayPilot.indexOf(m.divs,$r);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$2T(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$2T=function(e,$1m){if(!$1m){return false;};for(var i=0;i<$1m.length;i++){var ei=$1m[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.find=function(id){var $1p=$c.events.list.length;for(var i=0;i<$1p;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($1q,$1r){var $1p=$c.events.list.length;for(var i=0;i<$1p;i++){if($c.events.list[i].recurrentMasterId===$1q&&$c.events.list[i].start.getTime()===$1r.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $16={};$16.oldEvent=new DayPilot.Event(e.copy(),$c);$16.newEvent=new DayPilot.Event(e.temp(),$c);var $10=new DayPilot.Action($c,"EventUpdate",$16,$i);e.commit();$c.update();return $10;};this.events.remove=function(e,$i){var $16={};$16.e=new DayPilot.Event(e.data,$c);var $10=new DayPilot.Action($c,"EventRemove",$16,$i);var $0s=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0s,1);$c.update();return $10;};this.events.add=function(e,$i){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $16={};$16.e=e;var $10=new DayPilot.Action($c,"EventAdd",$16,$i);$c.update();return $10;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($10){if(!$10){return;};if($10.isAction){$c.queue.list.push($10);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $16={};$16.actions=$c.queue.list;$c.$2B('Notify',$16,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$1M=function($1s){if($1s){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$2O();var $1t=this.autoRefreshInterval;if(!$1t||$1t<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$2Z();},this.autoRefreshInterval*1000);};this.$2O=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$2Z=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$2Z();},this.autoRefreshInterval*1000);}};this.$30=function($1u,$1v){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($1u);if(typeof console!=='undefined'){console.log($1u);}};this.update=function(){if(!this.cells){return;};var $1w=true;$c.$1E();$c.$1F();$c.$1G();if($1w){$c.$1H();$c.$1I();};$c.$1J();$c.$1K();$c.$1L();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$2O();c.$1E();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilotMonth.unregister(c);};this.$31=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.$1K=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$c.nav.top.style.display='';};this.hide=function(){$c.nav.top.style.display='none';};this.$32=function(){this.$1F();this.$2l();this.$1I();this.$31();this.$1M();this.$2B('Init');DayPilotMonth.register(this);};this.init=function(){this.nav.top=document.getElementById($b);if(this.nav.top.dp){return;};var $1x=$K.loadFromServer();if($1x){this.$32();return;};this.$1F();this.$1G();this.$2l();this.$1I();this.$1K();this.$1L();this.$31();if(this.messageHTML){this.message(this.messageHTML);};this.$1D(null,false);this.$1M();DayPilotMonth.register(this);};this.internal={};this.internal.invokeEvent=this.$2D;this.internal.eventMenuClick=this.$2J;this.internal.timeRangeMenuClick=this.$2N;this.internal.bubbleCallBack=this.$2E;this.internal.findEventDiv=this.$2P;this.Init=this.init;};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);DayPilotMonth.globalHandlers=false;}};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $04=DayPilotMonth.movingEvent;if(!$04.event||!$04.event.calendar||!$04.event.calendar.shadow||!$04.event.calendar.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $05=$c.shadow.start;var $06=$c.shadow.position;var $A=DayPilotMonth.movingEvent.offset;$c.$1Y();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.$2f(e,$05.x,$05.y,$A,ev,$06);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $04=DayPilotMonth.resizingEvent;if(!$04.event||!$04.event.calendar||!$04.event.calendar.shadow||!$04.event.calendar.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $05=$c.shadow.start;var $z=$c.shadow.width;$c.$1Y();DayPilotMonth.resizingEvent=null;$c.$2L(e,$05,$z);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $07=DayPilotMonth.timeRangeSelecting;var $c=$07.root;var $05=new DayPilot.Date($c.$1Z($07.from.x,$07.from.y));var end=$05.addDays($07.width);$c.$2g($05,end);};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($1y){var $1z=null;var j=this.each(function(){if(this.daypilot){return;};var $1A=new DayPilot.Month(this.id);this.daypilot=$1A;for(var name in $1y){$1A[name]=$1y[name];};$1A.Init();if(!$1z){$1z=$1A;}});if(this.length===1){return $1z;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotNavigator==='undefined'){var DayPilotNavigator=DayPilot.NavigatorVisible={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='215';var $a=this;this.id=id;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=new DayPilot.Date().getDatePart();this.selectionEnd=null;this.selectionDay=null;this.showMonths=1;this.skipMonths=1;this.timeRangeSelectedHandling="Bind";this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.showWeekNumbers=false;this.weekNumberAlgorithm='Auto';this.rowsPerMonth='Six';this.orientation="Vertical";this.locale="en-us";this.prepare=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.prefixCssClass('_main');}else{this.root.className=this.prefixCssClass('main');};if(this.orientation==="Horizontal"){this.root.style.width=this.showMonths*(this.cellWidth*7+this.weekNumberWidth())+'px';}else{this.root.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';};var $b=document.createElement("input");$b.type='hidden';$b.name=$a.id+"_state";$b.id=$b.name;this.root.appendChild($b);this.state=$b;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.clearTable=function(){this.root.innerHTML='';};this.prefixCssClass=function($c){if(this.cssClassPrefix){return this.cssClassPrefix+$c;}else{return "";}};this.addClass=function($d,name){var $e=this.cssOnly?this.prefixCssClass("_"+name):this.prefixCssClass(name);DayPilot.Util.addClass($d,$e);};this.removeClass=function($d,name){var $e=this.cssOnly?this.prefixCssClass("_"+name):this.prefixCssClass(name);DayPilot.Util.removeClass($d,$e);};this.drawTable=function($f,$g,$h,$i){var $j={};$j.cells=[];$j.days=[];$j.weeks=[];var $k=$f.firstDayOfMonth();var $l=$k.firstDayOfWeek($m.weekStarts());var $n=$k.addMonths(1);var $o=DayPilot.Date.daysDiff($l.d,$n.d);var $p=(this.rowsPerMonth==="Auto")?Math.ceil($o/7):6;var $q=(new DayPilot.Date()).getDatePart();var $r=document.createElement("div");$r.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';$r.style.height=(this.cellHeight*$p+this.titleHeight+this.dayHeaderHeight)+'px';if(this.orientation==="Horizontal"){$r.style.float="left";};if(this.cssOnly){$r.className=this.prefixCssClass('_month');}else{$r.className=this.prefixCssClass('month');};$r.style.position='relative';$r.style.cursor='default';$r.style.MozUserSelect='none';$r.style.KhtmlUserSelect='none';$r.style.WebkitUserSelect='none';$r.month=$j;this.root.appendChild($r);var $s=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.prefixCssClass('_titleleft');}else{tl.className=this.prefixCssClass('titleleft');};if($g.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.clickLeft;};$r.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5+this.weekNumberWidth())+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.prefixCssClass('_title');}else{ti.className=this.prefixCssClass('title');};ti.innerHTML=$m.locale().monthNames[$f.getMonth()]+' '+$f.getYear();$r.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6+this.weekNumberWidth())+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.prefixCssClass('_titleright');}else{tr.className=this.prefixCssClass('titleright');};if($g.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.clickRight;};$r.appendChild(tr);this.tr=tr;var $t=this.weekNumberWidth();if(this.showWeekNumbers){for(var y=0;y<$p;y++){var $u=$l.addDays(y*7);var $v=null;switch(this.weekNumberAlgorithm){case "Auto":$v=($m.weekStarts()===0)?$u.weekNumber():$u.weekNumberISO();break;case "US":$v=$u.weekNumber();break;case "ISO8601":$v=$u.weekNumberISO();break;default:throw "Unknown weekNumberAlgorithm value.";};var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(0)+'px';dh.style.top=(y*this.cellHeight+$s)+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.cellHeight+'px';dh.style.lineHeight=this.cellHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.prefixCssClass('_weeknumber');}else{dh.className=this.prefixCssClass('weeknumber');};dh.innerHTML="<span style='margin-right: 2px'>"+$v+"</span>";$r.appendChild(dh);$j.weeks.push(dh);}};for(var x=0;x<7;x++){$j.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth+$t)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.prefixCssClass('_dayheader');}else{dh.className=this.prefixCssClass('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.getDayName(x)+"</span>";$r.appendChild(dh);$j.days.push(dh);for(var y=0;y<$p;y++){var $u=$l.addDays(y*7+x);var $w=this.isSelected($u);var $x=$u.getMonth()===$f.getMonth();var $y=$u.getTime()<$f.getTime();var $z=$u.getTime()>$f.getTime();var $A;var dc=document.createElement("div");dc.day=$u;dc.x=x;dc.y=y;dc.isCurrentMonth=$x;if(this.cssOnly){dc.className=this.prefixCssClass(($x?'_day':'_dayother'));}else{dc.className=this.prefixCssClass(($x?'day':'dayother'));};if($u.getTime()===$q.getTime()&&$x){this.addClass(dc,'today');};if($u.dayOfWeek()===0||$u.dayOfWeek()===6){this.addClass(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth+$t)+'px';dc.style.top=(y*this.cellHeight+$s)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $B=document.createElement("div");$B.style.position='absolute';if(this.cssOnly){$B.className=($u.getTime()===$q.getTime()&&$x)?this.prefixCssClass('_todaybox'):this.prefixCssClass('_daybox');}else{$B.className=($u.getTime()===$q.getTime()&&$x)?this.prefixCssClass('todaybox'):this.prefixCssClass('daybox');};$B.style.left='0px';$B.style.top='0px';$B.style.width=(this.cellWidth-2)+'px';$B.style.height=(this.cellHeight-2)+'px';dc.appendChild($B);var $C=null;if(this.cells&&this.cells[$u.toStringSortable()]){$C=this.cells[$u.toStringSortable()];if($C.css){this.addClass(dc,$C.css);}};var $D=null;if($x||($h&&$y)||($i&&$z)){$D=document.createElement("span");$D.innerHTML=$u.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($w){this.addClass(dc,'select');};if($C&&$C.html){$D.innerHTML=$C.html;};$D.style.marginRight='2px';dc.appendChild($D);};dc.setAttribute("unselectable","on");dc.onclick=this.cellClick;dc.onmousedown=this.cellMouseDown;dc.onmousemove=this.cellMouseMove;if($w){this.selected.push(dc);};$r.appendChild(dc);$j.cells[x][y]=dc;}};var $E=document.createElement("div");$E.style.position='absolute';$E.style.left='0px';$E.style.top=($s-2)+'px';$E.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';$E.style.height='1px';$E.style.fontSize='1px';$E.style.lineHeight='1px';if(this.cssOnly){$E.className=this.prefixCssClass("_line");}else{$E.className=this.prefixCssClass("line");};$r.appendChild($E);this.months.push($j);};this.weekNumberWidth=function(){if(this.showWeekNumbers){return this.cellWidth;};return 0;};this.updateFreeBusy=function(){if(!this.items){return;};for(var j=0;j<this.showMonths;j++){for(var x=0;x<7;x++){for(var y=0;y<6;y++){var $C=this.months[j].cells[x][y];if(!$C){continue;};if(this.items[$C.day.toStringSortable()]===1){this.addClass($C,'busy');}else{this.removeClass($C,'busy');}}}}};this.saveState=function(){var s={};s.startDate=$a.startDate;s.selectionStart=$a.selectionStart;s.selectionEnd=$a.selectionEnd.addDays(1);$a.state.value=DayPilot.JSON.stringify(s);};this.adjustSelection=function(){switch(this.selectMode){case 'day':this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionStart.firstDayOfWeek($m.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionStart.firstDayOfMonth();this.selectionEnd=this.selectionStart.lastDayOfMonth();break;default:throw "Unkown selectMode value.";}};this.select=function($F){var $G=true;var $H=this.selectionStart;var $I=this.selectionEnd;this.selectionStart=new DayPilot.Date($F).getDatePart();this.selectionDay=this.selectionStart;var $J=false;if($G){var $K=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$K=this.selectionStart.firstDayOfMonth();};if($K.toStringSortable()!==this.startDate.toStringSortable()){$J=true;};this.startDate=$K;};this.adjustSelection();this.clearTable();this.prepare();this.drawMonths();this.updateFreeBusy();this.saveState();if(!$H.equals(this.selectionStart)||!$I.equals(this.selectionEnd)){this.timeRangeSelectedDispatch();};if($J){this.visibleRangeChanged();}};this.update=function(){this.clearTable();this.prepare();this.drawMonths();this.updateFreeBusy();this.saveState();};this.callBack2=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.getCallBackHeader();var $P="JSON"+DayPilot.JSON.stringify($O);var $Q=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$02,$P,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$P,this.updateView,$Q,this.callbackError,true);}};this.$02=function($R){$a.updateView($R.responseText);};this.postBack2=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.getCallBackHeader();var $P="JSON"+DayPilot.JSON.stringify($O);__doPostBack($a.uniqueID,$P);};this.getCallBackHeader=function(){var h={};h.v=this.v;h.startDate=this.startDate;h.selectionStart=this.selectionStart;return h;};this.listen=function($L,$M){if($L==='refresh'){this.visibleRangeChanged();}};this.getDayName=function(i){var x=i+$m.weekStarts();if(x>6){x-=7;};return $m.locale().dayNamesShort[x];};this.isSelected=function($F){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$F.getTime()&&$F.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.cellMouseDown=function(ev){};this.cellMouseMove=function(ev){};this.cellClick=function(ev){var $j=this.parentNode.month;var x=this.x;var y=this.y;var $u=$j.cells[x][y].day;if(!$j.cells[x][y].isClickable){return;};$a.clearSelection();$a.selectionDay=$u;switch($a.selectMode){case 'day':var s=$j.cells[x][y];$a.addClass(s,'select');$a.selected.push(s);$a.selectionStart=s.day;$a.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$a.addClass($j.cells[j][y],'select');$a.selected.push($j.cells[j][y]);};$a.selectionStart=$j.cells[0][y].day;$a.selectionEnd=$j.cells[6][y].day;break;case 'month':var $S=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$j.cells[x][y];if(!s){continue;};if(s.day.getYear()===$u.getYear()&&s.day.getMonth()===$u.getMonth()){$a.addClass(s,'select');$a.selected.push(s);if($S===null){$S=s.day;};end=s.day;}}};$a.selectionStart=$S;$a.selectionEnd=end;break;default:throw 'unknown selectMode';};$a.saveState();$a.timeRangeSelectedDispatch();};this.timeRangeSelectedDispatch=function(){var $S=$a.selectionStart;var end=$a.selectionEnd.addDays(1);var $o=DayPilot.Date.daysDiff($S.d,end.d);var $u=$a.selectionDay;switch($a.timeRangeSelectedHandling){case 'Bind':var $T=eval($a.bound);if($T){var $U={};$U.start=$S;$U.end=end;$U.days=$o;$U.day=$u;$T.commandCallBack($a.command,$U);};break;case 'JavaScript':$a.onTimeRangeSelected($S,end,$u);break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($S,end,$u);break;}};this.timeRangeSelectedPostBack=function($S,end,$M,$u){var $V={};$V.start=$S;$V.end=end;$V.day=$u;this.postBack2('TimeRangeSelected',$M,$V);};this.clickRight=function(ev){$a.moveMonth($a.skipMonths);};this.clickLeft=function(ev){$a.moveMonth(-$a.skipMonths);};this.moveMonth=function(i){this.startDate=this.startDate.addMonths(i);this.clearTable();this.prepare();this.drawMonths();this.saveState();this.visibleRangeChanged();};this.visibleStart=function(){return $a.startDate.firstDayOfMonth().firstDayOfWeek($m.weekStarts());};this.visibleEnd=function(){return $a.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($m.weekStarts()).addDays(42);};this.visibleRangeChanged=function(){var $S=this.visibleStart();var end=this.visibleEnd();switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "JavaScript":this.onVisibleRangeChanged($S,end);break;case "Disabled":break;}};this.visibleRangeChangedCallBack=function($M){var $N={};this.callBack2("Visible",$M,$N);};this.visibleRangeChangedPostBack=function($M){var $N={};this.postBack2("Visible",$M,$N);};this.updateView=function($W,$Q){var $W=eval("("+$W+")");$a.items=$W.Items;$a.cells=$W.Cells;$a.updateFreeBusy();};this.drawMonths=function(){for(var j=0;j<this.showMonths;j++){var $g={};$g.left=(j===0);$g.right=(j===0);if(this.orientation==="Horizontal"){$g.right=(j===this.showMonths-1);};this.drawTable(this.startDate.addMonths(j),$g,j===0,j===this.showMonths-1);};var $X=document.createElement("div");$X.style.clear="left";this.root.appendChild($X);};this.$03={};var $m=this.$03;$m.locale=function(){return DayPilot.Locale.find($a.locale);};$m.weekStarts=function(){if($a.weekStarts==='Auto'){var $Y=$m.locale();if($Y){return $Y.weekStarts;}else{return 0;}}else{return $a.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.removeClass(this.selected[j],'select');};this.selected=[];};this.init=function(){this.root=document.getElementById(id);if(this.root.dp){return;};this.adjustSelection();this.prepare();this.drawMonths();this.updateFreeBusy();this.$04();if(!this.items){this.visibleRangeChanged();}};this.dispose=function(){var c=$a;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$04=function(){var $Z=document.getElementById(id);$Z.dispose=this.dispose;};this.Init=this.init;};DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($00){var $l=null;var j=this.each(function(){if(this.daypilot){return;};var $01=new DayPilot.Navigator(this.id);this.daypilot=$01;for(var name in $00){$01[name]=$00[name];};$01.Init();if(!$l){$l=$01;}});if(this.length===1){return $l;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var DayPilotScheduler={};var $a=function(){};DayPilot.Scheduler=function(id){this.v='215';var $b=this;this.id=id;this.isScheduler=true;this.hideUntilInit=true;this.api=2;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=20;this.clientSide=true;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.debuggingEnabled=false;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.durationBarMode="Duration";this.days=1;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=20;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventResizeMargin=5;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.messageHideAfter=5000;this.moveBy='Top';this.notifyCommit='Immediate';this.numberFormat="0.00";this.treePreventParentUsage=true;this.rowHeaderWidth=80;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMinHeight=0;this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showBaseTimeHeader=true;this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=true;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=2;this.treeImageMarginTop=2;this.timeFormat="Auto";this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts='Auto';this.width=null;this.eventCorners='Regular';;this.separators=[];this.afterRender=function(){};this.cornerHTML='';this.crosshairLastY=-1;this.crosshairLastX=-1;this.eventClickHandling='Enabled';this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Enabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.resourceHeaderClickHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.cssOnly=true;this.backendUrl=null;if($b.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.debugMessages=[];this.autoRefreshCount=0;this.innerHeightTree=0;this.rows=[];this.timeline=[];this.groupline=[];this.events={};this.elements={};this.elements.events=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.cache={};this.cache.cells=[];this.cache.linesVertical=[];this.cache.timeHeaderGroups=[];this.cache.pixels=[];this.cache.breaks=[];this.cache.events=[];this.clientState={};this.nav={};this.$4e=function($c,$d){var $c=eval("("+$c+")");if($c.BubbleGuid){var $e=$c.BubbleGuid;var $f=this.bubbles[$e];delete this.bubbles[$e];$b.$4f();if(typeof $c.Result.BubbleHTML!=='undefined'){$f.updateView($c.Result.BubbleHTML,$f);};return;};if($c.CallBackRedirect){document.location.href=$c.CallBackRedirect;return;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $c.ClientState!=='undefined'){$b.clientState=$c.ClientState;};if($c.UpdateType==="None"){$b.$4f();$b.$4g($c.CallBackData,true);if($c.Message){$b.message($c.Message);};return;};if($c.VsUpdate){var $g=document.createElement("input");$g.type='hidden';$g.name=$b.id+"_vsupdate";$g.id=$g.name;$g.value=$c.VsUpdate;$b.vsph.innerHTML='';$b.vsph.appendChild($g);};if(typeof $c.TagFields!=='undefined'){$b.tagFields=$c.TagFields;};if(typeof $c.SortDirections!=='undefined'){$b.sortDirections=$c.SortDirections;};if($c.UpdateType==="Full"){$b.resources=$c.Resources;$b.colors=$c.Colors;$b.palette=$c.Palette;$b.dirtyColors=$c.DirtyColors;$b.cellProperties=$c.CellProperties;$b.cellConfig=$c.CellConfig;$b.separators=$c.Separators;$b.timeHeader=$c.TimeHeader;$b.timeHeaders=$c.TimeHeaders;$b.startDate=$c.StartDate?new DayPilot.Date($c.StartDate):$b.startDate;$b.days=$c.Days?$c.Days:$b.days;$b.cellDuration=$c.CellDuration?$c.CellDuration:$b.cellDuration;$b.cellGroupBy=$c.CellGroupBy?$c.CellGroupBy:$b.cellGroupBy;$b.cellWidth=$c.CellWidth?$c.CellWidth:$b.cellWidth;$b.viewType=$c.ViewType?$c.ViewType:$b.viewType;$b.hourNameBackColor=$c.HourNameBackColor?$c.HourNameBackColor:$b.hourNameBackColor;$b.showNonBusiness=$c.ShowNonBusiness?$c.ShowNonBusiness:$b.showNonBusiness;$b.businessBeginsHour=$c.BusinessBeginsHour?$c.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$c.BusinessEndsHour?$c.BusinessEndsHour:$b.businessEndsHour;if(typeof $c.DynamicLoading!=='undefined')$b.dynamicLoading=$c.DynamicLoading;if(typeof $c.TreeEnabled!=='undefined')$b.treeEnabled=$c.TreeEnabled;$b.backColor=$c.BackColor?$c.BackColor:$b.backColor;$b.nonBusinessBackColor=$c.NonBusinessBackColor?$c.NonBusinessBackColor:$b.nonBusinessBackColor;$b.locale=$c.Locale?$c.Locale:$b.locale;if(typeof $c.TimeZone!=='undefined')$b.timeZone=$c.TimeZone;$b.timeFormat=$c.TimeFormat?$c.TimeFormat:$b.timeFormat;$b.rowHeaderCols=$c.RowHeaderCols?$c.RowHeaderCols:$b.rowHeaderCols;if(typeof $c.DurationBarMode!=="undefined")$b.durationBarMode=$c.DurationBarMode;if(typeof $c.ShowBaseTimeHeader!=="undefined")$b.showBaseTimeHeader=$c.ShowBaseTimeHeader;$b.cornerBackColor=$c.CornerBackColor?$c.CornerBackColor:$b.cornerBackColor;$b.cornerHTML=$c.CornerHTML?$c.CornerHTML:$b.cornerHTML;$b.hashes=$c.Hashes;$b.$4h();$b.$4i();$b.$4j();$b.$4k();$b.$4l();};var $h=$b.$4m($c.Events,$c.Action==="Scroll");if($c.UpdateType==='Full'){$b.$4n();$b.$4o();};$b.$4p();if($c.Action!=="Scroll"){$b.$4q();$b.$4r();$b.$4s();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4t();};$b.$4u();$b.$4v();$b.$4w();$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4x();$b.$4y();$b.$4z();}else{$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4A($h,true);$b.$4x();};if($b.timeRangeSelectedHandling!=="HoldForever"){$b.$4B();};if($c.UpdateType==="Full"){$b.setScroll($c.ScrollX,$c.ScrollY);$b.$4C();};if($b.todo){if($b.todo.del){var $i=$b.todo.del;$i.parentNode.removeChild($i);$b.todo.del=null;}};$b.$4g($c.CallBackData,true);$b.$4f();if($c.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$b.$4n();$b.$4t();},0);};$b.$4D();if($c.Message){if($b.message){$b.message($c.Message);}}};this.$4g=function($j,$k){var $l=function($j,$m){return function(){if($b.$4E()){if(typeof $b.onAfterRender==='function'){var $n={};$n.isCallBack=$m;$n.data=$j;$b.onAfterRender($n);}}else{if($b.afterRender){$b.afterRender($j,$m);}}};};window.setTimeout($l($j,$k),0);};this.scrollTo=function($o){var $p=this.getPixels(new DayPilot.Date($o)).left;this.setScroll($p,scrollY);};this.scrollToResource=function(id){var $q=this.findRowByResourceId(id);if(!$q){return;};var x=this.getScrollX();this.setScroll(x,$q.Top);};this.setScroll=function(scrollX,scrollY){var scroll=$b.nav.scroll;var $r=$b.innerHeightTree;var $s=$b.$4F()*$b.cellWidth;if(scroll.clientWidth+scrollX>$s){scrollX=$s-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$r){scrollY=$r-scroll.clientHeight;};$b.divTimeScroll.scrollLeft=scrollX;$b.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.message=function($t,$u,$v,$w){if($t===null){return;};var $u=$u||this.messageHideAfter||2000;var $v=$v||"#ffffff";var $w=$w||"#000000";var $x=0.8;var top=this.$4G()+1;var $y=this.$4H()+1;var $z=DayPilot.sw($b.nav.scroll)+1;var $A;if(!this.nav.message){$A=document.createElement("div");$A.style.position="absolute";$A.style.left=$y+"px";$A.style.top=top+"px";$A.style.right=$z+"px";$A.style.display='none';var $B=document.createElement("div");$B.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$B.style.padding="5px";$B.style.opacity=$x;$B.style.filter="alpha(opacity="+($x*100)+")";}else{$B.className=this.$4I("_message");};$A.appendChild($B);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$v;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$4I("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$A.appendChild(close);this.nav.top.appendChild($A);this.nav.message=$A;};var $C=function(){var $B=$b.nav.message.firstChild;if(!$b.cssOnly){$B.style.backgroundColor=$w;$B.style.color=$v;};$B.innerHTML=$t;var $z=DayPilot.sw($b.nav.scroll)+1;$b.nav.message.style.right=$z+"px";var end=function(){$b.messageTimeout=setTimeout($b.$4J,$u);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$C);}else{$C();}};this.$4J=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.message.show=function($t){$b.message($t);};this.message.hide=function(){$b.$4J();};this.$4t=function(){if(this.nav.scroll){if(this.heightSpec==='Parent100Pct'){this.height=parseInt(this.nav.top.clientHeight,10)-(this.$4G()+2);};var $D=this.$4K();var $E=1;var $F=$D+this.$4G()+$E;if($D>0){this.nav.scroll.style.height=($D)+'px';this.scrollRes.style.height=($D)+'px';};if(this.nav.divider){this.nav.divider.style.height=($F)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($F)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.innerHeightTree+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.innerHeightTree+'px';}}};this.$4h=function(){this.endDate=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.timeline=[];this.cache.pixels=[];if(this.timeHeader){var $G=this.startDate.getTime();var $q=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$q.length;i++){var h=$q[i];var $H={};$H.start=new DayPilot.Date(h.start);if(h.end){$H.end=new DayPilot.Date(h.end);}else{$H.end=$H.start.addMinutes(this.cellDuration);};$H.breakBefore=$H.start.ticks!==$G;this.timeline.push($H);$G=$H.end.ticks;}}else{this.timeHeader=[];var $I=this.startDate;var end=$I.addMinutes(this.cellDuration);var $J=false;var $K=this.timeHeaders;if(!$K){$K=[{$L:this.cellGroupBy}];};var $M=[];while(end.ticks<=this.endDate.ticks){if(this.$4L($I,end)){var $H={};$H.start=$I;$H.end=end;$H.breakBefore=$J;this.timeline.push($H);var h={};h.start=$I;h.end=end;h.innerHTML=this.$4M($I);if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.tooltip=h.innerHTML;$N.backColor=null;$N.level=$K.length;var $n={};$n.header=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.backColor;h.toolTip=$N.tooltip;};$M.push(h);$J=false;}else{$J=true;};$I=end;end=$I.addMinutes(this.cellDuration);};for(var i=0;i<$K.length;i++){var $L=$K[i].groupBy;var $I=this.startDate;var $O=[];var $I=this.startDate;while($I.ticks<this.endDate.ticks){var h={};h.start=$I;h.end=this.$4N(h.start,$L);h.left=this.getPixels(h.start).left;var $P=this.getPixels(h.end).left-h.left;h.colspan=Math.ceil($P/(1.0*this.cellWidth));h.innerHTML=this.$4O($I,$L);if($P>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.toolTip=h.innerHTML;$N.color=null;$N.level=this.timeHeader.length;var $n={};$n.header=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.color;h.toolTip=$N.toolTip;};$O.push(h);};$I=h.end;};this.timeHeader.push($O);};this.timeHeader.push($M);}};this.$4i=function(){this.groupline=[];var $Q=this.endDate;var $N={};var $I=this.startDate;while($I.ticks<$Q.ticks){var $N={};$N.start=$I;$N.end=this.$4N($N.start);$N.left=this.getPixels($N.start).left;$N.width=this.getPixels($N.end).left-$N.left;if($N.width>0){this.groupline.push($N);};$I=$N.end;}};this.$4L=function($I,end){if(typeof this.onIncludeTimeCell==='function'){var $N={};$N.start=$I;$N.end=end;$N.visible=true;var $n={};$n.cell=$N;this.onIncludeTimeCell($n);return $N.visible;};if(this.showNonBusiness){return true;};if($I.d.getUTCDay()===0){return false;};if($I.d.getUTCDay()===6){return false;};if(this.cellDuration<60*24){var $R=$I.d.getUTCHours();$R+=$I.d.getUTCMinutes()/60.0;$R+=$I.d.getUTCSeconds()/3600.0;$R+=$I.d.getUTCMilliseconds()/3600000.0;if($R<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($R>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($o){var $S=$o.ticks;var $T=this.cache.pixels[$S];if($T){return $T;};var $U=null;var $V=221876841600000;if(this.timeline.length===0||$S<this.timeline[0].start.ticks){var $c={};$c.cut=false;$c.left=0;$c.boxLeft=$c.left;$c.boxRight=$c.left;return $c;};for(var i=0;i<this.timeline.length;i++){var $W=false;var $N=this.timeline[i];var $X=$N.start.ticks;var $Y=$N.end.ticks;if($X<$S&&$S<$Y){var $Z=$S-$X;var $c={};$c.cut=false;$c.left=i*this.cellWidth+this.$4P($Z);$c.boxLeft=i*this.cellWidth;$c.boxRight=(i+1)*this.cellWidth;break;}else if($X===$S){var $c={};$c.cut=false;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($Y===$S){var $c={};$c.cut=false;$c.left=(i+1)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($S<$X&&$S>$V){var $c={};$c.cut=true;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;};$V=$Y;};if(!$c){var $c={};$c.cut=true;$c.left=(this.timeline.length)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;};this.cache.pixels[$S]=$c;return $c;};this.getDate=function($y,$00,$01){var x=Math.floor($y/this.cellWidth);var $02=($01&&x>0)?x-1:x;if(this.timeline[$02]===null){return null;};var $I=($01&&x>0)?this.timeline[x-1].end:this.timeline[x].start;if(!$00){return $I;}else{var $Z=$y%this.cellWidth;return $I.addTime(this.$4Q($Z));}};this.$4P=function($S){return Math.floor((this.cellWidth*$S)/(1000*60*this.cellDuration));};this.$4Q=function($p){return Math.floor($p*(this.cellDuration/this.cellWidth)*60*1000);};this.$4R=function(ev){if($03.start){return;};$b.$4S(this,ev);};this.eventClickPostBack=function(e,$j){this.$4T('EventClick',e,$j);};this.eventClickCallBack=function(e,$j){this.$4U('EventClick',e,$j);};this.$4S=function($A,ev){var e=$A.event;var ev=ev||window.event;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!e.client.doubleClickEnabled()){$b.$4V($A,ev.ctrlKey);return;};if(!$b.timeouts){$b.timeouts=[];};var $04=function($A,$05){return function(){$b.$4V($A,$05);};};$b.timeouts.push(window.setTimeout($04($A,ev.ctrlKey),300));};this.$4V=function($A,$05){var e=$A.event;if(!e.client.clickEnabled()){return;};if($b.$4E()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($n);if($n.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'Edit':$b.$4W($A);break;case 'Select':$b.$4X($A,e,$05);break;case 'ContextMenu':var $06=e.client.contextMenu();if($06){$06.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($n);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':$b.$4W($A);break;case 'Select':$b.$4X($A,e,$05);break;case 'ContextMenu':var $06=e.client.contextMenu();if($06){$06.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.setHScrollPosition=function($p){this.nav.scroll.scrollLeft=$p;};this.getHScrollPosition=function(){return this.nav.scroll.scrollLeft;};this.getScrollX=this.getHScrollPosition;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$4X=function($A,e,$05){$b.$4Y($A,e,$05);};this.eventSelectPostBack=function(e,$07,$j){var $08={};$08.e=e;$08.change=$07;this.$4T('EventSelect',$08,$j);};this.eventSelectCallBack=function(e,$07,$j){var $08={};$08.e=e;$08.change=$07;this.$4U('EventSelect',$08,$j);};this.$4Y=function($A,e,$05){if($b.$4E()){var m=$b.multiselect;m.previous=m.events();var $n={};$n.e=e;$n.selected=m.isSelected(e);$n.ctrl=$05;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($n);if($n.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$07);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$07);break;case 'Update':m.$4Z($A,$05);break;};if(typeof $b.onEventSelected==='function'){$n.change=m.isSelected(e)?"selected":"deselected";$n.selected=m.isSelected(e);$b.onEventSelected($n);}}else{var m=$b.multiselect;m.previous=m.events();m.$4Z($A,$05);var $07=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$07);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$07);break;case 'JavaScript':$b.onEventSelect(e,$07);break;}}};this.eventRightClickPostBack=function(e,$j){this.$4T('EventRightClick',e,$j);};this.eventRightClickCallBack=function(e,$j){this.$4U('EventRightClick',e,$j);};this.$50=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.event.client.rightClickEnabled()){return false;};if($b.$4E()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($n);if($n.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $06=e.client.contextMenu();if($06){$06.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($n);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $06=e.client.contextMenu();if($06){$06.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;}};return false;};this.eventDoubleClickPostBack=function(e,$j){this.$4T('EventDoubleClick',e,$j);};this.eventDoubleClickCallBack=function(e,$j){this.$4U('EventDoubleClick',e,$j);};this.$51=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $09 in $b.timeouts){window.clearTimeout($b.timeouts[$09]);};$b.timeouts=null;};var ev=ev||window.event;var e=this.event;if($b.$4E()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':$b.$4W(this);break;case 'Select':$b.$4X($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($n);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':$b.$4W(this);break;case 'Select':$b.$4X($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventResizePostBack=function(e,$0a,$0b,$j){this.$52("PostBack",e,$0a,$0b,$j);};this.eventResizeCallBack=function(e,$0a,$0b,$j){this.$52("CallBack",e,$0a,$0b,$j);};this.$52=function($0c,e,$0a,$0b,$j){var $08={};$08.e=e;$08.newStart=$0a;$08.newEnd=$0b;this.$53($0c,"EventResize",$08,$j);};this.$54=function(e,$0a,$0b){if(this.eventResizeHandling==='Disabled'){return;};if($b.$4E()){var $n={};$n.e=e;$n.newStart=$0a;$n.newEnd=$0b;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($n);if($n.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0a,$0b);break;case 'CallBack':$b.eventResizeCallBack(e,$0a,$0b);break;case 'Notify':$b.eventResizeNotify(e,$0a,$0b);break;case 'Update':e.start($0a);e.end($0b);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($n);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0a,$0b);break;case 'CallBack':$b.eventResizeCallBack(e,$0a,$0b);break;case 'JavaScript':$b.onEventResize(e,$0a,$0b);break;case 'Notify':$b.eventResizeNotify(e,$0a,$0b);break;case 'Update':e.start($0a);e.end($0b);$b.events.update(e);break;}}};this.eventMovePostBack=function(e,$0a,$0b,$0d,$j,$O){this.$55("PostBack",e,$0a,$0b,$0d,$j,$O);};this.eventMoveCallBack=function(e,$0a,$0b,$0d,$j,$O){this.$55("CallBack",e,$0a,$0b,$0d,$j,$O);};this.$55=function($0c,e,$0a,$0b,$0d,$j,$O){var $08={};$08.e=e;$08.newStart=$0a;$08.newEnd=$0b;$08.newResource=$0d;$08.position=$O;this.$53($0c,"EventMove",$08,$j);};this.$53=function($0c,$0e,$08,$j){if($0c==='PostBack'){$b.$4T($0e,$08,$j);}else if($0c==='CallBack'){$b.$4U($0e,$08,$j,"CallBack");}else if($0c==='Immediate'){$b.$4U($0e,$08,$j,"Notify");}else if($0c==='Queue'){$b.queue.add(new DayPilot.Action(this,$0e,$08,$j));}else if($0c==='Notify'){if($0f.notifyType()==='Notify'){$b.$4U($0e,$08,$j,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$0e,$08,$j));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(e,$0a,$0b,$0d,$j,$O){var $0g=new DayPilot.Event(e.copy(),this);var $0h=$b.events.$56(e.data);e.start($0a);e.end($0b);e.resource($0d);e.commit();$0h=$0h.concat($b.events.$57(e.data));$b.$58($0h);$b.$59();$b.$4A($0h);this.$55("Notify",$0g,$0a,$0b,$0d,$j,$O);};this.eventResizeNotify=function(e,$0a,$0b,$j){var $0g=new DayPilot.Event(e.copy(),this);var $0h=$b.events.$56(e.data);e.start($0a);e.end($0b);e.commit();$0h=$0h.concat($b.events.$57(e.data));$b.$58($0h);$b.$59();$b.$4A($0h);this.$52("Notify",$0g,$0a,$0b,$j);};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$5a=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0i=[];$0i.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0i.push(m.list[i]);};return $0i;};this.multiselect.$5b=function(){};this.multiselect.$4Z=function($A,$0j){var m=$b.multiselect;if(m.isSelected($A.event)){if($b.allowMultiSelect){if($0j){m.remove($A.event,true);}else{var $0k=m.list.length;m.clear();if($0k>1){m.add($A.event,true);}}}else{m.clear();}}else{if($b.allowMultiSelect){if($0j){m.add($A.event,true);}else{m.clear();m.add($A.event,true);}}else{m.clear();m.add($A.event,true);}};m.$5c($A);m.$5b();};this.multiselect.$5d=function(ev){var m=$b.multiselect;return m.$5e(ev,m.initList);};this.multiselect.$5f=function(){var m=$b.multiselect;var $0l=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$0l.push(event.value());};alert($0l.join("\n"));};this.multiselect.add=function(ev,$0m){var m=$b.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($0m){return;};m.redraw();};this.multiselect.remove=function(ev,$0m){var m=$b.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);};if($0m){return;};m.redraw();};this.multiselect.clear=function($0m){var m=$b.multiselect;m.list=[];if($0m){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if(m.isSelected($A.event)){m.$5g($A);}else{m.$5h($A);}}};this.multiselect.$5i=function(ev){var m=$b.multiselect;var $A=null;for(var i=0;i<$b.elements.events.length;i++){if(m.isSelected($b.elements.events[i].event)){$A=$b.elements.events[i];break;}};m.$5c($A);};this.multiselect.$5c=function($A){if(!$A){return;};var m=$b.multiselect;if(m.isSelected($A.event)){m.$5g($A);}else{m.$5h($A);}};this.multiselect.$5g=function($A){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4I("_selected"):$b.$4I("selected");var $A=m.$5j($A);DayPilot.Util.addClass($A,cn);m.divs.push($A);};this.multiselect.$5j=function($A){return $A;};this.multiselect.$5k=function(){var m=$b.multiselect;for(var i=0;i<m.divs.length;i++){var $A=m.divs[i];m.$5h($A,true);};m.divs=[];};this.multiselect.$5h=function($A,$0n){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4I("_selected"):$b.$4I("selected");DayPilot.Util.removeClass($A,cn);if($0n){return;};var i=DayPilot.indexOf(m.divs,$A);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$5e(ev,$b.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($b.multiselect.list,ev);};this.multiselect.$5e=function(e,$0l){if(!$0l){return false;};for(var i=0;i<$0l.length;i++){var ei=$0l[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.update=function(){var $0o=true;if($0o){$b.timeHeader=null;$b.$4h();$b.$4i();$b.$4j();$b.$4k();};this.$4m();if($0o){$b.$4n();$b.$4o();};$b.$4q();$b.$4r();$b.$4s();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4t();};this.$4v();this.$4w();this.$4u();this.$4x();this.$4y();this.$4z();};this.$4A=function($0h,$0p){var $I,end;$0h=DayPilot.ua($0h);if(this.rowsDirty){var $0q=this.$4r();this.$4q();this.$4u();this.$4w();for(var i=0;i<$0h.length;i++){var ri=$0h[i];this.$5l(ri);};for(var i=0;i<$0h.length;i++){var ri=$0h[i];this.$5m(ri);};this.$4x();this.$4y();this.$5n();}else{var $0r=true;if($0r){var $0s=function(i){if(i>=$0h.length){return;};var ri=$0h[i];if(!$0p){$b.$5l(ri);};$b.$5m(ri);if(i+1<$0h.length){setTimeout(function(){$0s(i+1);},10);}};$0s(0);}else{for(var i=0;i<$0h.length;i++){var ri=$0h[i];if(!$0p){this.$5l(ri);};this.$5m(ri);}}}};this.$5o=function(e,$0a,$0b,$0d,external,ev,$O){if($b.eventMoveHandling==='Disabled'){return;};if($b.$4E()){var $n={};$n.e=e;$n.newStart=$0a;$n.newEnd=$0b;$n.newResource=$0d;$n.external=external;$n.ctrl=false;if(ev){$n.ctrl=ev.ctrlKey;};$n.shift=false;if(ev){$n.shift=ev.shiftKey;};$n.position=$O;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($n);if($n.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0a,$0b,$0d,null,$O);break;case 'CallBack':$b.eventMoveCallBack(e,$0a,$0b,$0d,null,$O);break;case 'Notify':$b.eventMoveNotify(e,$0a,$0b,$0d,null,$O);break;case 'Update':e.start($0a);e.end($0b);e.resource($0d);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($n);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0a,$0b,$0d,null,$O);break;case 'CallBack':$b.eventMoveCallBack(e,$0a,$0b,$0d,null,$O);break;case 'JavaScript':$b.onEventMove(e,$0a,$0b,$0d,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$O);break;case 'Notify':$b.eventMoveNotify(e,$0a,$0b,$0d,null,$O);break;case 'Update':e.start($0a);e.end($0b);e.resource($0d);$b.events.update(e);break;}}};this.$5p=function($n,$f){var $e=$b.$5q($f);var $08={};$08.args=$n;$08.guid=$e;$b.$4U("Bubble",$08);};this.$5q=function($f){var $e=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$e]=$f;return $e;};this.eventMenuClickPostBack=function(e,$0t,$j){var $08={};$08.e=e;$08.command=$0t;this.$4T('EventMenuClick',$08,$j);};this.eventMenuClickCallBack=function(e,$0t,$j){var $08={};$08.e=e;$08.command=$0t;this.$4U('EventMenuClick',$08,$j);};this.$5r=function($0t,e,$0u){switch($0u){case 'PostBack':$b.eventMenuClickPostBack(e,$0t);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0t);break;}};this.timeRangeSelectedPostBack=function($I,end,$0v,$j){var $0w={};$0w.start=$I;$0w.end=end;$0w.resource=$0v;this.$4T('TimeRangeSelected',$0w,$j);};this.timeRangeSelectedCallBack=function($I,end,$0v,$j){var $0w={};$0w.start=$I;$0w.end=end;$0w.resource=$0v;this.$4U('TimeRangeSelected',$0w,$j);};this.$5s=function($I,end,$0v){if($b.timeRangeSelectedHandling==='Disabled'){};if($b.$4E()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0v;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($n);if($n.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0v);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0v);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($n);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0v);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0v);break;case 'JavaScript':$b.onTimeRangeSelected($I,end,$0v);break;case 'Hold':break;}}};this.timeRangeDoubleClickPostBack=function($I,end,$0v,$j){var $0w={};$0w.start=$I;$0w.end=end;$0w.resource=$0v;this.$4T('TimeRangeDoubleClick',$0w,$j);};this.timeRangeDoubleClickCallBack=function($I,end,$0v,$j){var $0w={};$0w.start=$I;$0w.end=end;$0w.resource=$0v;this.$4U('TimeRangeDoubleClick',$0w,$j);};this.$5t=function($I,end,$0v){if($b.$4E()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0v;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0v);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0v);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($n);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0v);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0v);break;case 'JavaScript':$b.onTimeRangeDoubleClick($I,end,$0v);break;}}};this.timeRangeMenuClickPostBack=function(e,$0t,$j){var $08={};$08.selection=e;$08.command=$0t;this.$4T("TimeRangeMenuClick",$08,$j);};this.timeRangeMenuClickCallBack=function(e,$0t,$j){var $08={};$08.selection=e;$08.command=$0t;this.$4U("TimeRangeMenuClick",$08,$j);};this.$5u=function($0t,e,$0u){switch($0u){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0t);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0t);break;}};this.resourceHeaderMenuClickPostBack=function(e,$0t,$j){var $08={};$08.resource=e;$08.command=$0t;this.$4T("ResourceHeaderMenuClick",$08,$j);};this.resourceHeaderMenuClickCallBack=function(e,$0t,$j){var $08={};$08.resource=e;$08.command=$0t;this.$4U("ResourceHeaderMenuClick",$08,$j);};this.$5v=function($0t,e,$0u){switch($0u){case 'PostBack':$b.resourceHeaderMenuClickPostBack(e,$0t);break;case 'CallBack':$b.resourceHeaderMenuClickCallBack(e,$0t);break;}};this.resourceHeaderClickPostBack=function(e,$j){var $08={};$08.resource=e;this.$4T("ResourceHeaderClick",$08,$j);};this.resourceHeaderClickCallBack=function(e,$j){var $08={};$08.resource=e;this.$4U("ResourceHeaderClick",$08,$j);};this.$5w=function(e){if($b.$4E()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceHeaderClick==='function'){$b.onResourceHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;};if(typeof $b.onResourceHeaderClicked==='function'){$b.onResourceHeaderClicked($n);}}else{switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;case 'JavaScript':$b.onResourceHeaderClick(e);break;}}};this.timeHeaderClickPostBack=function(e,$j){var $08={};$08.header=e;this.$4T("TimeHeaderClick",$08,$j);};this.timeHeaderClickCallBack=function(e,$j){var $08={};$08.header=e;this.$4U("TimeHeaderClick",$08,$j);};this.$5x=function(e){switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;case 'JavaScript':$b.onTimeHeaderClick(e);break;}};this.resourceCollapsePostBack=function(e,$j){var $08={};$08.resource=e;this.$4T("ResourceCollapse",$08,$j);};this.resourceCollapseCallBack=function(e,$j){var $08={};$08.resource=e;this.$4U("ResourceCollapse",$08,$j);};this.$5y=function(e){if($b.$4E()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceCollapse==='function'){$b.onResourceCollapse($n);if($n.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;case 'JavaScript':$b.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$j){var $08={};$08.resource=e;this.$4T("ResourceExpand",$08,$j);};this.resourceExpandCallBack=function(e,$j){var $08={};$08.resource=e;this.$4U("ResourceExpand",$08,$j);};this.$5z=function(e){if($b.$4E()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceExpand==='function'){$b.onResourceExpand($n);if($n.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;case 'JavaScript':$b.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$0x,$j){var $08={};$08.e=e;$08.newText=$0x;this.$4T("EventEdit",$08,$j);};this.eventEditCallBack=function(e,$0x,$j){var $08={};$08.e=e;$08.newText=$0x;this.$4U("EventEdit",$08,$j);};this.$5A=function(e,$0x){if($b.$4E()){var $n={};$n.e=e;$n.newText=$0x;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($n);if($n.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0x);break;case 'CallBack':$b.eventEditCallBack(e,$0x);break;case 'Update':e.text($0x);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($n);if($n.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0x);break;case 'CallBack':$b.eventEditCallBack(e,$0x);break;case 'JavaScript':$b.onEventEdit(e,$0x);break;}}};this.commandCallBack=function($0t,$j){this.$5B("CallBack",$0t,$j);};this.commandPostBack=function($0t,$j){this.$5B("PostBack",$0t,$j);};this.$5B=function($0c,$0t,$j){var $08={};$08.command=$0t;this.$53($0c,"Command",$08,$j);};this.$4T=function($0e,$0y,$j){var $0z={};$0z.action=$0e;$0z.type="PostBack";$0z.parameters=$0y;$0z.data=$j;$0z.header=this.$5C();var $0A="JSON"+DayPilot.JSON.stringify($0z);__doPostBack($b.uniqueID,$0A);};this.$4U=function($0e,$0y,$j,$0c){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $0c==='undefined'){$0c="CallBack";};this.$5D();this.callbackTimeout=window.setTimeout(function(){$b.$5E();},100);var $0z={};$0z.action=$0e;$0z.type=$0c;$0z.parameters=$0y;$0z.data=$j;$0z.header=this.$5C();var $0B=DayPilot.JSON.stringify($0z);var $0A;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$0A="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($0B));}else{$0A="JSON"+$0B;};var $d=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$5F,$0A,this.ajaxError);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$0A,this.$4e,$d,this.callbackError,true);}};this.$5F=function($0C){$b.$4e($0C.responseText);};this.$5C=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$b.startDate;h.days=$b.days;h.cellDuration=$b.cellDuration;h.cellGroupBy=$b.cellGroupBy;h.cellWidth=$b.cellWidth;h.viewType=$b.viewType;h.hourNameBackColor=$b.hourNameBackColor;h.showNonBusiness=$b.showNonBusiness;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.weekStarts=$b.weekStarts;h.treeEnabled=$b.treeEnabled;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.locale=$b.locale;h.timeZone=$b.timeZone;h.tagFields=$b.tagFields;h.timeHeaders=$b.timeHeaders;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.durationBarMode=$b.durationBarMode;h.showBaseTimeHeader=$b.showBaseTimeHeader;h.clientState=$b.clientState;if(this.nav.scroll){h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;};h.selected=$b.multiselect.events();h.hashes=$b.hashes;var $0D=$b.getArea(h.scrollX,h.scrollY);var $0w=$b.getAreaRange($0D);var $0E=$b.getAreaResources($0D);h.rangeStart=$0w.start;h.rangeEnd=$0w.end;h.resources=$0E;h.dynamicLoading=$b.dynamicLoading;if(this.syncResourceTree){h.tree=this.$5G();};return h;};this.getArea=function(scrollX,scrollY){var $0D={};$0D.start={};$0D.end={};$0D.start.x=Math.floor(scrollX/$b.cellWidth);$0D.end.x=Math.floor((scrollX+$b.nav.scroll.clientWidth)/$b.cellWidth);$0D.start.y=$b.getRow(scrollY).i;$0D.end.y=$b.getRow(scrollY+$b.nav.scroll.clientHeight).i;var $0F=this.timeline.length;if($0D.end.x>=$0F){$0D.end.x=$0F-1;};return $0D;};this.getAreaRange=function($0D){var $c={};if(this.timeline.length<=0){$c.start=this.startDate;$c.end=this.startDate;return $c;};if(!this.timeline[$0D.start.x]){throw 'Internal error: area.start.x is null.';};$c.start=this.timeline[$0D.start.x].start;$c.end=this.timeline[$0D.end.x].end;return $c;};this.getAreaResources=function($0D){if(!$0D){var $0D=this.getArea(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $0E=[];$0E.ignoreToJSON=true;for(var i=$0D.start.y;i<=$0D.end.y;i++){var r=$b.rows[i];if(r&&!r.Hidden){$0E.push(r.Value);}};return $0E;};this.$5G=function(){var $0G=[];$0G.ignoreToJSON=true;for(var i=0;i<this.rows.length;i++){if(this.rows[i].Level>0){continue;};var $0H=this.$5H(i);$0G.push($0H);};return $0G;};this.$5I=function($0I){var $0J=[];$0J.ignoreToJSON=true;for(var i=0;i<$0I.length;i++){$0J.push(this.$5H($0I[i]));};return $0J;};this.$5H=function(i){var $q=this.rows[i];var $0H={};$0H.Value=$q.Value;$0H.BackColor=$q.BackColor;$0H.Name=$q.Name;$0H.InnerHTML=$q.InnerHTML;$0H.ToolTip=$q.ToolTip;$0H.Expanded=$q.Expanded;$0H.Children=this.$5I($q.Children);$0H.Loaded=$q.Loaded;$0H.IsParent=$q.IsParent;$0H.Columns=this.$5J($q);if($q.MinHeight!==$b.rowMinHeight){$0H.MinHeight=$q.MinHeight;};if($q.MarginBottom!==$b.rowMarginBottom){$0H.MarginBottom=$q.MarginBottom;};return $0H;};this.$5J=function($q){if(!$q.Columns||$q.Columns.length===0){return null;};var $0K=[];$0K.ignoreToJSON=true;for(var i=0;i<$q.Columns.length;i++){var c={};c.InnerHTML=$q.Columns[i].html;$0K.push(c);};return $0K;};this.$4I=function($0L){if(this.cssClassPrefix){return this.cssClassPrefix+$0L;}else{return "";}};this.$5K=function(){var $0M=document.getElementById(id);$0M.dispose=this.dispose;};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$5D();c.$4v();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.scrollRes=null;c.vsph=null;c.maind=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');c.nav.top.innerHTML="";c.nav.top.dp=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.resize);DayPilotScheduler.unregister(c);};this.$5L=function($0N,$0c){var $0O=$b.maind;var $0P=$b.$5M($0N);var event=$0N.event;var $D=event.part.height||$b.eventHeight;var top=(event.part&&event.part.top)?(event.part.top+$b.rows[event.part.dayIndex].Top):$0P.top;var $0Q=document.createElement('div');$0Q.setAttribute('unselectable','on');$0Q.style.position='absolute';$0Q.style.width=($0P.width)+'px';$0Q.style.height=$D+'px';$0Q.style.left=$0P.left+'px';$0Q.style.top=top+'px';$0Q.style.zIndex=101;$0Q.style.overflow='hidden';var $B=document.createElement("div");$0Q.appendChild($B);if(this.cssOnly){$0Q.className=this.$4I("_shadow");$B.className=this.$4I("_shadow_inner");};if(!this.cssOnly){if($0c==='Fill'){$B.style.backgroundColor="#aaaaaa";$B.style.opacity=0.5;$B.style.filter="alpha(opacity=50)";$B.style.height="100%";if($0N&&$0N.event&&$0N.style){$B.style.fontSize=$0N.style.fontSize;$B.style.fontFamily=$0N.style.fontFamily;$B.style.color=$0N.style.color;$B.innerHTML=$0N.event.client.innerHTML();}}else{$0Q.style.paddingTop="2px";$B.style.border='2px dotted #666666';}};$0O.appendChild($0Q);$0Q.calendar=$b;return $0Q;};this.getRow=function(y){var $c={};var element;var top=0;var $0R=0;var $0S=this.rows.length;for(var i=0;i<$0S;i++){var $q=this.rows[i];if($q.Hidden){continue;};$0R+=$q.Height;if(y<$0R||i===$0S-1){top=$0R-$q.Height;element=$q;break;}};$c.top=top;$c.bottom=$0R;$c.i=i;$c.element=element;return $c;};this.getRowByIndex=function(i){var top=0;var $0T=0;var $0U=0;if(i>this.rows.length-1){throw "Row index too high (DayPilotScheduler.getRowByIndex)";};for(var j=0;j<=i;j++){var $q=this.rows[j];if($q.Hidden){continue;};$0T+=$q.Height;$0U++;};top=$0T-$q.Height;var $c={};$c.top=top;$c.height=$q.Height;$c.bottom=$0T;$c.i=$0U-1;return $c;};this.$5N=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.events.find=function(id){var $0V=$b.events.list.length;for(var i=0;i<$0V;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($0W,$0X){var $0V=$b.events.list.length;for(var i=0;i<$0V;i++){if($b.events.list[i].recurrentMasterId===$0W&&$b.events.list[i].start.getTime()===$0X.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.$56=function($j){var $0h=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];for(var r=0;r<$q.events.length;r++){if($q.events[r].data===$j){$0h.push(i);$q.events.splice(r,1);break;}}};return $0h;};this.events.$57=function($j){var $0h=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];var ep=$b.$5O($j,$q);if(ep){var $0U=DayPilot.indexOf($b.events.list,ep.data);$b.$5P($0U);if(typeof $b.onBeforeEventRender==='function'){ep.cache=$b.cache.events[$0U];};$0h.push(i);}};return $0h;};this.events.update=function(e,$j){var $08={};$08.oldEvent=new DayPilot.Event(e.copy(),$b);$08.newEvent=new DayPilot.Event(e.temp(),$b);var $0e=new DayPilot.Action($b,"EventUpdate",$08,$j);var $0h=$b.events.$56(e.data);e.commit();$0h=$0h.concat($b.events.$57(e.data));$b.$58($0h);$b.$59();$b.$4A($0h);$b.$4t();return $0e;};this.events.remove=function(e,$j){var $08={};$08.e=new DayPilot.Event(e.data,$b);var $0e=new DayPilot.Action($b,"EventRemove",$08,$j);var $0U=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($0U,1);var $0h=$b.events.$56(e.data);$b.$58($0h);$b.$59();$b.$4A($0h);return $0e;};this.events.add=function(e,$j){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $08={};$08.e=e;var $0e=new DayPilot.Action($b,"EventAdd",$08,$j);var ri=DayPilot.indexOf($b.rows,$b.findRowByResourceId(e.resource()));var $q=$b.rows[ri];var $I=new Date();var $0h=$b.events.$57(e.data);$b.$58($0h);$b.$59();var end=new Date();$b.$4A($0h);return $0e;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0e){if(!$0e){return;};if($0e.isAction){$b.queue.list.push($0e);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($j){var $08={};$08.actions=$b.queue.list;$b.$4U('Notify',$08,$j,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.$5Q=function($0Y,$0Z){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($0Y);if(typeof console!=='undefined'){console.log($0Y);}};this.showDebugMessages=function(){alert("Log:\n"+$b.debugMessages.join("\n"));};this.$5R=function($o){if($o.ticks===this.startDate.ticks){return $o;};var $10=this.startDate;if($o.ticks<this.startDate.ticks){while($10.ticks>$o.ticks){$10=$10.addMinutes(-this.cellDuration);};return $10;};if($o.ticks>this.startDate.ticks){while($10.ticks<=$o.ticks){$10=$10.addMinutes(this.cellDuration);};return $10.addMinutes(-this.cellDuration);};throw "Internal error: Cannot find box start";};this.$5M=function($0N){var $q=this.getRow($b.coords.y);var e=$0N.event;if(typeof e.end !=='function'){alert("e.end function is not defined");};if(!e.end()){alert("e.end() returns null");};var $11=DayPilot.Date.diff(e.end().d,e.start().d);var $12=$0f.useBox($11);var $13=e.start().getDatePart();var $14=($12)?e.start().getTime()-($13.getTime()+Math.floor((e.start().getHours()*60+e.start().getMinutes())/$b.cellDuration)*$b.cellDuration*60*1000):0;var $15;if(DayPilotScheduler.moveDragStart){$15=$12?DayPilotScheduler.moveDragStart.getTime()-this.$5R(e.start()).getTime():DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();$15=Math.floor(($15/ 60000)/ this.cellDuration)*(this.cellDuration*60000);}else{$15=0;};if(this.eventMoveToPosition){$15=0;};var $I=this.getDate(this.coords.x,true).addTime(-$15);if(DayPilotScheduler.resizing){$I=e.start();};var $16=$I;if(this.snapToGrid){$I=this.$5R($I);};$I=$I.addTime($14);var end=$I.addTime($11);var $17=$I;var $18=end;if(this.viewType==='Days'){var $19=this.rows[e.part.dayIndex].Start.getTime()-this.startDate.getTime();var $17=$I.addTime(-$19);var $18=$17.addTime($11);var $1a=$q.element.Start.getTime()-this.startDate.getTime();$I=$17.addTime($1a);end=$I.addTime($11);};var $1b=this.getPixels($17);var $1c=this.getPixels($18);var $y=($12)?$1b.boxLeft:$1b.left;var $P=($12)?($1c.boxRight-$y):($1c.left-$y);var $0P={};$0P.top=$q.top;$0P.left=$y;$0P.row=$q.element;$0P.rowIndex=$q.i;$0P.width=$P;$0P.start=$I;$0P.end=end;$0P.relativeY=$b.coords.y-$q.top;return $0P;};this.$5S=function(y){return this.treePreventParentUsage&&this.$5T(y);};this.$5T=function(y){var $q=this.rows[y];if($q.IsParent){return true;};if(this.treeEnabled){if($q.Children&&$q.Children.length>0){return true;}};return false;};this.$5U=function(){var scroll=this.nav.scroll;if(!$b.coords){return;};var $0Q=DayPilotScheduler.movingShadow;var $0P=this.$5M(DayPilotScheduler.moving);var ev=DayPilotScheduler.moving.event;var $1d=0;(function(){var y=$0P.relativeY;var $q=$0P.row;var $1e=$q.lines.length;var top=0;var lh=$b.eventHeight;var $1f=$q.lines.length;for(var i=0;i<$q.lines.length;i++){var $O=$q.lines[i];if($O.isFree($0P.left,$b.cellWidth)){$1f=i;break;}};var $1g=Math.floor((y-top+lh/ 2)/ lh);var $1g=Math.min($1f,$1g);var $1g=Math.max(0,$1g);$1d=$1g;})();var $1h=!ev.data.moveVDisabled;var $1i=!ev.data.moveHDisabled;var $1j=$1d*$b.eventHeight;if($1j>0){$1j-=3;};if($1h){if(!this.$5S($0P.rowIndex)){$0Q.row=$0P.row;$0Q.style.height=Math.max($0P.row.Height,0)+'px';$0Q.style.top=($0P.top)+'px';if($b.eventMoveToPosition){$0Q.style.top=($0P.top+$1j)+"px";$0Q.style.height="3px";$0Q.line=$1d;}}else{var $1k=$0Q.row;var $1l=$0P.rowIndex<$1k.Index?1:-1;for(var i=$0P.rowIndex;i!==$1k.Index;i+=$1l){var $q=this.rows[i];if(!this.$5S(i)&&!$q.Hidden){$0Q.style.top=($q.Top)+'px';$0Q.style.height=Math.max($q.Height,0)+'px';$0Q.row=$q;if($b.eventMoveToPosition){$1d=$1l>0?0:$q.lines.length-1;$0Q.style.top=($0P.top+$1j)+"px";$0Q.style.height="3px";$0Q.line=$1d;};break;}}}}else{var $1k=this.rows[this.getRow(parseInt($0Q.style.top)).i];var $1f=$1k.lines.length;for(var i=0;i<$1k.lines.length;i++){var $O=$1k.lines[i];if($O.isFree($0P.left,$b.cellWidth)){$1f=i;break;}};$0Q.style.height=Math.max($1k.Height,0)+'px';$0Q.style.top=($1k.Top)+'px';$0Q.row=$1k;if($b.eventMoveToPosition){if($0P.row===$1k){$0Q.style.top=($1k.Top+$1j)+"px";$0Q.style.height="3px";$0Q.line=$1d;}else{var $1g=($0P.rowIndex>$1k.Index&&$1f>0)?$1f*$b.eventHeight-3:0;$0Q.style.top=($1k.Top+$1g)+"px";$0Q.style.height="3px";$0Q.line=0;}}};if($1i){$0Q.style.left=$0P.left+'px';if($b.eventMoveToPosition){$0Q.style.width=($b.cellWidth)+'px';}else{$0Q.style.width=($0P.width)+'px';};$0Q.start=$0P.start;$0Q.end=$0P.end;}else{$0Q.start=ev.start();$0Q.end=ev.end();}};this.$5V=function(){if(this.rowHeaderColumns){this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width");}};this.$4H=function(){var $1m=0;this.$5V();if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$1m+=this.rowHeaderCols[i];}}else{$1m=this.rowHeaderWidth;};return $1m;};this.$5W=function(){var $1n=this.divHeader;var $1f=[];for(var i=0;i<$1n.rows.length;i++){for(var j=0;j<$1n.rows[i].cells.length;j++){var $B=$1n.rows[i].cells[j].firstChild.firstChild;if(!$B||!$B.style){continue;};var $1o=$B.style.width;var $1p=$B.style.right;$B.style.position="absolute";$B.style.width="auto";$B.style.right="auto";$B.style.whiteSpace="nowrap";var w=$B.offsetWidth+2;$B.style.position="";$B.style.width=$1o;$B.style.right=$1p;$B.style.whiteSpace="";if(typeof $1f[j]==='undefined'){$1f[j]=0;};$1f[j]=Math.max($1f[j],w);}};var $1q=0;var $1r=false;this.$5V();if(this.rowHeaderCols){for(var i=0;i<$1f.length;i++){if(this.rowHeaderCols[i]){if($1f[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$1f[i];$1r=true;};$1q+=this.rowHeaderCols[i];}}}else{if(this.rowHeaderWidth<$1f[0]){$1q=$1f[0];$1r=true;}};if($1r){this.rowHeaderWidth=$1q;this.$5X();}};this.$4n=function(){var parent=this.divResScroll;DayPilot.puc(parent);parent.innerHTML='';this.$5V();var $1s=this.rowHeaderCols;var $0K=$1s?this.rowHeaderCols.length:0;var $1m=this.$4H();var $1n=document.createElement("table");$1n.style.borderCollapse="collapse";$1n.style.KhtmlUserSelect="none";$1n.style.MozUserSelect="none";$1n.style.WebkitUserSelect="none";$1n.style.width=$1m+"px";$1n.style.border="0px none";$1n.cellSpacing=0;$1n.cellPadding=0;$1n.onmousemove=function(){$b.$5Y();$b.$5Z();};if(!this.cssOnly){$1n.className=this.$4I("resourceheader");};this.divHeader=$1n;var m=this.rows.length;for(var i=0;i<m;i++){var $q=this.rows[i];if($q.Hidden){continue;};var r=$1n.insertRow(-1);var c=r.insertCell(-1);c.row=$q;c.index=i;var $P=$1s?$1s[0]:this.rowHeaderWidth;c.style.width=($P)+"px";c.style.border="0px none";if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");c.setAttribute('resource',$q.Value);c.onmousemove=$b.$60;c.onmouseout=$b.$61;c.oncontextmenu=$b.$62;c.onclick=$b.$63;var $A=document.createElement("div");$A.style.width=($P)+"px";$A.setAttribute("unselectable","on");$A.className=this.cssOnly?this.$4I('_rowheader'):this.$4I('rowheader');if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.cssOnly?this.$4I('_rowheader_inner'):"";$A.appendChild($B);var $1t=document.createElement("div");$1t.style.position="absolute";$1t.style.bottom="0px";$1t.style.width="100%";$1t.style.height="1px";if(this.cssOnly){$1t.className=this.$4I("_resourcedivider");}else{$1t.style.backgroundColor=this.borderColor;};$A.appendChild($1t);if(this.treeEnabled){var $1u=document.createElement("div");$1u.style.width="10px";$1u.style.height="10px";$1u.style.backgroundRepeat="no-repeat";$1u.style.position='absolute';$1u.style.left=($q.Level*this.treeIndent+this.treeImageMarginLeft)+'px';$1u.style.top=this.treeImageMarginTop+"px";if(!$q.Loaded&&$q.Children.length===0){if(this.treeImageExpand&&!this.cssOnly){$1u.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1u.className=this.cssOnly?this.$4I('_tree_image_expand'):this.$4I('tree_image_expand');$1u.style.cursor='pointer';$1u.index=i;$1u.onclick=function(ev){$b.$64(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($q.Children.length>0){if($q.Expanded){if(this.treeImageCollapse&&!this.cssOnly){$1u.style.backgroundImage="url('"+this.treeImageCollapse+"')";};$1u.className=this.cssOnly?this.$4I('_tree_image_collapse'):this.$4I('tree_image_collapse');}else{if(this.treeImageExpand&&!this.cssOnly){$1u.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1u.className=this.cssOnly?this.$4I('_tree_image_expand'):this.$4I('tree_image_expand');};$1u.style.cursor='pointer';$1u.index=i;$1u.onclick=function(ev){$b.$65(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if(this.treeImageNoChildren&&!this.cssOnly){$1u.style.backgroundImage="url('"+this.treeImageNoChildren+"')";};$1u.className=this.cssOnly?this.$4I('_tree_image_no_children'):this.$4I('tree_image_no_children');};$B.appendChild($1u);};var $1v=document.createElement("div");if(this.treeEnabled){$1v.style.marginLeft=(($q.Level+1)*this.treeIndent)+'px';}else{$1v.style.marginLeft="4px";};$1v.innerHTML=$q.InnerHTML;$B.appendChild($1v);c.appendChild($A);if($q.areas){for(var j=0;j<$q.areas.length;j++){var $0D=$q.areas[j];if($0D.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$q,$0D);$A.appendChild(a);}};if(!$q.Columns||$q.Columns.length===0){c.colSpan=$0K>0?$0K:1;$A.style.width=$1m+"px";}else{for(var j=1;j<$0K;j++){var c=r.insertCell(-1);c.row=$q;c.index=i;if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4I('rowheader');};c.setAttribute('resource',$q.Value);c.onmousemove=$b.$60;c.onmouseout=$b.$61;c.oncontextmenu=$b.$62;c.onclick=$b.$63;var $A=document.createElement("div");var w=this.cssOnly?$1s[j]:$1s[j]-1;if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.width=w+"px";$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.setAttribute("unselectable","on");if(this.cssOnly){DayPilot.Util.addClass($A,this.$4I("_rowheader"));DayPilot.Util.addClass($A,this.$4I("_rowheadercol"));DayPilot.Util.addClass($A,this.$4I("_rowheadercol"+j));};if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4I("_rowheader_inner");};$A.appendChild($B);var $1t=document.createElement("div");$1t.style.position="absolute";$1t.style.bottom="0px";$1t.style.width=($1s[j]-1)+"px";$1t.style.height="1px";$1t.className=this.$4I("_resourcedivider");if(!this.cssOnly){$1t.style.backgroundColor=this.borderColor;};$A.appendChild($1t);var $1v=document.createElement("div");if(!this.cssOnly){$1v.style.marginLeft='4px';};var $1w=$q.Columns[j-1]?$q.Columns[j-1].html:"";$1v.innerHTML=$1w;$B.appendChild($1v);c.appendChild($A);}}};var r=$1n.insertRow(-1);var c=r.insertCell(-1);c.colSpan=$0K+1;c.style.width=$1m+"px";c.style.height=(parent.clientHeight+20)+"px";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;c.style.cursor='default';};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4I('rowheader');c.style.fontSize="1px";c.innerHTML="&nbsp;";};if(this.cssOnly){var $A=document.createElement("div");$A.style.position="relative";$A.style.height="100%";$A.className=this.$4I('_rowheader');c.appendChild($A);};parent.appendChild($1n);if(this.rowHeaderWidthAutoFit){this.$5W();}};this.$62=function(){var $q=this.row;var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=this.index;r.root=$b;r.toJSON=function($1x){var $0B={};$0B.start=this.start;$0B.name=this.name;$0B.value=this.value;$0B.index=this.index;return $0B;};if($q.contextMenu){$q.contextMenu.show(r);};return false;};this.$63=function(ev){var $q=this.row;var r=$b.$66($q,this.index);$b.$5w(r);};this.$67=function(ev){var $N=this.cell;$N.start=this.cell.start;$N.level=this.cell.level;if(!$N.end){$N.end=new DayPilot.Date($N.start).addMinutes($b.cellDuration);};$b.$5x($N);};this.$66=function($q,$0U){var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=$0U;r.root=$b;r.toJSON=function($1x){var $0B={};$0B.start=this.start;$0B.name=this.name;$0B.value=this.value;$0B.id=this.id;$0B.index=this.index;return $0B;};return r;};this.$4m=function($0i,$1y){var $1z=[];var $0Z=null;if($0i&&$1y){var $1A=$0i;var $0Z=[];for(var i=0;i<$1A.length;i++){var e=$1A[i];var $W=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.id===e.id){this.events.list[j]=e;$W=true;break;}};if(!$W){$0Z.push(e);}};this.events.list=this.events.list.concat($0Z);}else if($0i){this.events.list=$0i;}else if(!this.events.list){this.events.list=[];};var $0l=$0Z||this.events.list;var $1B=$0l.length;if(typeof this.onBeforeEventRender==='function'){var $I=$0Z?this.events.list.length-$0Z.length:0;var end=this.events.list.length;for(var i=$I;i<end;i++){this.$5P(i);}};var $h=[];for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$0Z||typeof $q.events==="undefined"){$q.events=[];};$q.data={};$q.data.start=new DayPilot.Date($q.Start);$q.data.startTicks=$q.data.start.getTime();$q.data.end=$0f.isResourcesView()?$q.data.start.addDays(this.days):$q.data.start.addDays(1);$q.data.endTicks=$q.data.end.getTime();$q.data.offset=$q.Start.getTime()-this.startDate.getTime();$q.data.i=i;if(this.$5S(i)){continue;};for(var j=0;$0l&&j<$1B;j++){if($1z[j]){continue;};var e=$0l[j];var ep=this.$5O(e,$q);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.cache.events[j+$I];};$h.push(i);if(ep.part.start.getTime()===ep.start().getTime()&&ep.part.end.getTime()===ep.end().getTime()){$1z[j]=true;}}};for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];this.$68($q);};this.$59();return DayPilot.ua($h);};this.$5P=function(i){var $T=this.cache.events;var $j=this.events.list[i];var $1C={};for(var name in $j){$1C[name]=$j[name];};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.e=$1C;this.onBeforeEventRender($n);};$T[i]=$1C;};this.$68=function($q){$q.lines=[];if(this.sortDirections){$q.events.sort(this.eventComparerCustom);}else{$q.events.sort(this.eventComparer);};for(var j=0;j<$q.events.length;j++){var e=$q.events[j];$q.putIntoLine(e);}};this.$58=function($0h){$0h=DayPilot.ua($0h);for(var i=0;i<$0h.length;i++){var ri=$0h[i];$b.$68($b.rows[ri]);}};this.$5O=function(e,$q){var $I=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);var $1D=$I.getTime();var $1E=end.getTime();if($1E<$1D){return null;};var $1F=false;switch(this.viewType){case 'Days':$1F=!($1E<=$q.data.startTicks||$1D>=$q.data.endTicks)||($1D===$1E&&$1D===$q.data.startTicks);break;case 'Resources':$1F=($q.Value===e.resource||$q.Value==="*")&&(!($1E<=$q.data.startTicks||$1D>=$q.data.endTicks)||($1D===$1E&&$1D===$q.data.startTicks));break;case 'Gantt':$1F=($q.Value===e.id)&&!($1E<=$q.data.startTicks||$1D>=$q.data.endTicks);break;};if(!$1F){return null;};var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=$q.data.i;ep.part.start=$q.data.startTicks<$1D?ep.start():$q.data.start;ep.part.end=$q.data.endTicks>$1E?ep.end():$q.data.end;var $1G=this.getPixels(ep.part.start.addTime(-$q.data.offset));var $1H=this.getPixels(ep.part.end.addTime(-$q.data.offset));var $y=$1G.left;var $z=$1H.left;if($y===$z&&($1G.cut||$1H.cut)){return null;};ep.part.box=$0f.useBox($1E-$1D);if(ep.part.box){var $1I=$1H.boxRight;ep.part.left=Math.floor($y/this.cellWidth)*this.cellWidth;ep.part.width=Math.max(Math.ceil($1I/this.cellWidth)*this.cellWidth-ep.part.left,this.cellWidth);ep.part.barLeft=Math.max($y-ep.part.left,0);ep.part.barWidth=Math.max($z-$y,1);}else{ep.part.left=$y;ep.part.width=Math.max($z-$y-2,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($z-$y-1,1);};$q.events.push(ep);return ep;};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $1J=a.start().ticks-b.start().ticks;if($1J!==0){return $1J;};var $1K=b.end().ticks-a.end().ticks;return $1K;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.eventComparer(a,b);};var $c=0;var i=0;while($c===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$c=0;}else{$c=$b.stringComparer(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $c;};this.stringComparer=function(a,b,$1L){var $1M=($1L!=="desc");var $1N=$1M?-1:1;var $1O=-$1N;if(a===null&&b===null){return 0;};if(b===null){return $1O;};if(a===null){return $1N;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$1N:$1O;};this.$4l=function(){if(!this.cellConfig){return;};var $1P=this.cellConfig;if($1P.vertical){for(var x=0;x<$1P.x;x++){var $1Q=this.cellProperties[x+"_0"];for(var y=1;y<$1P.y;y++){this.cellProperties[x+"_"+y]=$1Q;}}};if($1P.horizontal){for(var y=0;y<$1P.y;y++){var $1Q=this.cellProperties["0_"+y];for(var x=1;x<$1P.x;x++){this.cellProperties[x+"_"+y]=$1Q;}}};if($1P["default"]){var $1Q=$1P["default"];for(var y=0;y<$1P.y;y++){for(var x=0;x<$1P.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$1Q;}}}}};this.$4k=function(){this.rows=[];this.hasChildren=false;var $0U={};$0U.i=0;this.$69(this.resources,$0U,0,null,this.treeEnabled,false);};this.$69=function($1R,$0U,$1S,parent,$1T,$1U){if(!$1R){return;};for(var i=0;i<$1R.length;i++){var $1V={};$1V.level=$1S;$1V.hidden=$1U;$1V.index=$0U.i;var $0E=this.$6a($1R[i],$1V);var $q={};$q.BackColor=$0E.backColor;$q.CssClass=$0E.cssClass;$q.Expanded=$0E.expanded;$q.Name=$0E.name;$q.InnerHTML=$0E.html?$0E.html:$q.Name;$q.MinHeight=typeof $0E.minHeight!=='undefined'?$0E.minHeight:$b.rowMinHeight;$q.MarginBottom=typeof $0E.marginBottom!=='undefined'?$0E.marginBottom:$b.rowMarginBottom;$q.Loaded=!$0E.dynamicChildren;$q.Value=$0E.id||$0E.value;$q.ToolTip=$0E.toolTip;$q.Children=[];$q.Columns=[];$q.Start=$0E.start?new DayPilot.Date($0E.start):this.startDate;$q.IsParent=$0E.isParent;$q.contextMenu=$0E.contextMenu?eval($0E.contextMenu):this.contextMenuResource;$q.areas=$0E.areas;$q.Height=this.eventHeight;$q.Hidden=$1U;$q.Level=$1S;$q.Index=$0U.i;$q.Resource=$1R[i];$q.lines=[];$q.isRow=true;$q.height=function(){var $1W=Math.max(1,this.lines.length);var $D=$1W*$b.eventHeight+this.MarginBottom;return($D>this.MinHeight)?$D:this.MinHeight;};$q.putIntoLine=function(ep){var $1X=this;for(var i=0;i<this.lines.length;i++){var $O=this.lines[i];if($O.isFree(ep.part.left,ep.part.width)){$O.push(ep);return i;}};var $O=[];$O.isFree=function($1Y,$1Z){var end=$1Y+$1Z-1;var $1f=this.length;for(var i=0;i<$1f;i++){var e=this[i];if(!(end<e.part.left||$1Y>e.part.left+e.part.width-1)){return false;}};return true;};$O.push(ep);this.lines.push($O);return this.lines.length-1;};this.rows.push($q);if(parent!==null){parent.Children.push($0U.i);};if($0E.columns){for(var j=0;j<$0E.columns.length;j++){$q.Columns.push($0E.columns[j]);}};$0U.i++;if($1T&&$0E.children&&$0E.children.length){this.hasChildren=true;var $20=$1U||!$q.Expanded;this.$69($0E.children,$0U,$1S+1,$q,true,$20);}}};this.$6a=function($0E,$1V){var r={};for(var name in $0E){r[name]=$0E[name];};if(typeof $0E.html==='undefined'){r.html=$0E.name;};for(var name in $1V){r[name]=$1V[name];};if(typeof this.onBeforeResHeaderRender==='function'){var $n={};$n.resource=r;this.onBeforeResHeaderRender($n);};return r;};this.$6b=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML="";if(!this.cssOnly){this.nav.top.style.border="1px solid "+this.borderColor;}else{DayPilot.Util.addClass(this.nav.top,this.$4I("_main"));};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;}};this.nav.top.ontouchstart=$03.onMainTouchStart;this.nav.top.ontouchmove=$03.onMainTouchMove;this.nav.top.ontouchend=$03.onMainTouchEnd;if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};var $21=this.$4H();var $22=this.$6c.layout();if($22==='DivBased'){var $y=document.createElement("div");$y.style.cssFloat="left";$y.style.styleFloat="left";$y.style.width=($21)+"px";$y.appendChild(this.$6d());var $23=document.createElement("div");$23.style.height="1px";$23.className=this.$4I("_divider_horizontal");if(!this.cssOnly){$23.style.backgroundColor=this.borderColor;};$y.appendChild($23);this.nav.dh1=$23;$y.appendChild(this.$6e());this.nav.left=$y;var $24=document.createElement("div");$24.style.cssFloat="left";$24.style.styleFloat="left";$24.style.width="1px";$24.style.height=(this.$4G()+this.$4K())+"px";$24.className=this.$4I("_divider");if(!this.cssOnly){$24.style.backgroundColor=this.borderColor;};this.nav.divider=$24;var $z=document.createElement("div");$z.style.marginLeft=($21+1)+"px";$z.style.marginRight='1px';$z.style.position='relative';$z.appendChild(this.$6f());this.nav.right=$z;var $25=document.createElement("div");$25.style.height="1px";$25.style.position="absolute";$25.style.top=this.$4G()+"px";$25.style.width="100%";$25.className=this.$4I("_divider_horizontal");if(!this.cssOnly){$25.style.backgroundColor=this.borderColor;};$z.appendChild($25);this.nav.dh2=$25;$z.appendChild(this.$6g());var $26=document.createElement("div");$26.style.clear='left';this.nav.top.appendChild($y);this.nav.top.appendChild($24);this.nav.top.appendChild($z);this.nav.top.appendChild($26);}else{var $1n=document.createElement("table");$1n.cellPadding=0;$1n.cellSpacing=0;$1n.border=0;$1n.style.position='absolute';if(!this.cssOnly){$1n.style.backgroundColor=this.hourNameBackColor;};var $27=$1n.insertRow(-1);var $28=$27.insertCell(-1);$28.appendChild(this.$6d());var $29=$27.insertCell(-1);$29.appendChild(this.$6f());var $2a=$1n.insertRow(-1);var $2b=$2a.insertCell(-1);$2b.appendChild(this.$6e());var $2c=$2a.insertCell(-1);$2c.appendChild(this.$6g());this.nav.top.appendChild($1n);};this.vsph=document.createElement("div");this.vsph.style.display="none";this.nav.top.appendChild(this.vsph);var $2d=document.createElement("input");$2d.type="hidden";$2d.id=this.id+"_state";$2d.name=this.id+"_state";this.nav.state=$2d;this.nav.top.appendChild($2d);var loading=document.createElement("div");loading.style.position='absolute';loading.style.left=(this.$4H()+5)+"px";loading.style.top=(this.$4G()+5)+"px";loading.style.display='none';if(!this.cssOnly){loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';};loading.innerHTML=this.loadingLabelText;DayPilot.Util.addClass(loading,this.$4I("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);};this.$4s=function(){var $D=this.$4G();this.nav.corner.style.height=($D)+"px";this.divTimeScroll.style.height=$D+"px";this.divNorth.style.height=$D+"px";if(this.nav.dh1&&this.nav.dh2){this.nav.dh1.style.top=$D+"px";this.nav.dh2.style.top=$D+"px";};this.nav.loading.style.top=($D+5)+"px";this.nav.scroll.style.top=($D+1)+"px";};this.$5X=function(){this.$5V();var $P=this.$4H();var $F=$P;this.nav.corner.style.width=$P+"px";this.divCorner.style.width=$P+"px";this.divResScroll.style.width=$P+"px";this.nav.left.style.width=($P)+"px";this.nav.right.style.marginLeft=($P+1)+"px";if(this.nav.message){this.nav.message.style.paddingLeft=$P+"px";};if(this.nav.loading){this.nav.loading.style.left=($P+5)+"px";};var $2e=function($B,$P){if(!$B||!$B.style){return;};$N.style.width=$P+"px";$B.style.width=$P+"px";var $24=$B.lastChild;if($24){$24.style.width=$P+"px";}};var $1n=this.divHeader;$1n.style.width=$P+"px";for(var i=0;i<$1n.rows.length;i++){var $N=$1n.rows[i].cells[0];if($N.colSpan>1){var $B=$1n.rows[i].cells[0].firstChild;$2e($B,$F);}else{if(this.rowHeaderCols){for(var j=0;j<$1n.rows[i].cells.length;j++){var $P=this.rowHeaderCols[j];var $B=$1n.rows[i].cells[j].firstChild;$2e($B,$P);}}else{var $P=this.rowHeaderWidth;var $B=$1n.rows[i].cells[0].firstChild;$2e($B,$P);}}};this.$5Y();};this.$6h=function(){var $A=$b.nav.corner;var $2f=this.rowHeaderColumns;var $q=document.createElement("div");$q.style.position="absolute";$q.style.bottom="0px";$q.style.left="0px";$q.style.width="5000px";$q.style.height=this.headerHeight+"px";$q.style.overflow="hidden";$q.className=this.$4I("_columnheader");$A.appendChild($q);var $B=document.createElement("div");$B.style.position="absolute";$B.style.top="0px";$B.style.bottom="0px";$B.style.left="0px";$B.style.right="0px";$B.className=this.$4I("_columnheader_inner");$q.appendChild($B);var $2g=new DayPilot.Splitter($B);$2g.widths=DayPilot.Util.propArray($2f,"width");$2g.css.title=this.$4I("_columnheader_cell");$2g.css.titleInner=this.$4I("_columnheader_cell_inner");$2g.css.splitter=this.$4I("_columnheader_splitter");$2g.titles=DayPilot.Util.propArray($2f,"title");$2g.updating=function($n){DayPilot.Util.updatePropsFromArray($b.rowHeaderColumns,"width",this.widths);$b.$5X();};$2g.color='#000000';$2g.opacity=30;$2g.init();};this.$6d=function(){var $21=this.$4H();var $A=document.createElement("div");$b.nav.corner=$A;$A.style.width=$21+"px";$A.style.height=(this.$4G())+"px";if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;$A.style.fontFamily=this.hourFontFamily;$A.style.fontSize=this.hourFontSize;$A.style.cursor='default';};$A.style.overflow='hidden';$A.style.position='relative';$A.className=this.cssOnly?this.$4I('_corner'):this.$4I('corner');$A.setAttribute("unselectable","on");$A.onmousemove=function(){$b.$5Y();$b.$5Z();};$A.oncontextmenu=function(){return false;};var $B=document.createElement("div");$B.style.position="absolute";$B.style.top="0px";$B.style.left="0px";$B.style.right="0px";$B.style.bottom="0px";if(this.cssOnly){$B.className=this.$4I('_corner_inner');};this.divCorner=$B;$B.innerHTML='&nbsp;';if(this.rowHeaderColumns&&this.rowHeaderColumns.length>0){this.$6h();var $2h=document.createElement("div");$2h.style.position="absolute";$2h.style.top="0px";$2h.style.left="0px";$2h.style.right="0px";$2h.style.bottom=(this.headerHeight+1)+"px";$A.appendChild($2h);var $24=document.createElement("div");$24.style.position="absolute";$24.style.left="0px";$24.style.right="0px";$24.style.height="1px";$24.style.bottom=(this.headerHeight)+"px";$24.className=this.$4I("_divider");$A.appendChild($24);$2h.appendChild($B);}else{$A.appendChild($B);};var $2i=document.createElement("div");$2i.style.position='absolute';$2i.style.padding='2px';$2i.style.top='0px';$2i.style.left='1px';$2i.style.backgroundColor="#FF6600";$2i.style.color="white";$2i.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$A.appendChild($2i);return $A;};this.$4G=function(){if(this.timeHeader){var $2j=this.timeHeader.length;if(!this.showBaseTimeHeader){$2j-=1;};return $2j*this.headerHeight;};return 2*this.headerHeight;};this.$6e=function(){var $A=document.createElement("div");if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.width=(this.$4H())+"px";$A.style.height=this.$4K()+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.onmousemove=function(){$b.$5Y();$b.$5Z();};$A.oncontextmenu=function(){return false;};this.divResScroll=$A;this.scrollRes=$A;return $A;};this.$6i=function($A){if($0f.layout()==='TableBased'){var $P=parseInt(this.width,10);var $2k=(this.width.indexOf("%")!==-1);var $2l=/MSIE/i.test(navigator.userAgent);var $21=this.$4H();if($2k){if(this.nav.top&&this.nav.top.offsetWidth>0){$A.style.width=(this.nav.top.offsetWidth-6-$21)+"px";}}else{$A.style.width=($P-$21)+"px";}}};this.resize=function(){if($b.$6c.layout()==='TableBased'){$b.$6i($b.nav.scroll);$b.$6i($b.divTimeScroll);};$b.$4t();if($b.cellWidthSpec==='Auto'){$b.$4j();$b.$4o();$b.$4x();}};this.$4j=function(){if(this.cellWidthSpec!=='Auto'){return;};var $F=this.nav.top.clientWidth;var $2m=this.$4H();var $0o=$F-$2m;var $N=$0o/this.$4F();this.cellWidth=Math.floor($N);};this.$6f=function(){var $A=document.createElement("div");$A.style.overflow='hidden';if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.position='absolute';$A.style.display='block';$A.style.top="0px";$A.style.width="100%";$A.style.height=this.$4G()+"px";$A.style.overflow="hidden";$A.onmousemove=function(){$b.$5Y();$b.$5Z();if($b.cellBubble){$b.cellBubble.delayedHide();}};this.$6i($A);this.divTimeScroll=$A;var $B=document.createElement("div");$B.style.width=(this.$4F()*this.cellWidth+5000)+"px";this.divNorth=$B;$A.appendChild($B);return $A;};this.$4K=function(){var $D;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{if(this.innerHeightTree){var $2n=DayPilot.sh($b.nav.scroll);if($2n===0){$D=this.innerHeightTree;}else{$D=this.innerHeightTree+$2n;}}else{$D=this.rows.length*this.eventHeight;}};if(this.heightSpec==='Max'&&$D>this.height){return this.height;};return $D;};this.$6j=function(){this.$5Y();this.$5Z();};this.$6g=function(){var $A=document.createElement("div");$A.style.overflow="auto";$A.style.overflowX="auto";$A.style.overflowY="auto";$A.style.position="absolute";$A.style.height=(this.$4K())+"px";$A.style.top=(this.$4G()+1)+"px";$A.style.width="100%";if(!this.cssOnly){$A.style.backgroundColor=this.emptyBackColor;};$A.className=this.$4I("_scrollable");$A.oncontextmenu=function(){return false;};this.$6i($A);this.nav.scroll=$A;this.maind=document.createElement("div");this.maind.style.MozUserSelect="none";this.maind.style.KhtmlUserSelect="none";this.maind.style.WebkitUserSelect="none";this.maind.style.position='absolute';this.maind.style.width=(this.$4F()*this.cellWidth)+"px";this.maind.setAttribute("unselectable","on");this.maind.onmousedown=this.$6k;this.maind.onmousemove=this.$6l;this.maind.oncontextmenu=this.$6m;this.maind.ondblclick=this.$6n;this.maind.className=this.$4I("_matrix");this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.maind.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$6m;this.maind.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$6m;this.maind.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$6m;this.maind.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$6m;this.maind.appendChild(this.divSeparators);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$6n;this.maind.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$6m;this.maind.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.maind.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$6m;this.maind.appendChild(this.divSeparatorsAbove);$A.appendChild(this.maind);return $A;};this.$5E=function(){if(this.loadingLabelVisible){$b.nav.loading.innerHTML=this.loadingLabelText;$b.nav.loading.style.display='';}};this.$4f=function($0Y){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if($0Y){this.nav.loading.innerHTML=$0Y;window.setTimeout(function(){$b.$4f();},1000);}else{this.nav.loading.style.display='none';}};this.$6o=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$4D=function($2o){if($2o){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$5D();var $2p=this.autoRefreshInterval;if(!$2p||$2p<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$6p();},this.autoRefreshInterval*1000);};this.$5D=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$6p=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){var $2q=false;if(typeof this.onAutoRefresh==='function'){var $n={};$n.i=this.autoRefreshCount;$n.preventDefault=function(){this.preventDefault.value=true;};$b.onAutoRefresh($n);if($n.preventDefault.value){$2q=true;}};if(!$2q){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$6p();},this.autoRefreshInterval*1000);}};this.$6q=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.re(window,'unload',DayPilotScheduler.gUnload);};DayPilot.re(window,'resize',this.resize);};this.$6r=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$6s;$b.scrollPos=this.nav.scroll.scrollLeft;$b.scrollTop=this.nav.scroll.scrollTop;$b.scrollWidth=this.divNorth.clientWidth;};this.$4C=function(){var $I=new Date();var $2r={};$2r.scrollX=this.nav.scroll.scrollLeft;$2r.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$2r.tree=this.$5G();};this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify($2r));var end=new Date();};this.$4y=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$6t(i);}};this.batch={};this.batch.step=300;this.batch.delay=10;this.batch.mode="display";this.batch.layers=true;this.$4z=function($0r){var $2s=this.batch.step;var $2t=this.batch.layers;if($2t){$b.divEvents=document.createElement("div");$b.divEvents.style.position='absolute';$b.maind.appendChild(this.divEvents);}else{};if(this.batch.mode==='display'){this.divEvents.style.display='none';}else if(this.batch.mode==='visibility'){this.divEvents.style.visibility='hidden';};var $2u=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $0T=top+this.nav.scroll.clientHeight;if(this.clientSide){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2v=$q.Top-this.dynamicEventRenderingMargin;var $2w=$2v+$q.Height+2*this.dynamicEventRenderingMargin;if($2u&&($0T<=$2v||top>=$2w)){continue;};for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];if(!e.part.top){e.part.line=j;e.part.top=j*this.eventHeight;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;};var $2x=this.$6u(e);if($0r&&$2x){$2s--;if($2s<=0){this.divEvents.style.visibility='';this.divEvents.style.display='';window.setTimeout(function(){$b.$4z($0r);},$b.batch.delay);return;}}}}}}else{var $2y=this.events.list.length;for(var i=0;i<$2y;i++){this.$6u(this.events.list[i]);}};this.divEvents.style.display='';this.$4f();};this.$5m=function($2z){var $q=this.rows[$2z];this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.divEvents.style.display='none';this.maind.appendChild(this.divEvents);for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];e.part.line=j;e.part.top=j*this.eventHeight;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;this.$6u(e);}};this.divEvents.style.display='';};this.$4v=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $A=this.elements.events[i];this.$6v($A);}};this.elements.events=[];};this.$5l=function($2z){if(this.elements.events){var length=this.elements.events.length;var $2A=[];for(var i=0;i<length;i++){var $A=this.elements.events[i];if($A.row===$2z){this.$6v($A);$2A.push(i);}};for(var i=$2A.length-1;i>=0;i--){this.elements.events.splice($2A[i],1);}}};this.$6v=function($A){$A.onclick=null;$A.oncontextmenu=null;$A.onmouseover=null;$A.onmouseout=null;$A.onmousemove=null;$A.onmousedown=null;$A.ondblclick=null;$A.event.rendered=null;$A.event=null;if($A.parentNode){$A.parentNode.removeChild($A);}};this.$6w=function($2B){if(!$2B){$2B=0;};if(this.dynamicEventRendering!=='Progressive'){return;};this.divEvents.style.display='none';var $0q=[];var $2C=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $A=this.elements.events[i];if(this.$6x($A.event)){if($2B>0){$2B--;$0q.unshift($A);}else{this.$6v($A);$2C++;}}else{$0q.unshift($A);}};this.elements.events=$0q;this.divEvents.style.display='';};this.$4w=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $A=this.elements.separators[i];DayPilot.pu($A);$A.parentNode.removeChild($A);}};this.elements.separators=[];};this.$6y=function(){var $2u=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $0T=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2v=$q.Top;var $2w=$q.Top+$q.Height;if($2u&&($0T<=$2v||top>=$2w)){continue;};for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];if(this.$6z(e)){return true;}}}};return false;};this.$6z=function($j){if($j.rendered){return false;};var $2u=this.dynamicEventRendering==='Progressive';var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2D=$j.Left;var $2E=$j.Left+$j.Width;if($2u&&($z<=$2D||$y>=$2E)){return false;};return true;};this.$6x=function($j){if(!$j.rendered){return true;};var top=this.nav.scroll.scrollTop;var $0T=top+this.nav.scroll.clientHeight;var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2D=$j.Left;var $2E=$j.Right;var $2F=$j.FullTop;var $2G=$j.FullBottom;if($z<=$2D||$y>=$2E){return true;};if($0T<=$2F||top>=$2G){return true;};return false;};this.$6u=function($j){if($j.rendered){return false;};var $2u=this.dynamicEventRendering==='Progressive'&&!this.dynamicLoading;var $y=this.nav.scroll.scrollLeft-this.dynamicEventRenderingMargin;var $z=$y+this.nav.scroll.clientWidth+2*this.dynamicEventRenderingMargin;var $2D=$j.part.left;var $2E=$j.part.left+$j.part.width;if($2u&&($z<=$2D||$y>=$2E)){return false;};var $2z=$j.part.dayIndex;var $2H=!this.cssOnly&&this.eventBorderVisible;var $P=$j.part.width;var $D=$j.part.height;if($2H){$P-=2;$D-=2;};var $T=$j.cache||$j.data;$P=Math.max(0,$P);$D=Math.max(0,$D);var $q=this.rows[$2z];if($q.Hidden){return false;};var $2v=$q.Top;var $A=document.createElement("div");$A.style.position='absolute';$A.style.left=$j.part.left+'px';$A.style.top=($2v+$j.part.top)+'px';$A.style.width=$P+'px';$A.style.height=$D+'px';if(!this.cssOnly){if($b.eventBorderVisible){$A.style.border='1px solid '+($T.borderColor||this.eventBorderColor);};$A.style.backgroundColor=$j.client.backColor();$A.style.fontSize=this.eventFontSize;$A.style.cursor='default';$A.style.fontFamily=this.eventFontFamily;$A.style.color=$T.fontColor||this.eventFontColor;if($T.backImage&&!this.durationBarVisible){$A.style.backgroundImage="url("+$T.backImage+")";if($T.backRepeat){$A.style.backgroundRepeat=$T.backRepeat;}};if(this.$6c.rounded()){$A.style.MozBorderRadius="5px";$A.style.webkitBorderRadius="5px";$A.style.borderRadius="5px";}};$A.style.whiteSpace='nowrap';$A.style.overflow='hidden';$A.className=this.cssOnly?this.$4I("_event"):this.$4I("event");if($T.cssClass){DayPilot.Util.addClass($A,$T.cssClass);};var $2I=true;if($2I){DayPilot.Util.addClass($A,this.$4I("_event_line"+$j.part.line));};$A.setAttribute("unselectable","on");if(this.showToolTip){$A.title=$j.client.toolTip();};$A.onmousemove=this.$6A;$A.onmouseout=this.$6B;$A.onmousedown=this.$6C;$A.ontouchstart=$03.onEventTouchStart;$A.ontouchmove=$03.onEventTouchMove;$A.ontouchend=$03.onEventTouchEnd;if($j.client.clickEnabled()){$A.onclick=this.$4R;};if($j.client.doubleClickEnabled()){$A.ondblclick=this.$51;};$A.oncontextmenu=this.$50;var $2J=[];var $2K=0;if(this.cssOnly){var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=$b.$4I("_event_inner");$B.innerHTML=$j.client.innerHTML();if($T.backColor){$B.style.backgroundColor=$T.backColor;};if($T.borderColor){$B.style.borderColor=$T.borderColor;};if($T.backImage){$B.style.backgroundImage="url("+$T.backImage+")";if($T.backRepeat){$B.style.backgroundRepeat=$T.backRepeat;}};$A.appendChild($B);var $2L=$j.start().getTime()===$j.part.start.getTime();var $2M=$j.end().getTime()===$j.part.end.getTime();if(!$2L){DayPilot.Util.addClass($A,this.$4I("_event_continueleft"));};if(!$2M){DayPilot.Util.addClass($A,this.$4I("_event_continueright"));};if($j.client.barVisible()){var $2N=100*$j.part.barLeft/($P);var $2O=Math.ceil(100*$j.part.barWidth/($P));if(this.durationBarMode==="PercentComplete"){$2N=0;$2O=$T.complete;};var $2P=document.createElement("div");$2P.setAttribute("unselectable","on");$2P.className=this.$4I("_event_bar");$2P.style.position="absolute";var $2Q=document.createElement("div");$2Q.setAttribute("unselectable","on");$2Q.className=this.$4I("_event_bar_inner");$2Q.style.left=$2N+"%";if(0<$2O&&$2O<=1){$2Q.style.width="1px";}else{$2Q.style.width=$2O+"%";};if($T.barColor){$2Q.style.backgroundColor=$T.barColor;};$2P.appendChild($2Q);$A.appendChild($2P);}}else{if($j.client.barVisible()){$2K=$b.durationBarHeight;$2J.push("<div unselectable='on' style='left:0px;background-color:white;width:");$2J.push($j.part.barLeft);$2J.push("px;height:2px;font-size:1px;position:absolute'></div>");$2J.push("<div unselectable='on' style='left:");$2J.push($j.part.barLeft+$j.part.barWidth);$2J.push("px;background-color:white;width:");$2J.push($P-($j.part.barLeft+$j.part.barWidth));$2J.push("px;height:2px;font-size:1px;position:absolute'></div>");if(this.durationBarMode==="Duration"){$2J.push("<div unselectable='on' style='width:");$2J.push($j.part.barWidth);$2J.push("px;margin-left:");$2J.push($j.part.barLeft);$2J.push("px;height:");}else{$2J.push("<div unselectable='on' style='width:");$2J.push($T.complete);$2J.push("%;margin-left:0px;height:");};$2J.push($2K-1);$2J.push("px;background-color:");$2J.push($j.client.barColor());if($T.barImageUrl){$2J.push(";background-image:url(");$2J.push($T.barImageUrl);$2J.push(")");};$2J.push(";font-size:1px;position:relative'></div>");$2J.push("<div unselectable='on' style='width:");$2J.push($P);$2J.push("px;height:1px;background-color:");$2J.push(($T.borderColor||this.eventBorderColor));$2J.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$2J.push("<div unselectable='on' style='padding-left:1px;width:");$2J.push($P-1);$2J.push("px;height:");$2J.push($D-$2K);$2J.push("px;");if($b.rtl){$2J.push("direction:rtl;");};if($T.backImage&&this.durationBarVisible){$2J.push("background-image:url(");$2J.push($T.backImage);$2J.push(");");if($T.backRepeat){$2J.push("background-repeat:");$2J.push($T.backRepeat);$2J.push(";");}};$2J.push("'>");$2J.push($j.client.innerHTML());$2J.push("</div>");$A.innerHTML=$2J.join('');};$A.row=$2z;if($T.areas){for(var i=0;i<$T.areas.length;i++){var $0D=$T.areas[i];if($0D.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$j,$0D);$A.appendChild(a);}};this.elements.events.push($A);this.divEvents.appendChild($A);$j.rendered=true;$A.event=$j;if($b.multiselect.$5d($A.event)){$b.multiselect.add($A.event,true);$b.multiselect.$5c($A);};if($b.$4E()){if(typeof $b.onAfterEventRender==='function'){var $n={};$n.e=$A.event;$n.div=$A;$b.onAfterEventRender($n);}}else{if($b.afterEventRender){$b.afterEventRender($A.event,$A);}};return true;};this.$4E=function(){return $b.api===2;};this.$5n=function(){for(var i=0;i<this.elements.events.length;i++){var $A=this.elements.events[i];var event=$A.event;var $2z=event.part.dayIndex;var $q=this.rows[$2z];var $2v=$q.Top;$A.style.top=($2v+event.part.top)+'px';}};this.$6D=function(e){for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if($A.event===e){return $A;}};return null;};this.$6B=function(ev){var $A=this;DayPilot.Areas.hideAreas($A,ev);if($b.cssOnly){DayPilot.Util.removeClass($A,$b.$4I("_event_hover"));};if($b.bubble&&$b.eventHoverHandling==='Bubble'){$b.bubble.hideOnMouseOut();}};this.$6A=function(ev){ev=ev||window.event;if($b.cellBubble){$b.cellBubble.delayedHide();};var $A=this;while($A&&!$A.event){$A=$A.parentNode;};$b.$6E($A,ev);if(!$A.active){DayPilot.Areas.showAreas($A,$A.event);if($b.cssOnly){DayPilot.Util.addClass($A,$b.$4I("_event_hover"));}};if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.$6C=function(ev){$b.$5Y();$b.$5Z();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();};ev=ev||window.event;var $2R=ev.which||ev.button;if((this.style.cursor==='w-resize'||this.style.cursor==='e-resize')&&$2R===1){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);document.body.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$2R===1){DayPilotScheduler.moving=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,ev).x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);document.body.style.cursor='move';};ev.cancelBubble=true;return false;};this.$6F={};var $03=$b.$6F;$03.active=false;$03.start=false;$03.timeouts=[];$03.onEventTouchStart=function(ev){if($03.active||$03.start){return;};$03.clearTimeouts();$03.start=true;$03.active=false;var $A=this;var $2S=500;$03.timeouts.push(window.setTimeout(function(){$03.active=true;$03.start=false;$b.coords=$03.relativeCoords(ev);$03.startMoving($A,ev);ev.preventDefault();},$2S));ev.stopPropagation();};$03.onEventTouchMove=function(ev){$03.clearTimeouts();$03.start=false;};$03.onEventTouchEnd=function(ev){$03.clearTimeouts();if($03.start){$b.$4V(this,false);};window.setTimeout(function(){$03.start=false;$03.active=false;},500);};$03.onMainTouchStart=function(ev){if($03.active||$03.start){return;};$03.clearTimeouts();$03.start=true;$03.active=false;var $2S=500;$03.timeouts.push(window.setTimeout(function(){$03.active=true;$03.start=false;ev.preventDefault();$b.coords=$03.relativeCoords(ev);$03.range=$b.$6G();},$2S));};$03.onMainTouchMove=function(ev){$03.clearTimeouts();$03.start=false;if($03.active){ev.preventDefault();$b.coords=$03.relativeCoords(ev);if(DayPilotScheduler.moving){$03.updateMoving();return;};if($03.range){var $0w=$03.range;$0w.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6H($0w);}}};$03.onMainTouchEnd=function(ev){$03.clearTimeouts();if($03.active){if(DayPilotScheduler.moving){ev.preventDefault();var e=DayPilotScheduler.moving.event;var $0a=DayPilotScheduler.movingShadow.start;var $0b=DayPilotScheduler.movingShadow.end;var $0d=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;$b.$5o(e,$0a,$0b,$0d,external);};if($03.range){var $2T=$b.$6I($03.range);$03.range=null;$b.$5s($2T.start,$2T.end,$2T.resource);}};window.setTimeout(function(){$03.start=false;$03.active=false;},500);};$03.clearTimeouts=function(){for(var i=0;i<$03.timeouts.length;i++){clearTimeout($03.timeouts[i]);};$03.timeouts=[];};$03.relativeCoords=function(ev){var $2U=$b.maind;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2V=DayPilot.abs($2U);var $0P={x:x-$2V.x,y:y-$2V.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $0P;};$03.startMoving=function($A,ev){var $0P={x:ev.touches[0].pageX,y:ev.touches[0].pageY};DayPilotScheduler.moving=$A;DayPilotScheduler.originalMouse=$0P;var $2W=DayPilot.abs($A);DayPilotScheduler.moveOffsetX=$0P.x-$2W.x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);DayPilotScheduler.movingShadow=$b.$5L($A,$b.shadow);$b.$5U();};$03.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5L(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$5U();};this.$6E=function($A,ev){var $2X=this.eventResizeMargin;var $2Y=this.eventMoveMargin;var $0N=$A;if(typeof(DayPilotScheduler)==='undefined'){return;};var $Z=DayPilot.mo3($A,ev);if(!$Z){return;};$b.eventOffset=$Z;if(DayPilotScheduler.resizing){return;};var $2Z=$A.getAttribute("dpStart")===$A.getAttribute("dpPartStart");var $30=$A.getAttribute("dpEnd")===$A.getAttribute("dpPartEnd");if($b.moveBy==='Top'&&$Z.y<=$2Y&&$0N.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($2Z){$A.style.cursor='move';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Top'&&$Z.x<=$2X&&$0N.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($2Z){$A.style.cursor="w-resize";$A.dpBorder='left';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Left'&&$Z.x<=$2Y&&$0N.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($2Z){$A.style.cursor="move";}else{$A.style.cursor='not-allowed';}}else if($A.offsetWidth-$Z.x<=$2X&&$0N.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($30){$A.style.cursor="e-resize";$A.dpBorder='right';}else{$A.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($0N.event.client.clickEnabled()&&$b.eventClickHandling!=='Disabled'){$A.style.cursor='pointer';}else{$A.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling==='Bubble'){if($A.style.cursor==='default'||$A.style.cursor==='pointer'){var $31=this.$6J&&$Z.x===this.$6J.x&&$Z.y===this.$6J.y;if(!$31){this.$6J=$Z;$b.bubble.showEvent($A.event);}}else{}}};this.$4F=function(){if(this.viewType!=='Days'){return this.timeline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$6I=function($0w){var $0w=$0w||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!$0w){return null;};var $q=$b.rows[$0w.start.y];if(!$q){return null;};var $0v=$q.Value;var $32=$0w.end.x>$0w.start.x?$0w.start.x:$0w.end.x;var $33=($0w.end.x>$0w.start.x?$0w.end.x:$0w.start.x);var $19=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[$32].start.addTime($19);var end=this.timeline[$33].end.addTime($19);return new DayPilot.Selection($I,end,$0v,$b);};this.$6K=function($0N){var $34=$0N.parentNode;var $35=document.createElement('textarea');$35.style.position='absolute';$35.style.width=(($0N.offsetWidth<100)?100:($0N.offsetWidth-2))+'px';$35.style.height=($0N.offsetHeight-2)+'px';$35.style.fontFamily=DayPilot.gs($0N,'fontFamily')||DayPilot.gs($0N,'font-family');$35.style.fontSize=DayPilot.gs($0N,'fontSize')||DayPilot.gs($0N,'font-size');$35.style.left=$0N.offsetLeft+'px';$35.style.top=$0N.offsetTop+'px';$35.style.border='1px solid black';$35.style.padding='0px';$35.style.marginTop='0px';$35.style.backgroundColor='white';$35.value=DayPilot.tr($0N.event.text());$35.event=$0N.event;$34.appendChild($35);return $35;};this.$4W=function($0N){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $35=this.$6K($0N);DayPilotScheduler.editing=$35;$35.onblur=function(){var $36=$0N.event.text();var $0x=$35.value;DayPilotScheduler.editing=null;if($35.parentNode){$35.parentNode.removeChild($35);};if($36===$0x){return;};$0N.style.display='none';$b.$5A($0N.event,$0x);};$35.onkeypress=function(e){var $37=(window.event)?event.keyCode:e.keyCode;if($37===13){this.onblur();return false;}else if($37===27){$35.parentNode.removeChild($35);DayPilotScheduler.editing=false;};return true;};$35.select();$35.focus();};this.$60=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'){if($b.cellBubble){$b.cellBubble.hideOnMouseOut();};if($b.resourceBubble){var $0E={};$0E.calendar=$b;$0E.id=td.getAttribute("resource");$0E.toJSON=function(){var $0B={};$0B.id=this.id;return $0B;};$b.resourceBubble.showResource($0E);}};var $A=td.firstChild;if(!$A.active){DayPilot.Areas.showAreas($A,$b.rows[td.index]);}};this.$61=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'&&$b.resourceBubble){$b.resourceBubble.hideOnMouseOut();};var $A=td.firstChild;DayPilot.Areas.hideAreas($A,ev);$A.data=null;};this.$4o=function(){var $1n=document.createElement("table");$1n.cellSpacing=0;$1n.cellPadding=0;if(!this.cssOnly){$1n.className=this.$4I("timeheader");};$1n.style.borderCollapse="collapse";if(!this.cssOnly){$1n.style.color=$b.headerFontColor;$1n.style.border="0px none";};for(var i=0;i<this.timeHeader.length-1;i++){var $27=$1n.insertRow(-1);this.$6L($27,i);};var $2a=$1n.insertRow(-1);this.$6M($2a);var $38=this.divNorth;DayPilot.puc($38);$38.innerHTML='';$38.appendChild($1n);$38.style.width=(this.$4F()*this.cellWidth+5000)+"px";var $39=this.divCorner;if(!this.cssOnly){$39.style.backgroundColor=this.cornerBackColor;};$39.innerHTML=this.cornerHTML;this.divStretch.style.width=(this.timeline.length*this.cellWidth)+"px";};this.$6L=function($q,$0U){if(this.timeHeader){if(this.timeHeader.length-1<=$0U){throw "Not enough timeHeader rows";};for(var i=0;i<this.timeHeader[$0U].length;i++){var $N=this.timeHeader[$0U][i];if(!$N.toolTip){$N.toolTip=$N.innerHTML;};if(!this.cssOnly){if(!$N.backColor){$N.backColor=this.hourNameBackColor;}};if(!$N.colspan){$N.colspan=Math.ceil($N.width/(1.0*this.cellWidth));};$N.level=$0U;this.$6N($q,$N);}}else{throw ".groupline is not used anymore";}};this.$4O=function($3a,$3b){var $t=null;var $3c=this.$6c.locale();var $3b=$3b||this.cellGroupBy;switch($3b){case 'Hour':$t=$3a.toString("H");break;case 'Day':$t=$3a.toString($3c.datePattern);break;case 'Week':$t=$0f.weekStarts()===1?$3a.weekNumberISO():$3a.weekNumber();break;case 'Month':$t=$3a.toString("MMMM yyyy",$3c);break;case 'Year':$t=$3a.toString("yyyy");break;case 'None':$t='';break;default:throw 'Invalid cellGroupBy value';};return $t;};this.$4M=function($I){var $11=this.cellDuration;if($11<60){return $I.toString("mm");}else if($11<1440){return DayPilot.Date.hours($I.d,$b.$6c.timeFormat()==='Clock12Hours');}else if($11<10080){return $I.toString("d");}else{return $I.weekNumberISO();}};this.$4N=function($3a,$3b){var $3d=this.viewType!=='Days'?this.days:1;var $Q=this.startDate.addDays($3d);var $3b=$3b||this.cellGroupBy;switch($3b){case 'Hour':to=$3a.addHours(1);break;case 'Day':to=$3a.addDays(1);break;case 'Week':to=$3a.addDays(1);while(to.dayOfWeek()!==$0f.weekStarts()){to=to.addDays(1);};break;case 'Month':to=$3a.addMonths(1);to=to.firstDayOfMonth();var $3e=(DayPilot.Date.diff(to.d,$3a.d)/(1000.0*60))%this.cellDuration===0;while(!$3e){to=to.addHours(1);$3e=(DayPilot.Date.diff(to.d,$3a.d)/(1000.0*60))%this.cellDuration===0;};break;case 'Year':to=$3a.addYears(1);to=to.firstDayOfYear();var $3e=(DayPilot.Date.diff(to.d,$3a.d)/(1000.0*60))%this.cellDuration===0;while(!$3e){to=to.addHours(1);$3e=(DayPilot.Date.diff(to.d,$3a.d)/(1000.0*60))%this.cellDuration===0;};break;case 'None':to=$Q;break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$Q.getTime()){to=$Q;};return to;};this.$6N=function($q,$N){var td=$q.insertCell(-1);td.colSpan=$N.colspan;td.setAttribute("unselectable","on");var $D=Math.max(0,this.headerHeight);if(!this.cssOnly){td.style.height=($D-1)+"px";td.style.textAlign="center";td.style.backgroundColor=$N.backColor;td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.border='0px none';td.style.borderBottom="1px solid "+this.borderColor;td.style.padding='0px';}else{td.style.height=($D)+"px";};td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';td.style.whiteSpace='nowrap';td.style.overflow='hidden';if($N.width){td.style.width=$N.width+"px";};if(!this.cssOnly){td.className=this.$4I('timeheadergroup');};td.oncontextmenu=function(){return false;};td.cell=$N;td.onclick=this.$67;var $3f=null;var $A=document.createElement("div");$A.setAttribute("unselectable","on");if(!this.cssOnly){$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=($N.width-1)+"px";$A.style.height=($D-1)+"px";$3f=$A;}else{$A.className=this.$4I('_timeheadergroup');if($N.backColor){$A.style.backgroundColor=$N.backColor;};$A.style.position="relative";if($N.width){$A.style.width=($N.width)+"px";};$A.style.height=($D)+"px";var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.$4I("_timeheadergroup_inner");$A.appendChild($B);$3f=$B;};$A.style.overflow='hidden';$A.title=$N.toolTip;$3f.innerHTML=$N.innerHTML;td.appendChild($A);};this.$6M=function($q){var $3g=this.$4F();var td=document.createElement("td");td.setAttribute("unselectable","on");if(!this.cssOnly){td.style.borderTop="0px none";td.style.borderBottom="0px none";td.style.borderLeft="0px none";td.style.borderRight="0px none";td.style.textAlign='center';td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.padding='0px';};td.style.width=this.cellWidth+"px";td.style.height=(this.headerHeight)+"px";td.style.overflow='hidden';td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';if(!this.cssOnly){td.className=this.$4I('timeheadercol');};var $A=document.createElement("div");$A.setAttribute("unselectable","on");$A.style.height=(this.headerHeight)+"px";$A.style.overflow='hidden';$A.style.position='relative';if(this.cssOnly){$A.style.width=(this.cellWidth)+"px";$A.className=this.$4I('_timeheadercol');}else{$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=(this.cellWidth-1)+"px";};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4I("_timeheadercol_inner");};$A.appendChild($B);td.appendChild($A);var $0U=this.timeHeader.length-1;for(var i=0;i<$3g;i++){var $N;if(this.timeHeader){$N=this.timeHeader[$0U][i];if(!$N.backColor){if(!this.cssOnly){$N.backColor=this.hourNameBackColor;}};if(!$N.toolTip){$N.toolTip=$N.innerHTML;}}else{var c=this.timeline[i];var $t=this.$6O(c.start);var $N={};$N.innerHTML=$t;$N.toolTip=$t;$N.start=c.start;$N.end=c.end;$N.type='Cell';$N.backColor=this.hourNameBackColor;var $3h=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($N):null;if($3h){$N=$3h;}};$N.level=$0U;var $3i=td.cloneNode(true);if(!this.cssOnly){$3i.style.backgroundColor=$N.backColor;}else{if($N.backColor){$3i.firstChild.style.backgroundColor=$N.backColor;}};$3i.firstChild.title=$N.toolTip;$3i.firstChild.firstChild.innerHTML=$N.innerHTML;$3i.oncontextmenu=function(){return false;};$3i.cell=$N;$3i.onclick=this.$67;$q.appendChild($3i);}};this.$6O=function($3a){var $t=null;if(this.cellDuration<60){$t=$3a.getMinutes();}else if(this.cellDuration<1440){$t=$3a.getHours();}else{$t=$3a.getDay();};return $t;};this.$59=function(){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $0q=$q.height()+$q.MarginBottom;if($q.Height!==$0q){this.rowsDirty=true;};$q.Height=$0q;}};this.$4r=function(){var $2m=this.divHeader;if(!$2m){return false;};var $0V=this.rows.length;var $0K=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$0V;i++){var $q=this.rows[i];if($q.Hidden){continue;};for(var c=0;c<$2m.rows[j].cells.length;c++){var $3j=$2m.rows[j].cells[c];var $3k=$q.Height;if($3j&&$3j.firstChild&&parseInt($3j.firstChild.style.height,10)!==$3k){$3j.firstChild.style.height=$3k+"px";}};j++;}};this.$6t=function($0U){var s=this.separators[$0U];var $0X=new DayPilot.Date(s.Location);var $3l=s.Color;var $P=s.Width?s.Width:1;var $3m=s.Layer?s.Layer==='AboveEvents':false;var $x=s.Opacity?s.Opacity:100;if($0X.getTime()<this.startDate.getTime()){return;};if($0X.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $p=this.getPixels($0X);if($p.cut){return;};if($p.left<0){return;};if($p.left>this.$4F()*this.cellWidth){return;};var $O=document.createElement("div");$O.style.width=$P+'px';$O.style.height=$b.innerHeightTree+'px';$O.style.position='absolute';$O.style.left=$p.left+'px';$O.style.top='0px';$O.style.backgroundColor=$3l;$O.style.opacity=$x/100;$O.style.filter="alpha(opacity="+$x+")";if($3m){this.divSeparatorsAbove.appendChild($O);}else{this.divSeparators.appendChild($O);};this.elements.separators.push($O);};this.$6n=function(ev){if($b.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};var $0w={};if(!$b.coords){var $2U=$b.maind;$b.coords=DayPilot.mo3($2U,ev);};ev=ev||window.event;if($b.$6P($b.coords)){var $2T=$b.$6I(DayPilotScheduler.rangeHold);$b.$5t($2T.start,$2T.end,$2T.resource);}else{DayPilotScheduler.range=$b.$6G();var $2T=$b.$6I(DayPilotScheduler.range);$b.$5t($2T.start,$2T.end,$2T.resource);};DayPilotScheduler.rangeHold=DayPilotScheduler.range;DayPilotScheduler.range=null;};this.$6k=function(ev){if($03.start){return;};if(DayPilotScheduler.timeRangeTimeout&&false){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};$b.$5Y();$b.$5Z();if(!$b.coords){var $2U=$b.maind;$b.coords=DayPilot.mo3($2U,ev);};ev=ev||window.event;var $2R=ev.which||ev.button;if($2R===2||($2R===3&&$b.$6P($b.coords))){return false;};if($b.timeRangeSelectedHandling==='Disabled'){return false;};DayPilotScheduler.range=$b.$6G();return false;};this.$6G=function(){var $0w={};$0w.start={y:$b.getRow($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0w.end={x:Math.floor($b.coords.x/$b.cellWidth)};if(this.$5S($b.getRow($b.coords.y).i)){return;};$0w.calendar=$b;$b.$6H($0w);return $0w;};this.$6l=function(ev){if($03.active){return;};DayPilotScheduler.activeCalendar=$b;ev=ev||window.event;var $3n=DayPilot.mc(ev);$b.coords=DayPilot.mo3($b.maind,ev);if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){DayPilotScheduler.resizingShadow=$b.$5L(DayPilotScheduler.resizing,$b.shadow);};var $3o=DayPilotScheduler.resizing.event.calendar.cellWidth;var $3p=DayPilotScheduler.resizing.event.part.width;var $3q=DayPilotScheduler.resizing.event.part.left;var $3r=0;var $3s=($3n.x-DayPilotScheduler.originalMouse.x);if(DayPilotScheduler.resizing.dpBorder==='right'){var $3t;if($b.snapToGrid){$3t=Math.ceil((($3p+$3q+$3s))/$3o)*$3o-$3q;}else{$3t=$3p+$3s;};if($3t<$3o){$3t=$3o;};var $1f=$b.maind.clientWidth;if($3q+$3t>$1f){$3t=$1f-$3q;};DayPilotScheduler.resizingShadow.style.width=($3t)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){var $3u;if($b.snapToGrid){$3u=Math.floor((($3q+$3s)+0)/$3o)*$3o;}else{$3u=$3q+$3s-$3r+$3r;};if($3u<$3r){$3u=$3r;};var $3t=$3p-($3u-$3q);var $z=$3q+$3p;if($3t<$3o){$3t=$3o;$3u=$z-$3t;};DayPilotScheduler.resizingShadow.style.left=$3u+'px';DayPilotScheduler.resizingShadow.style.width=($3t)+'px';}}else if(DayPilotScheduler.moving){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5L(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$5U();}else if(DayPilotScheduler.range){var $0w=DayPilotScheduler.range;$0w.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6H($0w);}else if($b.crosshairType!=='Disabled'){$b.$6Q();};var $3v=ev.insideEvent;if(window.event){$3v=window.event.srcElement.insideEvent;};if($b.cellBubble&&$b.coords&&$b.rows&&$b.rows.length>0&&!$3v){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.getRow($b.coords.y).i;if(y<$b.rows.length){var $N={};$N.calendar=$b;$N.start=$b.timeline[x].start;$N.end=$b.timeline[x].end;$N.resource=$b.rows[y].Value;$N.toJSON=function(){var $0B={};$0B.start=this.start;$0B.end=this.end;$0B.resource=this.resource;return $0B;};$b.cellBubble.showCell($N);}};if(DayPilotScheduler.drag){$b.$5Y();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$b.coords&&$b.rows.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $3w=new DayPilot.Date().getDatePart();var ev={'value':DayPilotScheduler.drag.id,'start':$3w,'end':$3w.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$b;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$b.$5L(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($b.autoScroll==="Always"||($b.autoScroll==="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $3x=$b.nav.scroll;var $0P={x:$b.coords.x,y:$b.coords.y};$0P.x-=$3x.scrollLeft;$0P.y-=$3x.scrollTop;var $P=$3x.clientWidth;var $D=$3x.clientHeight;var $1t=20;var $y=$0P.x<$1t;var $z=$P-$0P.x<$1t;var top=$0P.y<$1t;var $0T=$D-$0P.y<$1t;var x=0;var y=0;if($y){x=-5;};if($z){x=5;};if(top){y=-5;};if($0T){y=5;};if(x||y){$b.$6R(x,y);}else{$b.$5Z();}}};this.$6Q=function(){if($b.coords&&$b.rows&&$b.rows.length>0){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.getRow($b.coords.y).i;if(y<$b.rows.length){$b.$6S(x,y);}}};this.$5Y=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.crosshairLastX=-1;this.crosshairLastY=-1;};this.$6S=function(x,y){var $0c=this.crosshairType;var $q=this.getRowByIndex(y);if($0c==='Full'){var $y=x*this.cellWidth;var $O=this.crosshairVertical;if(!$O){var $O=document.createElement("div");$O.style.width=this.cellWidth+'px';$O.style.height=$b.innerHeightTree+'px';$O.style.position='absolute';$O.style.top='0px';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$O;this.divCrosshair.appendChild($O);};$O.style.left=$y+'px';var top=$q.top;var $D=$q.height;var $P=this.$4F()*this.cellWidth;var $O=this.crosshairHorizontal;if(!$O){var $O=document.createElement("div");$O.style.width=$P+'px';$O.style.height=$D+'px';$O.style.position='absolute';$O.style.top=top+'px';$O.style.left='0px';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$O;this.divCrosshair.appendChild($O);};$O.style.top=top+'px';$O.style.height=$D+'px';};if(this.crosshairLastX!==x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $O=document.createElement("div");$O.style.width=this.cellWidth+"px";$O.style.height=this.headerHeight+"px";$O.style.left='0px';$O.style.top='0px';$O.style.position='absolute';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$O;var $38=this.divNorth;var $3y=this.timeHeader?this.timeHeader.length-1:1;if($38.firstChild.rows[$3y].cells[x]){$38.firstChild.rows[$3y].cells[x].firstChild.appendChild($O);}};if(this.crosshairLastY!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $0K=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];for(var i=0;i<this.divHeader.rows[$q.i].cells.length;i++){var $P=this.divHeader.rows[$q.i].cells[i].clientWidth;var $O=document.createElement("div");$O.style.width=$P+"px";$O.style.height=$q.height+"px";$O.style.left='0px';$O.style.top='0px';$O.style.position='absolute';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($O);this.divHeader.rows[$q.i].cells[i].firstChild.appendChild($O);}};this.crosshairLastX=x;this.crosshairLastY=y;};this.$6m=function(ev){ev=ev||window.event;if($b.timeRangeSelectedHandling==='Disabled'){return false;};if(!$b.$6P($b.coords)){$b.$6T(ev);};if($b.contextMenuSelection){var $3z=$b.$6I(DayPilotScheduler.rangeHold);$b.contextMenuSelection.show($3z);};ev.cancelBubble=true;if(!$b.allowDefaultContextMenu){return false;}};this.$6P=function($0P){var $0w=DayPilotScheduler.rangeHold;if(!$0w||!$0w.start||!$0w.end){return false;};var $q=this.getRowByIndex($0w.start.y);var $3A=$0w.start.x<$0w.end.x;var $3B=($3A?$0w.start.x:$0w.end.x)*this.cellWidth;var $3C=($3A?$0w.end.x:$0w.start.x)*this.cellWidth+this.cellWidth;var $3D=$q.top;var $3E=$q.bottom;if($0P.x>=$3B&&$0P.x<=$3C&&$0P.y>=$3D&&$0P.y<=$3E){return true;};return false;};this.$6H=function($0w){var $0w=$0w||DayPilotScheduler.range;var $32=$0w.end.x>$0w.start.x?$0w.start.x:$0w.end.x;var $33=($0w.end.x>$0w.start.x?$0w.end.x:$0w.start.x)+1;this.$4B();for(var x=$32;x<$33;x++){this.$6U(x,$0w.start.y);}};this.$6T=function(ev){if($b.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $2R=ev.which||ev.button;if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$b.$6P($b.coords)&&($2R===3||$2R===2)){return;};var $0w={};$0w.start={y:$b.getRow($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0w.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6H($0w);var $2T=$b.$6I($0w);$b.$5s($2T.start,$2T.end,$2T.resource);DayPilotScheduler.rangeHold=$0w;};this.$6s=function(ev){if($b.dynamicLoading){$b.$6V();return;};var $3F=$b.nav.scroll;$b.scrollPos=$3F.scrollLeft;$b.scrollTop=$3F.scrollTop;$b.scrollWidth=$3F.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};$b.refreshTimeout=window.setTimeout($b.$6W(),50);$b.onScrollCalled=true;};this.show=function(){$b.nav.top.style.display='';var f=$b.$6W();f();};this.hide=function(){$b.nav.top.style.display='none';};this.$6V=function(){var $3F=$b.nav.scroll;$b.scrollPos=$3F.scrollLeft;$b.scrollTop=$3F.scrollTop;$b.scrollWidth=$3F.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};var $u=$b.scrollDelay||500;$b.refreshTimeout=window.setTimeout($b.$6X($3F.scrollLeft,$3F.scrollTop),$u);};this.$6X=function(scrollX,scrollY){if($b.$4E()){return function(){if(typeof $b.onScroll==='function'){$b.$4x();var $3G=function($0i){var $h=$b.$4m($0i,true);$b.$4A($h,true);$b.$4x();$b.$4t();};var $0D=$b.getArea(scrollX,scrollY);var $0w=$b.getAreaRange($0D);var $0E=$b.getAreaResources($0D);var $n={};$n.viewport={};$n.viewport.start=$0w.start;$n.viewport.end=$0w.end;$n.viewport.resources=$0E;$n.async=false;$n.events=[];$n.loaded=function(){if(this.async){$3G(this.events);}};$b.onScroll($n);if(!$n.async){$3G($0i);}}};}else{return function(){$b.scrollX=scrollX;$b.scrollY=scrollY;$b.$4U('Scroll');};}};this.$6W=function(){return function(){$b.$4C();$b.$4x();$b.refreshTimeout=window.setTimeout($b.$6Y(),200);};};this.$6Y=function(){var $0r=true;var $3H=$b.dynamicEventRenderingCacheSweeping;var $3I=$b.dynamicEventRenderingCacheSize;return function(){if($b.$6y()){$b.$5E();window.setTimeout(function(){if($3H)$b.$6w($3I);window.setTimeout(function(){$b.$4z($0r);},50);},50);}};};this.$6Z=function(){var $0D=this.$70();var $3J=$0D.xStart;var $3K=$0D.xEnd-$0D.xStart;var $3L=$0D.yStart;var $3M=$0D.yEnd-$0D.yStart;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];}};this.elements.cells=[];this.elements.linesVertical=[];for(var i=0;i<$3K;i++){var x=$3J+i;for(var j=0;j<$3M;j++){var y=$3L+j;if(!this.rows[y].Hidden){this.$71(x,y);}};this.$72(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$73(y);}}};this.$4x=function(){if(this.rows!==null&&this.rows.length>0){var $3N=typeof this.onBeforeCellRender==='function';if(this.dirtyColors||this.hasChildren||$3N){this.$6Z();}else{this.$74();};this.$75();};var $P=this.$4F()*this.cellWidth;this.maind.style.height=this.innerHeightTree+"px";this.maind.style.width=$P+"px";this.rowsDirty=false;};this.$75=function(){this.elements.cells=[];var $0D=this.$70();for(var x=$0D.xStart;x<$0D.xEnd;x++){var $3O=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;if($3O){this.$76(x);}}};this.$76=function(x){var $0U="x"+x;if(this.cache.breaks[$0U]){return;};var $y=x*this.cellWidth+this.cellWidth-1;var $D=this.innerHeightTree;var $O=document.createElement("div");$O.style.left=$y+"px";$O.style.top="0px";$O.style.width="1px";$O.style.height=$D+"px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4I("_matrix_vertical_break");}else{$O.style.backgroundColor=this.timeBreakColor;};this.divBreaks.appendChild($O);this.elements.breaks.push($O);this.cache.breaks[$0U]='1';};this.$70=function(){var $3P=30;var $0D={};var $3Q=Math.floor(this.scrollPos/this.cellWidth);var $3R=Math.ceil(this.scrollWidth/this.cellWidth)+1;var $1m=this.$4F();var $I=$3Q-$3P;var end=$I+2*$3P+$3R;end=Math.min(end,$1m);$I=Math.max($I,0);var $3L=this.getRow(this.nav.scroll.scrollTop).i;var $3S=this.getRow(this.nav.scroll.scrollTop+this.nav.scroll.offsetHeight).i;if($3S<this.rows.length){$3S++;};var $3M=$3S-$3L;$0D.xStart=$I;$0D.xEnd=end;$0D.yStart=$3L;$0D.yEnd=$3S;return $0D;};this.$74=function(){var $0D=this.$70();var $I=$0D.xStart;var end=$0D.xEnd;this.elements.cells=[];this.elements.linesVertical=[];for(var x=$I;x<end;x++){this.$77(x);this.$72(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$73(y);}}};this.$73=function(y){var $0U="y"+y;if(this.cache.cells[$0U]){return;};var top=this.rows[y].Top+this.rows[y].Height-1;var $P=this.$4F()*this.cellWidth;var $O=document.createElement("div");$O.style.left="0px";$O.style.top=top+"px";$O.style.width=$P+"px";$O.style.height="1px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';if(!this.cssOnly){$O.style.backgroundColor=this.cellBorderColor;};$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4I("_matrix_horizontal_line");};this.divLines.appendChild($O);this.elements.cells.push($O);this.cache.cells[$0U]='1';};this.$72=function(x){var $0U="x"+x;if(this.cache.linesVertical[$0U]){return;};var $y=(x+1)*this.cellWidth-1;var $O=document.createElement("div");$O.style.left=$y+"px";$O.style.top="0px";$O.style.width="1px";$O.style.height=$b.innerHeightTree+"px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';if(!this.cssOnly){$O.style.backgroundColor=this.cellBorderColor;};$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4I("_matrix_vertical_line");};this.divLines.appendChild($O);this.elements.linesVertical.push($O);this.cache.linesVertical[$0U]='1';};this.$77=function(x){var $0U="x"+x;var $D=this.innerHeightTree;if(this.cache.cells[$0U]){return;};var $3l=this.$78(x,0);var $3O=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top="0px";$N.style.width=(this.cellWidth)+"px";$N.style.height=$D+"px";$N.style.position='absolute';$N.style.backgroundColor=$3l;$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4I('_cellcolumn'):this.$4I('cellbackground');$N.onclick=this.$6T;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0U]='1';};this.$65=function($0U){var $q=this.rows[$0U];var $3T=!$q.Expanded;this.rows[$0U].Expanded=$3T;var $0h=this.$79($0U,$q.Expanded);if(!$3T){for(var i=0;i<$0h.length;i++){var ri=$0h[i];this.$5l(ri);}};this.$4q();this.$4n();this.$4t();this.$4u();this.$4x();if($3T){for(var i=0;i<$0h.length;i++){var ri=$0h[i];this.$5m(ri);}};this.$5n();this.$4C();var r=this.$66($q,$0U);if($3T){this.$5z(r);}else{this.$5y(r);}};this.$64=function(i){var $08={};$08.index=i;if(typeof this.onLoadNode==='function'){var $n={};var $0v=this.rows[i].Resource;$n.resource=$0v;$n.async=false;$n.loaded=function(){if(this.async){$0v.dynamicChildren=false;$0v.expanded=true;$b.update();}};this.onLoadNode($n);if(!$n.async){$0v.dynamicChildren=false;$0v.expanded=true;this.update();}}else{this.$4U('LoadNode',$08);}};this.$79=function(i,$3U){var $q=this.rows[i];var $3V=[];if($q.Children===null||$q.Children.length===0){return $3V;};for(var k=0;k<$q.Children.length;k++){var $0U=$q.Children[k];this.rows[$0U].Hidden=$3U?!$q.Expanded:true;if($3U===!this.rows[$0U].Hidden){$3V.push($0U);};var $3W=this.$79($0U,$3U);if($3W.length>0){$3V=$3V.concat($3W);}};return $3V;};this.$6R=function($3X,$3Y){this.$5Z();this.$7a($3X,$3Y);};this.$7b=function($2s){if(!$2s){return false;};var $F=this.nav.scroll.scrollWidth;var $I=this.nav.scroll.scrollLeft;var $P=this.nav.scroll.clientWidth;var $z=$I+$P;if($2s<0&&$I<=0){return false;};if($2s>0&&$z>=$F){return false;};this.nav.scroll.scrollLeft+=$2s;return true;};this.$7c=function($2s){if(!$2s){return false;};var $F=this.nav.scroll.scrollHeight;var $I=this.nav.scroll.scrollTop;var $D=this.nav.scroll.clientHeight;var $0T=$I+$D;if($2s<0&&$I<=0){return false;};if($2s>0&&$0T>=$F){return false;};this.nav.scroll.scrollTop+=$2s;return true;};this.$7a=function($3X,$3Y){var $3Z=this.$7b($3X)||this.$7c($3Y);if(!$3Z){return;};var $40=function($3X,$3Y){return function(){$b.$7a($3X,$3Y);};};this.scrolling=window.setTimeout($40($3X,$3Y),100);};this.$5Z=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.$4q=function(){var top=0;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$q.Hidden){$q.Top=top;top+=$q.Height;}};this.innerHeightTree=top;};this.$4u=function(){this.elements.cells=[];this.elements.linesVertical=[];this.elements.breaks=[];this.cache.cells=[];this.cache.linesVertical=[];this.cache.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.$71=function(x,y){var $0U=x+'_'+y;if(this.cache.cells[$0U]){return;};if(typeof this.onBeforeCellRender==='function'){var $q=$b.rows[y];var $0v=$q.Value;var $19=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[x].start.addTime($19);var $N={};$N.resource=$0v;$N.start=$I;$N.end=$I.addMinutes(this.cellDuration);$N.cssClass=null;$N.html=null;$N.backImage=null;$N.backRepeat=null;$N.backColor=null;var $n={};$n.cell=$N;this.onBeforeCellRender($n);this.cellProperties[$0U]=$N;};var $3l=this.$78(x,y);var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth)+"px";$N.style.height=(this.rows[y].Height)+"px";$N.style.position='absolute';if($3l){$N.style.backgroundColor=$3l;};$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4I('_cell'):this.$4I('cellbackground');if(this.cssOnly&&this.$5T(y)){DayPilot.Util.addClass($N,this.$4I("_cellparent"));};if(this.cellProperties&&this.cellProperties[$0U]){var p=this.cellProperties[$0U];if(p.cssClass){if(this.cssOnly){DayPilot.Util.addClass($N,p.cssClass);}else{DayPilot.Util.addClass($N,$b.$4I(p.cssClass));}};if(p.html){$N.innerHTML=p.html;};if(p.backImage){$N.style.backgroundImage=p.backImage;};if(p.backRepeat){$N.style.backgroundRepeat=p.backRepeat;}};$N.onclick=this.$6T;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0U]='1';};this.$6U=function(x,y){var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth-1)+"px";$N.style.height=(this.rows[y].Height-1)+"px";$N.style.position='absolute';$N.style.backgroundColor=$b.cellSelectColor;$N.setAttribute("unselectable","on");this.divRange.appendChild($N);this.elements.range.push($N);};this.clearSelection=function(){this.$4B();};this.cleanSelection=this.clearSelection;this.$4B=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];DayPilotScheduler.rangeHold=null;};this.$6c={};var $0f=this.$6c;$0f.locale=function(){return DayPilot.Locale.find($b.locale);};$0f.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return $0f.locale().timeFormat;};$0f.weekStarts=function(){if($b.weekStarts==='Auto'){var $3c=$0f.locale();if($3c){return $3c.weekStarts;}else{return 0;}}else{return $b.weekStarts;}};$0f.rounded=function(){return $b.eventCorners==='Rounded';};$0f.layout=function(){var $41=/MSIE 6/i.test(navigator.userAgent);if($b.layout==='Auto'){if($41){return 'TableBased';}else{return 'DivBased';}};return $b.layout;};$0f.notifyType=function(){var $0c;if($b.notifyCommit==='Immediate'){$0c="Notify";}else if($b.notifyCommit==='Queue'){$0c="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $0c;};$0f.isResourcesView=function(){return $b.viewType!=='Days';};$0f.useBox=function($42){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $42<$b.cellDuration*60*1000;};this.$78=function(x,y){var $0U=x+'_'+y;if(this.cellProperties&&this.cellProperties[$0U]){return this.cellProperties[$0U].backColor;};return null;};this.isBusiness=function($N){if($N.start.dayOfWeek()===0||$N.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($N.start.getHours()<this.businessBeginsHour||$N.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.$4p=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.setHeight=function($p){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$p-(this.$4G()+2);this.$4t();};this.findRowByResourceId=function(id){for(var i=0;i<this.rows.length;i++){if(this.rows[i].Value===id){return this.rows[i];}};return null;};this.$7d=function(){this.$6o();this.$4k();this.$6b();this.resize();this.$6q();this.$5K();DayPilotScheduler.register(this);this.$4g(null,false);this.$6r();this.$4D();this.$4U('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $43=this.$5N();var $44=this.events.list!==null;if($43){this.$7d();return;};this.$6o();this.$4h();this.$4i();this.$4k();this.$4l();this.$6b();this.resize();this.$4j();this.$4o();this.$5E();if($44){this.$4m();}else{this.events.list=[];};this.$4q();this.$4n();this.$4t();this.$4y();this.$4p();this.$6q();this.$5K();DayPilotScheduler.register(this);this.$4g(null,false);this.$6r();this.$4f();if($b.scrollToDate){$b.scrollTo($b.scrollToDate);}else{$b.setScroll($b.scrollX,$b.scrollY);};if(!$b.onScrollCalled){$b.$6s();};var $45=function(){if($b.scrollY){$b.setScroll($b.scrollX,$b.scrollY);}};window.setTimeout($45,200);if(this.messageHTML){var $46=function($0Y){return function(){$b.message($0Y);};};window.setTimeout($46(this.messageHTML),100);};this.$4D();};this.internal={};this.internal.invokeEvent=this.$53;this.internal.eventMenuClick=this.$5r;this.internal.timeRangeMenuClick=this.$5u;this.internal.resourceHeaderMenuClick=this.$5v;this.internal.bubbleCallBack=this.$5p;this.internal.findEventDiv=this.$6D;this.Init=this.init;};DayPilotScheduler.moving=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.timeRangeTimeout=null;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$11,id,$1v,$0c){DayPilot.us(element);var $47=DayPilotScheduler.drag={};$47.element=element;$47.duration=$11;$47.text=$1v;$47.id=id;$47.shadowType=$0c?$0c:'Fill';return false;};DayPilotScheduler.dragStop=function(){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.drag=null;};DayPilotScheduler.register=function($b){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$b){return;}};DayPilotScheduler.registered.push($b);};DayPilotScheduler.unregister=function($b){var a=DayPilotScheduler.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.ue(window,'unload',DayPilotScheduler.gUnload);DayPilotScheduler.globalHandlers=false;}};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $3n=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $0Q=DayPilotScheduler.gShadow;$0Q.style.left=$3n.x+'px';$0Q.style.top=$3n.y+'px';DayPilotScheduler.moving=null;if(DayPilotScheduler.movingShadow){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $48=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($48.shadow);};var $0Q=DayPilotScheduler.gShadow;$0Q.style.left=$3n.x+'px';$0Q.style.top=$3n.y+'px';DayPilotScheduler.drag={};var $47=DayPilotScheduler.drag;$47.element=null;$47.duration=(ev.end().getTime()-ev.start().getTime())/1000;$47.text=ev.text();$47.id=ev.value();$47.shadowType=$48.shadow;$47.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].$6j){DayPilotScheduler.registered[i].$6j();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];c.dispose();DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){document.body.style.cursor='default';DayPilotScheduler.resizing=null;return;};var e=DayPilotScheduler.resizing.event;var $b=e.calendar;var $49=DayPilotScheduler.resizingShadow.clientWidth;var $4a=DayPilotScheduler.resizingShadow.offsetLeft;var $1t=DayPilotScheduler.resizing.dpBorder;var $q=$b.rows[DayPilotScheduler.resizing.event.part.dayIndex];var $19=$q.Start.getTime()-$b.startDate.getTime();var $0a=null;var $0b=null;if($1t==='left'){$0a=$b.getDate($4a).addTime($19);$0b=e.end();}else if($1t==='right'){$0a=e.start();$0b=$b.getDate($4a+$49,false,true).addTime($19);};DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;DayPilotScheduler.resizingShadow=null;document.body.style.cursor='default';$b.$54(e,$0a,$0b);}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow){document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var e=DayPilotScheduler.moving.event;var $b=DayPilotScheduler.moving.target;if(!$b){DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var $0a=DayPilotScheduler.movingShadow.start;var $0b=DayPilotScheduler.movingShadow.end;var $0d=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;var $O=DayPilotScheduler.movingShadow.line;if(DayPilotScheduler.drag){if(!$b.todo){$b.todo={};};$b.todo.del=DayPilotScheduler.drag.element;DayPilotScheduler.drag=null;};DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;var ev=ev||window.event;$b.$5o(e,$0a,$0b,$0d,external,ev,$O);}else if(DayPilotScheduler.range){ev=ev||window.event;var $2R=ev.which||ev.button;var $0w=DayPilotScheduler.range;var $b=$0w.calendar;if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;$b.$6n(ev);return;};DayPilotScheduler.rangeHold=$0w;DayPilotScheduler.range=null;var $40=function($2T){return function(){DayPilotScheduler.timeRangeTimeout=null;$b.$5s($2T.start,$2T.end,$2T.resource);if($b.timeRangeSelectedHandling!=="Hold"&&$b.timeRangeSelectedHandling!=="HoldForever"){$a();}else{DayPilotScheduler.rangeHold=$0w;}};};var $2T=$b.$6I($0w);if($2R!==1){DayPilotScheduler.timeRangeTimeout=null;return;};if($b.timeRangeDoubleClickHandling==='Disabled'){$40($2T)();var ev=ev||window.event;ev.cancelBubble=true;return false;}else{DayPilotScheduler.timeRangeTimeout=setTimeout($40($2T),300);}};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor=null;};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createGShadow=function($0c){var $0Q=document.createElement('div');$0Q.setAttribute('unselectable','on');$0Q.style.position='absolute';$0Q.style.width='100px';$0Q.style.height='20px';$0Q.style.border='2px dotted #666666';$0Q.style.zIndex=101;if($0c==='Fill'){$0Q.style.backgroundColor="#aaaaaa";$0Q.style.opacity=0.5;$0Q.style.filter="alpha(opacity=50)";$0Q.style.border='2px solid #aaaaaa';};document.body.appendChild($0Q);return $0Q;};DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($4b){var $4c=null;var j=this.each(function(){if(this.daypilot){return;};var $4d=new DayPilot.Scheduler(this.id);this.daypilot=$4d;for(var name in $4b){$4d[name]=$4b[name];};$4d.Init();if(!$4c){$4c=$4d;}});if(this.length===1){return $4c;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

